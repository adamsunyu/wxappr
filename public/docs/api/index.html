<html lang="">
    <head>
        <title>微信小程序开发文档(v20161107)</title>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.0">
        <link rel="stylesheet" href="../gitbook/style.css%3Ft=20161107.css">
        <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css%3Ft=20161107.css">
        <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css%3Ft=20161107.css">
        <meta name="HandheldFriendly" content="true">
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png%3Ft=20161107">
        <link rel="shortcut icon" href="../gitbook/images/favicon.ico%3Ft=20161107" type="image/x-icon">
        <script>
        var _hmt = _hmt || [];
        (function() {
          var hm = document.createElement("script");
          hm.src = "//hm.baidu.com/hm.js?cc33b5729183b3ecfeec291cb2f3a91b";
          var s = document.getElementsByTagName("script")[0];
          s.parentNode.insertBefore(hm, s);
        })();
        </script>
    </head>
    <body>
    <div class="book with-summary with-header">
       <div class="head">
            <div class="head_box">
                <h1 class="logo"><a href="javascript:;?t=20161107" title="_('微信公众平台 小程序')"></a></h1>
                <div class="header_ctrls">
                    <ul class="top_nav">
                        <li class="top_nav_item" id="js_selected_intro">
                            <a href="https://www.wxappr.com/">返回社区</a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
<div class="book-summary" style="position:fixed;height:auto;width:auto;padding-top:0px;">
    <nav role="navigation">

        <ul class="summary">
            <li class="chapter" data-level="1.1.1" data-path="./" data-name="简易教程">
                <a href="#index.html?t=20161107">简易教程</a>
            </li>
            <li class="chapter" data-level="1.1.2" data-path="demo.html" data-name="体验小程序">
                <a href="#demo.html?t=20161107">体验小程序</a>
            </li>
        </ul>

        <ul class="summary">

            <li class="chapter  " data-level="1.2" data-path="MINA.html" data-name="框架">
                <a href="#framework/MINA.html?t=20161107">框架</a>
            </li>

            <li class="chapter  " data-level="1.2.1" data-path="structure.html" data-name="目录结构">
                    <a href="#framework/structure.html?t=20161107">
                        目录结构
                    </a>
            </li>

            <li class="chapter  " data-level="1.2.2" data-path="config.html" data-name="配置">
                    <a href="#framework/config.html?t=20161107">
                        配置
                    </a>
            </li>

            <li class="chapter  open" data-level="1.2.3" data-path="app-service/" data-name="逻辑层">
                    <a href="#framework/app-service/index.html?t=20161107">
                        逻辑层
                    </a>
                <ul class="articles">
                    <li class="chapter  " data-level="1.2.3.1" data-path="app-service/app.html" data-name="注册程序">
                            <a href="#framework/app-service/app.html?t=20161107">
                                注册程序
                            </a>
                    </li>
                    <li class="chapter  " data-level="1.2.3.2" data-path="app-service/page.html" data-name="注册页面">
                            <a href="#framework/app-service/page.html?t=20161107">
                                注册页面
                            </a>
                    </li>
                    <li class="chapter  " data-level="1.2.3.3" data-path="app-service/module.html" data-name="模块化">
                            <a href="#framework/app-service/module.html?t=20161107">
                                模块化
                            </a>
                    </li>
                    <li class="chapter  " data-level="1.2.3.4" data-path="app-service/api.html" data-name="API">
                            <a href="#framework/app-service/api.html?t=20161107">
                                API
                            </a>
                    </li>
                </ul>
            </li>

            <li class="chapter  open" data-level="1.2.4" data-path="view/" data-name="视图层">
                    <a href="#framework/view/index.html?t=20161107">
                        视图层
                    </a>
                    <ul class="articles">
                        <li class="chapter  " data-level="1.2.4.1" data-path="view/wxml/" data-name="WXML">
                                <a href="#framework/view/wxml/index.html?t=20161107">
                                    WXML
                                </a>
                            <ul class="articles">
                                <li class="chapter  " data-level="1.2.4.1.1" data-path="view/wxml/data.html" data-name="数据绑定">
                                        <a href="#framework/view/wxml/data.html?t=20161107">
                                            数据绑定
                                        </a>
                                </li>
                                <li class="chapter  " data-level="1.2.4.1.2" data-path="view/wxml/conditional.html" data-name="条件渲染">
                                        <a href="#framework/view/wxml/conditional.html?t=20161107">
                                            条件渲染
                                        </a>
                                </li>
                                <li class="chapter  " data-level="1.2.4.1.3" data-path="view/wxml/list.html" data-name="列表渲染">
                                        <a href="#framework/view/wxml/list.html?t=20161107">
                                            列表渲染
                                        </a>
                                </li>
                                <li class="chapter  " data-level="1.2.4.1.4" data-path="view/wxml/template.html" data-name="模板">
                                        <a href="#framework/view/wxml/template.html?t=20161107">
                                            模板
                                        </a>
                                </li>
                                <li class="chapter  " data-level="1.2.4.1.5" data-path="view/wxml/event.html" data-name="事件">
                                        <a href="#framework/view/wxml/event.html?t=20161107">
                                            事件
                                        </a>
                                </li>
                                <li class="chapter  " data-level="1.2.4.1.6" data-path="view/wxml/import.html" data-name="引用">
                                        <a href="#framework/view/wxml/import.html?t=20161107">
                                            引用
                                        </a>
                                </li>
                            </ul>
                        </li>
                    </ul>
                </li>

                <li class="chapter  " data-level="1.2.4.2" data-path="view/wxss.html" data-name="WXSS">
                        <a href="#framework/view/wxss.html?t=20161107">
                            WXSS
                        </a>
                </li>
                <li class="chapter  " data-level="1.2.4.3" data-path="view/component.html" data-name="组件">
                        <a href="#framework/view/component.html?t=20161107">
                            组件
                        </a>
                </li>
        </ul>

        <ul class="summary">

            <li class="chapter  " data-level="1.3" data-path="index.html" data-name="组件">
                <a href="#component/index.html?t=20161107">组件</a>
            </li>

            <li class="chapter  open" data-level="1.3.1" data-path="view.html" data-name="视图容器">
                    <a href="#component/view.html?t=20161107">
                        视图容器
                    </a>
                <ul class="articles">
            <li class="chapter  " data-level="1.3.1.1" data-path="view.html" data-name="view">
                    <a href="#component/view.html?t=20161107">
                        view
                    </a>
            </li>
            <li class="chapter  " data-level="1.3.1.2" data-path="scroll-view.html" data-name="scroll-view">
                    <a href="#component/scroll-view.html?t=20161107">
                        scroll-view
                    </a>
            </li>
            <li class="chapter  " data-level="1.3.1.3" data-path="swiper.html" data-name="swiper">
                    <a href="#component/swiper.html?t=20161107">
                        swiper
                    </a>
            </li>
                </ul>
            </li>
            <li class="chapter  open" data-level="1.3.2" data-path="icon.html" data-name="基础内容">
                    <a href="#component/icon.html?t=20161107">
                        基础内容
                    </a>
                <ul class="articles">
            <li class="chapter  " data-level="1.3.2.1" data-path="icon.html" data-name="icon">
                    <a href="#component/icon.html?t=20161107">
                        icon
                    </a>
            </li>
            <li class="chapter  " data-level="1.3.2.2" data-path="text.html" data-name="text">
                    <a href="#component/text.html?t=20161107">
                        text
                    </a>
            </li>
            <li class="chapter  " data-level="1.3.2.3" data-path="progress.html" data-name="progress">
                    <a href="#component/progress.html?t=20161107">
                        progress
                    </a>
            </li>
                </ul>
            </li>
            <li class="chapter  open" data-level="1.3.3" data-path="button.html" data-name="表单组件">
                    <a href="#component/button.html?t=20161107">
                        表单组件
                    </a>
                <ul class="articles">
            <li class="chapter  " data-level="1.3.3.1" data-path="button.html" data-name="button">
                    <a href="#component/button.html?t=20161107">
                        button
                    </a>
            </li>
            <li class="chapter  " data-level="1.3.3.2" data-path="checkbox.html" data-name="checkbox">
                    <a href="#component/checkbox.html?t=20161107">
                        checkbox
                    </a>
            </li>
            <li class="chapter  " data-level="1.3.3.3" data-path="form.html" data-name="form">
                    <a href="#component/form.html?t=20161107">
                        form
                    </a>
            </li>
            <li class="chapter  " data-level="1.3.3.4" data-path="input.html" data-name="input">
                    <a href="#component/input.html?t=20161107">
                        input
                    </a>
            </li>
            <li class="chapter  " data-level="1.3.3.5" data-path="label.html" data-name="label">
                    <a href="#component/label.html?t=20161107">
                        label
                    </a>
            </li>
            <li class="chapter  " data-level="1.3.3.6" data-path="picker.html" data-name="picker">
                    <a href="#component/picker.html?t=20161107">
                        picker
                    </a>
            </li>
            <li class="chapter  " data-level="1.3.3.7" data-path="radio.html" data-name="radio">
                    <a href="#component/radio.html?t=20161107">
                        radio
                    </a>
            </li>
            <li class="chapter  " data-level="1.3.3.8" data-path="slider.html" data-name="slider">
                    <a href="#component/slider.html?t=20161107">
                        slider
                    </a>
            </li>
            <li class="chapter  " data-level="1.3.3.9" data-path="switch.html" data-name="switch">
                    <a href="#component/switch.html?t=20161107">
                        switch
                    </a>
            </li>
            <li class="chapter  " data-level="1.3.3.10" data-path="textarea.html" data-name="textarea">
                    <a href="#component/textarea.html?t=20161107">
                        textarea
                    </a>
            </li>
                </ul>
            </li>
            <li class="chapter  open" data-level="1.3.4" data-path="action-sheet.html" data-name="操作反馈">
                    <a href="#component/action-sheet.html?t=20161107">
                        操作反馈
                    </a>
                <ul class="articles">
            <li class="chapter  " data-level="1.3.4.1" data-path="action-sheet.html" data-name="action-sheet">
                    <a href="#component/action-sheet.html?t=20161107">
                        action-sheet
                    </a>
            </li>
            <li class="chapter  " data-level="1.3.4.2" data-path="modal.html" data-name="modal">
                    <a href="#component/modal.html?t=20161107">
                        modal
                    </a>
            </li>
            <li class="chapter  " data-level="1.3.4.3" data-path="toast.html" data-name="toast">
                    <a href="#component/toast.html?t=20161107">
                        toast
                    </a>
            </li>
            <li class="chapter  " data-level="1.3.4.4" data-path="loading.html" data-name="loading">
                    <a href="#component/loading.html?t=20161107">
                        loading
                    </a>
            </li>
                </ul>
            </li>
            <li class="chapter  open" data-level="1.3.5" data-path="navigator.html" data-name="导航">
                    <a href="#component/navigator.html?t=20161107">
                        导航
                    </a>
                <ul class="articles">
            <li class="chapter  " data-level="1.3.5.1" data-path="navigator.html" data-name="navigator">
                    <a href="#component/navigator.html?t=20161107">
                        navigator
                    </a>
            </li>
                </ul>
            </li>
            <li class="chapter  open" data-level="1.3.6" data-path="audio.html" data-name="媒体组件">
                    <a href="#component/audio.html?t=20161107">
                        媒体组件
                    </a>
                <ul class="articles">
            <li class="chapter  " data-level="1.3.6.1" data-path="audio.html" data-name="audio">
                    <a href="#component/audio.html?t=20161107#audio">
                        audio
                    </a>
            </li>
            <li class="chapter  " data-level="1.3.6.2" data-path="image.html" data-name="image">
                    <a href="#component/image.html?t=20161107">
                        image
                    </a>
            </li>
            <li class="chapter  " data-level="1.3.6.3" data-path="video.html" data-name="video">
                    <a href="#component/video.html?t=20161107">
                        video
                    </a>
            </li>
                </ul>
            </li>
            <li class="chapter  open" data-level="1.3.7" data-path="map.html" data-name="地图">
                    <a href="#component/map.html?t=20161107">
                        地图
                    </a>
                <ul class="articles">
            <li class="chapter  " data-level="1.3.7.1" data-path="map.html" data-name="map">
                    <a href="#component/map.html?t=20161107#map">
                        map
                    </a>
            </li>
                </ul>
            </li>
            <li class="chapter  open" data-level="1.3.8" data-path="canvas.html" data-name="画布">
                    <a href="#component/canvas.html?t=20161107">
                        画布
                    </a>
                <ul class="articles">
            <li class="chapter  " data-level="1.3.8.1" data-path="canvas.html" data-name="canvas">
                    <a href="#component/canvas.html?t=20161107#canvas">
                        canvas
                    </a>
            </li>
                </ul>
            </li>
        </ul>

        <ul class="summary">

            <li class="chapter  " data-level="1.4" data-path="index.html" data-name="API">
                <a href="#api/index.html?t=20161107">API</a>
            </li>

            <li class="chapter" data-level="1.4.1" data-path="api-network.html" data-name="网络">
                    <a href="#api/api-network.html?t=20161107">
                        网络
                    </a>
                <ul class="articles">
            <li class="chapter  " data-level="1.4.1.1" data-path="network-request.html" data-name="发起请求">
                    <a href="#api/network-request.html?t=20161107">
                        发起请求
                    </a>
            </li>
            <li class="chapter  " data-level="1.4.1.2" data-path="network-file.html" data-name="上传、下载">
                    <a href="#api/network-file.html?t=20161107">
                        上传、下载
                    </a>
                <ul class="articles">
            <li class="chapter  " data-level="1.4.1.2.1" data-path="network-file.html" data-name="wx.uploadFile">
                    <a href="#api/network-file.html?t=20161107#wxuploadfileobject">
                        wx.uploadFile
                    </a>
            </li>
            <li class="chapter  " data-level="1.4.1.2.2" data-path="network-file.html" data-name="wx.downloadFile">
                    <a href="#api/network-file.html?t=20161107#wxdownloadfileobject">
                        wx.downloadFile
                    </a>
            </li>
                </ul>
            </li>
            <li class="chapter  " data-level="1.4.1.3" data-path="network-socket.html" data-name="WebSocket">
                    <a href="#api/network-socket.html?t=20161107">
                        WebSocket
                    </a>
                <ul class="articles">
            <li class="chapter  " data-level="1.4.1.3.1" data-path="network-socket.html" data-name="wx.connectSocket">
                    <a href="#api/network-socket.html?t=20161107#wxconnectsocketobject">
                        wx.connectSocket
                    </a>
            </li>
            <li class="chapter  " data-level="1.4.1.3.2" data-path="network-socket.html" data-name="wx.onSocketOpen">
                    <a href="#api/network-socket.html?t=20161107#wxonsocketopencallback">
                        wx.onSocketOpen
                    </a>
            </li>
            <li class="chapter  " data-level="1.4.1.3.3" data-path="network-socket.html" data-name="wx.onSocketError">
                    <a href="#api/network-socket.html?t=20161107#wxonsocketerrorcallback">
                        wx.onSocketError
                    </a>
            </li>
            <li class="chapter  " data-level="1.4.1.3.4" data-path="network-socket.html" data-name="wx.sendSocketMessage">
                    <a href="#api/network-socket.html?t=20161107#wxsendsocketmessageobject">
                        wx.sendSocketMessage
                    </a>
            </li>
            <li class="chapter  " data-level="1.4.1.3.5" data-path="network-socket.html" data-name="wx.onSocketMessage">
                    <a href="#api/network-socket.html?t=20161107#wxonsocketmessagecallback">
                        wx.onSocketMessage
                    </a>
            </li>
            <li class="chapter  " data-level="1.4.1.3.6" data-path="network-socket.html" data-name="wx.closeSocket">
                    <a href="#api/network-socket.html?t=20161107#wxclosesocket">
                        wx.closeSocket
                    </a>
            </li>
            <li class="chapter  " data-level="1.4.1.3.7" data-path="network-socket.html" data-name="wx.onSocketClose">
                    <a href="#api/network-socket.html?t=20161107#wxonsocketclosecallback">
                        wx.onSocketClose
                    </a>
            </li>
                </ul>
            </li>
                </ul>
            </li>
            <li class="chapter" data-level="1.4.2" data-path="media-picture.html" data-name="媒体">
                    <a href="#api/media-picture.html?t=20161107">
                        媒体
                    </a>
                <ul class="articles">
            <li class="chapter  " data-level="1.4.2.1" data-path="media-picture.html" data-name="图片">
                    <a href="#api/media-picture.html?t=20161107">
                        图片
                    </a>
                <ul class="articles">
            <li class="chapter  " data-level="1.4.2.1.1" data-path="media-picture.html" data-name="wx.chooseImage">
                    <a href="#api/media-picture.html?t=20161107#wxchooseimageobject">
                        wx.chooseImage
                    </a>
            </li>
            <li class="chapter  " data-level="1.4.2.1.2" data-path="media-picture.html" data-name="wx.previewImage">
                    <a href="#api/media-picture.html?t=20161107#wxpreviewimageobject">
                        wx.previewImage
                    </a>
            </li>
            <li class="chapter  " data-level="1.4.2.1.3" data-path="media-picture.html" data-name="wx.getImageInfo">
                    <a href="#api/media-picture.html?t=20161107#wxgetimageinfoobject">
                        wx.getImageInfo
                    </a>
            </li>
                </ul>
            </li>
            <li class="chapter  " data-level="1.4.2.2" data-path="media-record.html" data-name="录音">
                    <a href="#api/media-record.html?t=20161107">
                        录音
                    </a>
                <ul class="articles">
            <li class="chapter  " data-level="1.4.2.2.1" data-path="media-record.html" data-name="wx.startRecord">
                    <a href="#api/media-record.html?t=20161107#wxstartrecordobject">
                        wx.startRecord
                    </a>
            </li>
            <li class="chapter  " data-level="1.4.2.2.2" data-path="media-record.html" data-name="wx.stopRecord">
                    <a href="#api/media-record.html?t=20161107#wxstoprecord">
                        wx.stopRecord
                    </a>
            </li>
                </ul>
            </li>
            <li class="chapter  " data-level="1.4.2.3" data-path="media-voice.html" data-name="音频播放控制">
                    <a href="#api/media-voice.html?t=20161107">
                        音频播放控制
                    </a>
                <ul class="articles">
            <li class="chapter  " data-level="1.4.2.3.1" data-path="media-voice.html" data-name="wx.playVoice">
                    <a href="#api/media-voice.html?t=20161107#wxplayvoiceobject">
                        wx.playVoice
                    </a>
            </li>
            <li class="chapter  " data-level="1.4.2.3.2" data-path="media-voice.html" data-name="wx.pauseVoice">
                    <a href="#api/media-voice.html?t=20161107#wxpausevoice">
                        wx.pauseVoice
                    </a>
            </li>
            <li class="chapter  " data-level="1.4.2.3.3" data-path="media-voice.html" data-name="wx.stopVoice">
                    <a href="#api/media-voice.html?t=20161107#wxstopvoice">
                        wx.stopVoice
                    </a>
            </li>
                </ul>
            </li>
            <li class="chapter  " data-level="1.4.2.4" data-path="media-background-audio.html" data-name="音乐播放控制">
                    <a href="#api/media-background-audio.html?t=20161107">
                        音乐播放控制
                    </a>
                <ul class="articles">
            <li class="chapter  " data-level="1.4.2.4.1" data-path="media-background-audio.html" data-name="wx.getBackgroundAudioPlayerState">
                    <a href="#api/media-background-audio.html?t=20161107#wxgetbackgroundaudioplayerstateobject">
                        wx.getBackgroundAudioPlayerState
                    </a>
            </li>
            <li class="chapter  " data-level="1.4.2.4.2" data-path="media-background-audio.html" data-name="wx.playBackgroundAudio">
                    <a href="#api/media-background-audio.html?t=20161107#wxplaybackgroundaudioobject">
                        wx.playBackgroundAudio
                    </a>
            </li>
            <li class="chapter  " data-level="1.4.2.4.3" data-path="media-background-audio.html" data-name="wx.pauseBackgroundAudio">
                    <a href="#api/media-background-audio.html?t=20161107#wxpausebackgroundaudio">
                        wx.pauseBackgroundAudio
                    </a>
            </li>
            <li class="chapter  " data-level="1.4.2.4.4" data-path="media-background-audio.html" data-name="wx.seekBackgroundAudio">
                    <a href="#api/media-background-audio.html?t=20161107#wxseekbackgroundaudioobject">
                        wx.seekBackgroundAudio
                    </a>
            </li>
            <li class="chapter  " data-level="1.4.2.4.5" data-path="media-background-audio.html" data-name="wx.stopBackgroundAudio">
                    <a href="#api/media-background-audio.html?t=20161107#wxstopbackgroundaudio">
                        wx.stopBackgroundAudio
                    </a>
            </li>
            <li class="chapter  " data-level="1.4.2.4.6" data-path="media-background-audio.html" data-name="wx.onBackgroundAudioPlay">
                    <a href="#api/media-background-audio.html?t=20161107#wxonbackgroundaudioplaycallback">
                        wx.onBackgroundAudioPlay
                    </a>
            </li>
            <li class="chapter  " data-level="1.4.2.4.7" data-path="media-background-audio.html" data-name="wx.onBackgroundAudioPause">
                    <a href="#api/media-background-audio.html?t=20161107#wxonbackgroundaudiopausecallback">
                        wx.onBackgroundAudioPause
                    </a>
            </li>
            <li class="chapter  " data-level="1.4.2.4.8" data-path="media-background-audio.html" data-name="wx.onBackgroundAudioStop">
                    <a href="#api/media-background-audio.html?t=20161107#wxonbackgroundaudiostopcallback">
                        wx.onBackgroundAudioStop
                    </a>
            </li>
                </ul>
            </li>
            <li class="chapter  " data-level="1.4.2.5" data-path="file.html" data-name="文件">
                    <a href="#api/file.html?t=20161107">
                        文件
                    </a>
                <ul class="articles">
            <li class="chapter  " data-level="1.4.2.5.1" data-path="file.html" data-name="wx.saveFile">
                    <a href="#api/file.html?t=20161107#wxsavefileobject">
                        wx.saveFile
                    </a>
            </li>
            <li class="chapter  " data-level="1.4.2.5.2" data-path="file.html" data-name="wx.getSavedFileList">
                    <a href="#api/file.html?t=20161107#wxgetsavedfilelistobject">
                        wx.getSavedFileList
                    </a>
            </li>
            <li class="chapter  " data-level="1.4.2.5.3" data-path="file.html" data-name="wx.getSavedFileInfo">
                    <a href="#api/file.html?t=20161107#wxgetsavedfileinfoobject">
                        wx.getSavedFileInfo
                    </a>
            </li>
            <li class="chapter  " data-level="1.4.2.5.4" data-path="file.html" data-name="wx.removeSavedFile">
                    <a href="#api/file.html?t=20161107#wxremovesavedfileobject">
                        wx.removeSavedFile
                    </a>
            </li>
                </ul>
            </li>
            <li class="chapter  " data-level="1.4.2.6" data-path="media-video.html" data-name="视频">
                    <a href="#api/media-video.html?t=20161107">
                        视频
                    </a>
            </li>
            <li class="chapter  " data-level="1.4.2.7" data-path="api-audio.html" data-name="音频组件控制">
                    <a href="#api/api-audio.html?t=20161107">
                        音频组件控制
                    </a>
                <ul class="articles">
            <li class="chapter  " data-level="1.4.2.7.1" data-path="api-audio.html" data-name="wx.createAudioContext">
                    <a href="#api/api-audio.html?t=20161107#wxcreateaudiocontextaudioid">
                        wx.createAudioContext
                    </a>
            </li>
                </ul>
            </li>
            <li class="chapter  " data-level="1.4.2.8" data-path="api-video.html" data-name="视频组件控制">
                    <a href="#api/api-video.html?t=20161107">
                        视频组件控制
                    </a>
                <ul class="articles">
            <li class="chapter  " data-level="1.4.2.8.1" data-path="api-video.html" data-name="wx.createVideoContext">
                    <a href="#api/api-video.html?t=20161107#wxcreatevideocontextvideoid">
                        wx.createVideoContext
                    </a>
            </li>
                </ul>
            </li>
                </ul>
            </li>
            <li class="chapter  open" data-level="1.4.3" data-path="data.html" data-name="数据">
                    <a href="#api/data.html?t=20161107">
                        数据
                    </a>
                <ul class="articles">
            <li class="chapter  " data-level="1.4.3.1" data-path="data.html" data-name="数据缓存">
                    <a href="#api/data.html?t=20161107">
                        数据缓存
                    </a>
                <ul class="articles">
            <li class="chapter  " data-level="1.4.3.1.1" data-path="data.html" data-name="wx.setStorage">
                    <a href="#api/data.html?t=20161107#wxsetstorageobject">
                        wx.setStorage
                    </a>
            </li>
            <li class="chapter  " data-level="1.4.3.1.2" data-path="data.html" data-name="wx.setStorageSync">
                    <a href="#api/data.html?t=20161107#wxsetstoragesynckeydata">
                        wx.setStorageSync
                    </a>
            </li>
            <li class="chapter  " data-level="1.4.3.1.3" data-path="data.html" data-name="wx.getStorage">
                    <a href="#api/data.html?t=20161107#wxgetstorageobject">
                        wx.getStorage
                    </a>
            </li>
            <li class="chapter  " data-level="1.4.3.1.4" data-path="data.html" data-name="wx.getStorageSync">
                    <a href="#api/data.html?t=20161107#wxgetstoragesynckey">
                        wx.getStorageSync
                    </a>
            </li>
            <li class="chapter  " data-level="1.4.3.1.5" data-path="data.html" data-name="wx.getStorageInfo">
                    <a href="#api/data.html?t=20161107#wxgetstorageinfoobject">
                        wx.getStorageInfo
                    </a>
            </li>
            <li class="chapter  " data-level="1.4.3.1.6" data-path="data.html" data-name="wx.getStorageInfoSync">
                    <a href="#api/data.html?t=20161107#wxgetstorageinfosync">
                        wx.getStorageInfoSync
                    </a>
            </li>
            <li class="chapter  " data-level="1.4.3.1.7" data-path="data.html" data-name="wx.removeStorage">
                    <a href="#api/data.html?t=20161107#wxremovestorageobject">
                        wx.removeStorage
                    </a>
            </li>
            <li class="chapter  " data-level="1.4.3.1.8" data-path="data.html" data-name="wx.removeStorageSync">
                    <a href="#api/data.html?t=20161107#wxremovestoragesynckey">
                        wx.removeStorageSync
                    </a>
            </li>
            <li class="chapter  " data-level="1.4.3.1.9" data-path="data.html" data-name="wx.clearStorage">
                    <a href="#api/data.html?t=20161107#wxclearstorage">
                        wx.clearStorage
                    </a>
            </li>
            <li class="chapter  " data-level="1.4.3.1.10" data-path="data.html" data-name="wx.clearStorageSync">
                    <a href="#api/data.html?t=20161107#wxclearstoragesync">
                        wx.clearStorageSync
                    </a>
            </li>
                </ul>
            </li>
                </ul>
            </li>
            <li class="chapter  open" data-level="1.4.4" data-path="location.html" data-name="位置">
                    <a href="#api/location.html?t=20161107">
                        位置
                    </a>
                <ul class="articles">
            <li class="chapter  " data-level="1.4.4.1" data-path="location.html" data-name="获取位置">
                    <a href="#api/location.html?t=20161107#wxgetlocationobject">
                        获取位置
                    </a>
            </li>
            <li class="chapter  " data-level="1.4.4.2" data-path="location.html" data-name="查看位置">
                    <a href="#api/location.html?t=20161107#wxopenlocationobject">
                        查看位置
                    </a>
            </li>
                </ul>
            </li>
            <li class="chapter  open" data-level="1.4.5" data-path="device.html" data-name="设备">
                    <a href="#api/device.html?t=20161107">
                        设备
                    </a>
                <ul class="articles">
            <li class="chapter  " data-level="1.4.5.1" data-path="device.html" data-name="网络状态">
                    <a href="#api/device.html?t=20161107#wxgetnetworktypeobject">
                        网络状态
                    </a>
            </li>
            <li class="chapter  " data-level="1.4.5.2" data-path="device.html" data-name="系统信息">
                    <a href="#api/device.html?t=20161107#wxgetsysteminfoobject">
                        系统信息
                    </a>
            </li>
            <li class="chapter  " data-level="1.4.5.3" data-path="device.html" data-name="重力感应">
                    <a href="#api/device.html?t=20161107#wxonaccelerometerchangecallback">
                        重力感应
                    </a>
            </li>
            <li class="chapter  " data-level="1.4.5.4" data-path="device.html" data-name="罗盘">
                    <a href="#api/device.html?t=20161107#wxoncompasschangecallback">
                        罗盘
                    </a>
            </li>
            <li class="chapter  " data-level="1.4.5.5" data-path="device.html" data-name="拨打电话">
                    <a href="#api/device.html?t=20161107#wxmakephonecallobject">
                        拨打电话
                    </a>
            </li>
                </ul>
            </li>
            <li class="chapter  open" data-level="1.4.6" data-path="api-react.html" data-name="界面">
                    <a href="#api/api-react.html?t=20161107">
                        界面
                    </a>
                <ul class="articles">
            <li class="chapter  " data-level="1.4.6.1" data-path="api-react.html" data-name="交互反馈">
                    <a href="#api/api-react.html?t=20161107">
                        交互反馈
                    </a>
                <ul class="articles">
            <li class="chapter  " data-level="1.4.6.1.1" data-path="api-react.html" data-name="wx.showToast">
                    <a href="#api/api-react.html?t=20161107#wxshowtoastobject">
                        wx.showToast
                    </a>
            </li>
            <li class="chapter  " data-level="1.4.6.1.2" data-path="api-react.html" data-name="wx.showModal">
                    <a href="#api/api-react.html?t=20161107#wxshowmodalobject">
                        wx.showModal
                    </a>
            </li>
            <li class="chapter  " data-level="1.4.6.1.3" data-path="api-react.html" data-name="wx.showActionSheet">
                    <a href="#api/api-react.html?t=20161107#wxshowactionsheetobject">
                        wx.showActionSheet
                    </a>
            </li>
                </ul>
            </li>
            <li class="chapter  " data-level="1.4.6.2" data-path="ui.html" data-name="设置导航条">
                    <a href="#api/ui.html?t=20161107">
                        设置导航条
                    </a>
            </li>
            <li class="chapter  " data-level="1.4.6.3" data-path="ui-navigate.html" data-name="导航">
                    <a href="#api/ui-navigate.html?t=20161107">
                        导航
                    </a>
            </li>
            <li class="chapter  " data-level="1.4.6.4" data-path="api-animation.html" data-name="动画">
                    <a href="#api/api-animation.html?t=20161107">
                        动画
                    </a>
            </li>
            <li class="chapter  " data-level="1.4.6.5" data-path="api-canvas.html" data-name="绘图">
                    <a href="#api/api-canvas.html?t=20161107">
                        绘图
                    </a>
                <ul class="articles">
            <li class="chapter  " data-level="1.4.6.5.1" data-path="api-canvas.html" data-name="wx.createContext">
                    <a href="#api/api-canvas.html?t=20161107#wxcreatecontext">
                        wx.createContext
                    </a>
            </li>
            <li class="chapter  " data-level="1.4.6.5.2" data-path="api-canvas.html" data-name="wx.drawCanvas">
                    <a href="#api/api-canvas.html?t=20161107#wxdrawcanvasobject">
                        wx.drawCanvas
                    </a>
            </li>
            <li class="chapter  " data-level="1.4.6.5.3" data-path="api-canvas.html" data-name="wx.canvasToTempFilePath">
                    <a href="#api/api-canvas.html?t=20161107#wxcanvastotempfilepathobject">
                        wx.canvasToTempFilePath
                    </a>
            </li>
                </ul>
            </li>
            <li class="chapter  " data-level="1.4.6.6" data-path="ui-other.html" data-name="其他">
                    <a href="#api/ui-other.html?t=20161107">
                        其他
                    </a>
            </li>
                </ul>
            </li>
            <li class="chapter  open" data-level="1.4.7" data-path="api-login.html" data-name="开放接口">
                    <a href="#api/api-login.html?t=20161107">
                        开放接口
                    </a>
                <ul class="articles">
            <li class="chapter  " data-level="1.4.7.1" data-path="api-login.html" data-name="登录">
                    <a href="#api/api-login.html?t=20161107">
                        登录
                    </a>
                <ul class="articles">
            <li class="chapter  " data-level="1.4.7.1.1" data-path="signature.html" data-name="签名加密">
                    <a href="#api/signature.html?t=20161107">
                        签名加密
                    </a>
            </li>
                </ul>
            </li>
            <li class="chapter  " data-level="1.4.7.2" data-path="open.html" data-name="用户信息">
                    <a href="#api/open.html?t=20161107">
                        用户信息
                    </a>
            </li>
            <li class="chapter  " data-level="1.4.7.3" data-path="api-pay.html" data-name="微信支付">
                    <a href="#api/api-pay.html?t=20161107">
                        微信支付
                    </a>
            </li>
            <li class="chapter  " data-level="1.4.7.4" data-path="notice.html" data-name="模板消息">
                    <a href="#api/notice.html?t=20161107">
                        模板消息
                    </a>
                <ul class="articles">
            <li class="chapter  " data-level="1.4.7.4.1" data-path="notice.html" data-name="使用说明">
                    <a href="#api/notice.html?t=20161107#使用说明">
                        使用说明
                    </a>
            </li>
            <li class="chapter  " data-level="1.4.7.4.2" data-path="notice.html" data-name="接口说明">
                    <a href="#api/notice.html?t=20161107#接口说明">
                        接口说明
                    </a>
            </li>
                </ul>
            </li>
                </ul>
            </li>
        </ul>

        <ul class="summary">
            <li class="chapter  " data-level="1.5.1" data-path="devtools.html" data-name="工具">
                <a href="#devtools/devtools.html?t=20161107">工具</a>
            </li>
            <!-- <li class="chapter active " data-level="1.5.1" data-path="devtools.html" data-name="概览">
                    <a href="#devtools/devtools.html?t=20161107">
                        概览
                    </a>
            </li> -->
            <li class="chapter  open" data-level="1.5.2" data-path="debug.html" data-name="程序调试">
                    <a href="#devtools/debug.html?t=20161107">
                        程序调试
                    </a>
                <ul class="articles">
            <li class="chapter  " data-level="1.5.2.1" data-path="debug.html" data-name="模拟器">
                    <a href="#devtools/debug.html?t=20161107#模拟器">
                        模拟器
                    </a>
            </li>
            <li class="chapter  " data-level="1.5.2.2" data-path="debug.html" data-name="调试工具">
                    <a href="#devtools/debug.html?t=20161107#调试工具">
                        调试工具
                    </a>
                <ul class="articles">
            <li class="chapter  " data-level="1.5.2.2.1" data-path="debug.html" data-name="Wxml Panel">
                    <a href="#devtools/debug.html?t=20161107#wxml-panel">
                        Wxml Panel
                    </a>
            </li>
            <li class="chapter  " data-level="1.5.2.2.2" data-path="debug.html" data-name="Sources Panel">
                    <a href="#devtools/debug.html?t=20161107#sources-panel">
                        Sources Panel
                    </a>
            </li>
            <li class="chapter  " data-level="1.5.2.2.3" data-path="debug.html" data-name="Network Panel">
                    <a href="#devtools/debug.html?t=20161107#network-panel">
                        Network Panel
                    </a>
            </li>
            <li class="chapter  " data-level="1.5.2.2.4" data-path="debug.html" data-name="Appdata Panel">
                    <a href="#devtools/debug.html?t=20161107#appdata-panel">
                        Appdata Panel
                    </a>
            </li>
            <li class="chapter  " data-level="1.5.2.2.5" data-path="debug.html" data-name="Storage Panel">
                    <a href="#devtools/debug.html?t=20161107#storage-panel">
                        Storage Panel
                    </a>
            </li>
            <li class="chapter  " data-level="1.5.2.2.6" data-path="debug.html" data-name="Console Panel">
                    <a href="#devtools/debug.html?t=20161107#console-panel">
                        Console Panel
                    </a>
            </li>
                </ul>
            </li>
            <li class="chapter  " data-level="1.5.2.3" data-path="debug.html" data-name="小程序操作区">
                    <a href="#devtools/debug.html?t=20161107#小程序操作区">
                        小程序操作区
                    </a>
            </li>
                </ul>
            </li>
            <li class="chapter  " data-level="1.5.3" data-path="edit.html" data-name="代码编辑">
                    <a href="#devtools/edit.html?t=20161107">
                        代码编辑
                    </a>
            </li>
            <li class="chapter  " data-level="1.5.4" data-path="project.html" data-name="项目预览">
                    <a href="#devtools/project.html?t=20161107">
                        项目预览
                    </a>
            </li>
            <li class="chapter  " data-level="1.5.5" data-path="download.html" data-name="下载">
                    <a href="#devtools/download.html?t=20161107">
                        下载
                    </a>
            </li>
            <li class="chapter  " data-level="1.5.6" data-path="uplog.html" data-name="历史更新日志">
                    <a href="#devtools/uplog.html?t=20161107">
                        历史更新日志
                    </a>
            </li>
        </ul>

        <ul class="summary">

            <li class="chapter " data-level="1.6.1" data-path="qa.html" data-name="Q&amp;A">
                    <a href="#qa/qa.html?t=20161107">
                        Q&amp;A
                    </a>
            </li>
            <li class="chapter  " data-level="1.6.2" data-path="contact.html" data-name="联系我们">
                    <a href="#qa/contact.html?t=20161107">
                        联系我们
                    </a>
            </li>
        </ul>
    </nav>
</div>

<div class="book-body">
    <div class="book-inner">
<div class="page-wrapper" id="index.html?t=20161107" tabindex="-1" role="main">                        <div class="page-inner">
<h1 id=".$ulink.">简易教程</h1>
<div id="book-search-results">
    <div class="search-noresults">

                                <section class="normal markdown-section">

                                <p>本文档将带你一步步创建完成一个微信小程序，并可以在手机上体验该小程序的实际效果。这个小程序的首页将会显示欢迎语以及当前用户的微信头像，点击头像，可以在新开的页面中查看当前小程序的启动日志。<a href="demo/quickstart.zip%3Ft=20161107">下载源码</a></p><h3 id="index.html?t=20161107#1-获取微信小程序的-appid">1. 获取微信小程序的 AppID</h3><p>登录 <a href="https://mp.weixin.qq.com/?t=20161107" target="_blank">https://mp.weixin.qq.com</a> ，就可以在网站的“设置”-“开发者设置”中，查看到微信小程序的 AppID 了，注意不可直接使用服务号或订阅号的 AppID 。</p><p><img src="image/setting.png%3Ft=20161107"></p><p><strong>注意：如果要以非管理员微信号在手机上体验该小程序，那么我们还需要操作“绑定开发者”。即在“用户身份”-“开发者”模块，绑定上需要体验该小程序的微信号。本教程默认注册帐号、体验都是使用管理员微信号。</strong></p><h3 id="index.html?t=20161107#2-创建项目">2. 创建项目</h3><p>我们需要通过<a href="#devtools/devtools.html%3Ft=20161107">开发者工具</a>，来完成小程序创建和代码编辑。</p><p>开发者工具安装完成后，打开并使用微信扫码登录。选择创建“项目”，填入上文获取到的 AppID ，设置一个本地项目的名称（非小程序名称），比如“我的第一个项目”，并选择一个本地的文件夹作为代码存储的目录，点击“新建项目”就可以了。</p><p>为方便初学者了解微信小程序的基本代码结构，在创建过程中，如果选择的本地文件夹是个空文件夹，开发者工具会提示，是否需要创建一个 quick start 项目。选择“是”，开发者工具会帮助我们在开发目录里生成一个简单的 demo。</p><p><img src="image/new_project.png%3Ft=20161107"></p><p>项目创建成功后，我们就可以点击该项目，进入并看到完整的开发者工具界面，点击左侧导航，在“编辑”里可以查看和编辑我们的代码，在“调试”里可以测试代码并模拟小程序在微信客户端效果，在“项目”里可以发送到手机里预览实际效果。</p><h3 id="index.html?t=20161107#3-编写代码">3. 编写代码</h3><h4 id="index.html?t=20161107#创建小程序实例">创建小程序实例</h4><p>点击开发者工具左侧导航的“编辑”，我们可以看到这个项目，已经初始化并包含了一些简单的代码文件。最关键也是必不可少的，是 app.js、app.json、app.wxss 这三个。其中，<code>.js</code>后缀的是脚本文件，<code>.json</code>后缀的文件是配置文件，<code>.wxss</code>后缀的是样式表文件。微信小程序会读取这些文件，并生成<a href="#framework/app-service/app.html%3Ft=20161107">小程序实例</a>。</p><p>下面我们简单了解这三个文件的功能，方便修改以及从头开发自己的微信小程序。</p><p>app.js是小程序的脚本代码。我们可以在这个文件中监听并处理小程序的生命周期函数、声明全局变量。调用框架提供的丰富的 API，如本例的同步存储及同步读取本地数据。想了解更多可用 API，可参考 <a href="#api/index.html%3Ft=20161107">API 文档</a></p><pre><code class="lang-javascript"><span class="hljs-comment">//app.js</span>
App({
  onLaunch: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    <span class="hljs-comment">//调用API从本地缓存中获取数据</span>
    <span class="hljs-keyword">var</span> logs = wx.getStorageSync(<span class="hljs-string">'logs'</span>) || []
    logs.unshift(<span class="hljs-built_in">Date</span>.now())
    wx.setStorageSync(<span class="hljs-string">'logs'</span>, logs)
  },
  getUserInfo:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">cb</span>)</span>{
    <span class="hljs-keyword">var</span> that = <span class="hljs-keyword">this</span>;
    <span class="hljs-keyword">if</span>(<span class="hljs-keyword">this</span>.globalData.userInfo){
      <span class="hljs-keyword">typeof</span> cb == <span class="hljs-string">"function"</span> &amp;&amp; cb(<span class="hljs-keyword">this</span>.globalData.userInfo)
    }<span class="hljs-keyword">else</span>{
      <span class="hljs-comment">//调用登录接口</span>
      wx.login({
        success: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
          wx.getUserInfo({
            success: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">res</span>) </span>{
              that.globalData.userInfo = res.userInfo;
              <span class="hljs-keyword">typeof</span> cb == <span class="hljs-string">"function"</span> &amp;&amp; cb(that.globalData.userInfo)
            }
          })
        }
      });
    }
  },
  globalData:{
    userInfo:<span class="hljs-literal">null</span>
  }
})</code></pre>
<p>app.json 是对整个小程序的全局配置。我们可以在这个文件中配置小程序是由哪些页面组成，配置小程序的窗口背景色，配置导航条样式，配置默认标题。注意该文件不可添加任何注释。更多可配置项可参考<a href="#framework/config.html%3Ft=20161107">配置详解</a></p><pre><code class="lang-json">{
  <span class="hljs-string">"pages"</span>:[
    <span class="hljs-string">"pages/index/index"</span>,
    <span class="hljs-string">"pages/logs/logs"</span>
  ],
  <span class="hljs-string">"window"</span>:{
    <span class="hljs-string">"backgroundTextStyle"</span>:<span class="hljs-string">"light"</span>,
    <span class="hljs-string">"navigationBarBackgroundColor"</span>: <span class="hljs-string">"#fff"</span>,
    <span class="hljs-string">"navigationBarTitleText"</span>: <span class="hljs-string">"WeChat"</span>,
    <span class="hljs-string">"navigationBarTextStyle"</span>:<span class="hljs-string">"black"</span>
  }
}</code></pre>
<p>app.wxss 是整个小程序的公共样式表。我们可以在页面组件的 class 属性上直接使用 app.wxss 中声明的样式规则。</p><pre><code class="lang-css"><span class="hljs-comment">/**app.wxss**/</span>
<span class="hljs-selector-class">.container</span> {
  <span class="hljs-attribute">height</span>: <span class="hljs-number">100%</span>;
  <span class="hljs-attribute">display</span>: flex;
  <span class="hljs-attribute">flex-direction</span>: column;
  <span class="hljs-attribute">align-items</span>: center;
  <span class="hljs-attribute">justify-content</span>: space-between;
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">200</span>rpx <span class="hljs-number">0</span>;
  <span class="hljs-attribute">box-sizing</span>: border-box;
}</code></pre>
<h4 id="index.html?t=20161107#创建页面">创建页面</h4><p>在这个教程里，我们有两个页面，index 页面和 logs 页面，即欢迎页和小程序启动日志的展示页，他们都在 pages 目录下。微信小程序中的每一个页面的【路径+页面名】都需要写在 app.json 的 pages 中，且 pages 中的第一个页面是小程序的首页。</p><p>每一个<a href="#framework/app-service/page.html%3Ft=20161107">小程序页面</a>是由同路径下同名的四个不同后缀文件的组成，如：index.js、index.wxml、index.wxss、index.json。<code>.js</code>后缀的文件是脚本文件，<code>.json</code>后缀的文件是配置文件，<code>.wxss</code>后缀的是样式表文件，<code>.wxml</code>后缀的文件是页面结构文件。</p><p>index.wxml 是页面的结构文件：</p><pre><code class="lang-html"><span class="hljs-comment">&lt;!--index.wxml--&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"container"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">view</span>  <span class="hljs-attr">bindtap</span>=<span class="hljs-string">"bindViewTap"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"userinfo"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">image</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"userinfo-avatar"</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"{{userInfo.avatarUrl}}"</span> <span class="hljs-attr">background-size</span>=<span class="hljs-string">"cover"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">image</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"userinfo-nickname"</span>&gt;</span>{{userInfo.nickName}}<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"usermotto"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"user-motto"</span>&gt;</span>{{motto}}<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span></code></pre>
<p>本例中使用了<a href="#component/view.html%3Ft=20161107"><code>&lt;view/&gt;</code></a>、<a href="#component/image.html%3Ft=20161107"><code>&lt;image/&gt;</code></a>、<a href="#component/text.html%3Ft=20161107"><code>&lt;text/&gt;</code></a>来搭建页面结构，绑定数据和交互处理函数。</p><p>index.js 是页面的脚本文件，在这个文件中我们可以监听并处理页面的生命周期函数、获取小程序实例，声明并处理数据，响应页面交互事件等。</p><pre><code class="lang-javascript"><span class="hljs-comment">//index.js</span>
<span class="hljs-comment">//获取应用实例</span>
<span class="hljs-keyword">var</span> app = getApp()
Page({
  data: {
    motto: <span class="hljs-string">'Hello World'</span>,
    userInfo: {}
  },
  <span class="hljs-comment">//事件处理函数</span>
  bindViewTap: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    wx.navigateTo({
      url: <span class="hljs-string">'../logs/logs'</span>
    })
  },
  onLoad: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'onLoad'</span>)
    <span class="hljs-keyword">var</span> that = <span class="hljs-keyword">this</span>
    <span class="hljs-comment">//调用应用实例的方法获取全局数据</span>
    app.getUserInfo(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">userInfo</span>)</span>{
      <span class="hljs-comment">//更新数据</span>
      that.setData({
        userInfo:userInfo
      })
    })
  }
})</code></pre>
<p>index.wxss 是页面的样式表：</p><pre><code class="lang-css"><span class="hljs-comment">/**index.wxss**/</span>
<span class="hljs-selector-class">.userinfo</span> {
  <span class="hljs-attribute">display</span>: flex;
  <span class="hljs-attribute">flex-direction</span>: column;
  <span class="hljs-attribute">align-items</span>: center;
}

<span class="hljs-selector-class">.userinfo-avatar</span> {
  <span class="hljs-attribute">width</span>: <span class="hljs-number">128</span>rpx;
  <span class="hljs-attribute">height</span>: <span class="hljs-number">128</span>rpx;
  <span class="hljs-attribute">margin</span>: <span class="hljs-number">20</span>rpx;
  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">50%</span>;
}

<span class="hljs-selector-class">.userinfo-nickname</span> {
  <span class="hljs-attribute">color</span>: <span class="hljs-number">#aaa</span>;
}

<span class="hljs-selector-class">.usermotto</span> {
  <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">200px</span>;
}</code></pre>
<p>页面的样式表是非必要的。当有页面样式表时，页面的样式表中的样式规则会层叠覆盖 app.wxss 中的样式规则。如果不指定页面的样式表，也可以在页面的结构文件中直接使用 app.wxss 中指定的样式规则。</p><p>index.json 是页面的配置文件：</p><p>页面的配置文件是非必要的。当有页面的配置文件时，配置项在该页面会覆盖 app.json 的 window 中相同的配置项。如果没有指定的页面配置文件，则在该页面直接使用 app.json 中的默认配置。</p><p>logs 的页面结构</p><pre><code class="lang-html"><span class="hljs-comment">&lt;!--logs.wxml--&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"container log-list"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">block</span> <span class="hljs-attr">wx:for</span>=<span class="hljs-string">"{{logs}}"</span> <span class="hljs-attr">wx:for-item</span>=<span class="hljs-string">"log"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"log-item"</span>&gt;</span>{{index + 1}}. {{log}}<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">block</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span></code></pre>
<p>logs 页面使用 <a href="#framework/view/wxml/list.html%3Ft=20161107#block-wxfor"><code>&lt;block/&gt;</code></a> 控制标签来组织代码，在 <code>&lt;block/&gt;</code> 上使用 <a href="#framework/view/wxml/list.html%3Ft=20161107#block-wxfor"><code>wx:for</code></a> 绑定 <code>logs</code> 数据，并将 <code>logs</code> 数据循环展开节点</p><pre><code class="lang-js"><span class="hljs-comment">//logs.js</span>
<span class="hljs-keyword">var</span> util = <span class="hljs-built_in">require</span>(<span class="hljs-string">'../../utils/util.js'</span>)
Page({
  data: {
    logs: []
  },
  onLoad: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">this</span>.setData({
      logs: (wx.getStorageSync(<span class="hljs-string">'logs'</span>) || []).map(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">log</span>) </span>{
        <span class="hljs-keyword">return</span> util.formatTime(<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(log))
      })
    })
  }
})</code></pre>
<p>运行结果如下：</p><p><img src="image/start_result.png%3Ft=20161107"></p><h3 id="index.html?t=20161107#4-手机预览">4. 手机预览</h3><p>开发者工具左侧菜单栏选择"项目"，点击"预览"，扫码后即可在微信客户端中体验。</p><p><img src="image/start_preview.png%3Ft=20161107"></p>

                                </section>

    </div>
    <div class="search-results">
        <div class="has-results">

            <h1 class="search-results-title"><span class="search-results-count"></span> 个结果 "<span class="search-query"></span>"</h1>
            <ul class="search-results-list"></ul>

        </div>
        <div class="no-results">

            <h1 class="search-results-title">没有找到相关内容 "<span class="search-query"></span>"</h1>

        </div>
    </div>
</div>

                        </div>
                    </div>
<div class="page-wrapper" id="demo.html?t=20161107" tabindex="-1" role="main">                        <div class="page-inner">
<h1 id=".$ulink.">体验小程序</h1>
<div id="book-search-results">
    <div class="search-noresults">

                                <section class="normal markdown-section">

                                <p>下载微信客户端版本号：6.3.27 及以上，只有小程序绑定的开发者有权限扫码体验。<a href="demo/demo.zip%3Ft=20161107">下载源码 版本20161010</a></p><p></p><p><img src="image/demo.png%3Ft=20161107"></p>

                                </section>

    </div>
    <div class="search-results">
        <div class="has-results">

            <h1 class="search-results-title"><span class="search-results-count"></span> 个结果 "<span class="search-query"></span>"</h1>
            <ul class="search-results-list"></ul>

        </div>
        <div class="no-results">

            <h1 class="search-results-title">没有找到相关内容 "<span class="search-query"></span>"</h1>

        </div>
    </div>
</div>

                        </div>
                    </div>
<div class="page-wrapper" id="framework/MINA.html?t=20161107" tabindex="-1" role="main">                        <div class="page-inner">
<h1 id=".$ulink.">框架</h1>
<div id="book-search-results">
    <div class="search-noresults">

                                <section class="normal markdown-section">

                                <h1 id="框架">框架</h1><p>小程序开发框架的目标是通过尽可能简单、高效的方式让开发者可以在微信中开发具有原生 APP 体验的服务。</p><p>框架提供了自己的视图层描述语言 WXML 和 WXSS，以及基于 JavaScript 的逻辑层框架，并在视图层与逻辑层间提供了数据传输和事件系统，可以让开发者可以方便的聚焦于数据与逻辑上。</p><h3 id="framework/MINA.html?t=20161107#响应的数据绑定">响应的数据绑定</h3><p>框架的核心是一个响应的数据绑定系统。</p><p>整个系统分为两块视图层（View）和逻辑层（App Service）</p><p>框架可以让数据与视图非常简单地保持同步。当做数据修改的时候，只需要在逻辑层修改数据，视图层就会做相应的更新。</p><p>通过这个简单的例子来看：</p><pre><code class="lang-html"><span class="hljs-comment">&lt;!-- This is our View --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">view</span>&gt;</span> Hello {{name}}! <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">bindtap</span>=<span class="hljs-string">"changeName"</span>&gt;</span> Click me! <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></code></pre>
<pre><code class="lang-js"><span class="hljs-comment">// This is our App Service.</span>
<span class="hljs-comment">// This is our data.</span>
<span class="hljs-keyword">var</span> helloData = {
  name: <span class="hljs-string">'WeChat'</span>
}

<span class="hljs-comment">// Register a Page.</span>
Page({
  data: helloData,
  changeName: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
    <span class="hljs-comment">// sent data change to view</span>
    <span class="hljs-keyword">this</span>.setData({
      name: <span class="hljs-string">'MINA'</span>
    })
  }
})</code></pre>
<ul><li>开发者通过框架将逻辑层数据中的 <code>name</code> 与视图层的 <code>name</code> 进行了绑定，所以在页面一打开的时候会显示 <code>Hello WeChat!</code>
</li>
<li>当点击按钮的时候，视图层会发送 <code>changeName</code> 的事件给逻辑层，逻辑层找到对应的事件处理函数
</li>
<li>逻辑层执行了 <code>setData</code> 的操作，将 name 从 <code>WeChat</code> 变为 <code>MINA</code>，因为该数据和视图层已经绑定了，从而视图层会自动改变为 <code>Hello MINA!</code> 。
</li></ul>
<h3 id="framework/MINA.html?t=20161107#页面管理">页面管理</h3><p>框架 管理了整个<strong>小程序</strong>的页面路由，可以做到页面间的无缝切换，并给以页面完整的生命周期。开发者需要做的只是将页面的数据，方法，生命周期函数注册进 框架 中，其他的一切复杂的操作都交由 框架 处理。</p><h3 id="framework/MINA.html?t=20161107#基础组件">基础组件</h3><p>框架 提供了一套基础的组件，这些组件自带微信风格的样式以及特殊的逻辑，开发者可以通过组合基础组件，创建出强大的<strong>微信小程序</strong> 。</p><h3 id="framework/MINA.html?t=20161107#丰富的-api">丰富的 API</h3><p>框架 提供丰富的微信原生 API，可以方便的调起微信提供的能力，如获取用户信息，本地存储，支付功能等。</p>

                                </section>

    </div>
    <div class="search-results">
        <div class="has-results">

            <h1 class="search-results-title"><span class="search-results-count"></span> 个结果 "<span class="search-query"></span>"</h1>
            <ul class="search-results-list"></ul>

        </div>
        <div class="no-results">

            <h1 class="search-results-title">没有找到相关内容 "<span class="search-query"></span>"</h1>

        </div>
    </div>
</div>

                        </div>
                    </div>
<div class="page-wrapper" id="framework/structure.html?t=20161107" tabindex="-1" role="main">                        <div class="page-inner">
<h1 id=".$ulink.">目录结构</h1>
<div id="book-search-results">
    <div class="search-noresults">

                                <section class="normal markdown-section">

                                <h1 id="文件结构">文件结构</h1><p>小程序包含一个描述整体程序的 app 和多个描述各自页面的 page。</p><p>一个小程序主体部分由三个文件组成，必须放在项目的根目录，如下：</p><table>
<thead>
<tr><th>文件</th>
<th>必填</th>
<th>作用</th>
</tr></thead><tbody>
<tr><td><a href="#framework/app-service/app.html%3Ft=20161107">app.js</a></td>
<td>是</td>
<td>小程序逻辑</td>
</tr><tr><td><a href="#framework/config.html%3Ft=20161107">app.json</a></td>
<td>是</td>
<td>小程序公共设置</td>
</tr><tr><td><a href="#framework/view/wxss.html%3Ft=20161107">app.wxss</a></td>
<td>否</td>
<td>小程序公共样式表</td>
</tr></tbody></table>

<p>一个小程序页面由四个文件组成，分别是：</p><table>
<thead>
<tr><th>文件类型</th>
<th>必填</th>
<th>作用</th>
</tr></thead><tbody>
<tr><td><a href="#framework/app-service/page.html%3Ft=20161107">js</a></td>
<td>是</td>
<td>页面逻辑</td>
</tr><tr><td><a href="#framework/view/wxml/index.html%3Ft=20161107">wxml</a></td>
<td>是</td>
<td>页面结构</td>
</tr><tr><td><a href="#framework/view/wxss.html%3Ft=20161107">wxss</a></td>
<td>否</td>
<td>页面样式表</td>
</tr><tr><td><a href="#framework/config.html%3Ft=20161107#pagejson">json</a></td>
<td>否</td>
<td>页面配置</td>
</tr></tbody></table>

<p><strong>注意：为了方便开发者减少配置项，我们规定描述页面的这四个文件必须具有相同的路径与文件名。</strong></p>

                                </section>

    </div>
    <div class="search-results">
        <div class="has-results">

            <h1 class="search-results-title"><span class="search-results-count"></span> 个结果 "<span class="search-query"></span>"</h1>
            <ul class="search-results-list"></ul>

        </div>
        <div class="no-results">

            <h1 class="search-results-title">没有找到相关内容 "<span class="search-query"></span>"</h1>

        </div>
    </div>
</div>

                        </div>
                    </div>
<div class="page-wrapper" id="framework/config.html?t=20161107" tabindex="-1" role="main">                        <div class="page-inner">
<h1 id=".$ulink.">配置</h1>
<div id="book-search-results">
    <div class="search-noresults">

                                <section class="normal markdown-section">

                                <h1 id="配置">配置</h1><p>我们使用<code>app.json</code>文件来对微信小程序进行全局配置，决定页面文件的路径、窗口表现、设置网络超时时间、设置多 tab 等。</p><p>以下是一个包含了所有配置选项的简单配置<code>app.json</code> ：</p><pre><code class="lang-json">{
  <span class="hljs-string">"pages"</span>: [
    <span class="hljs-string">"pages/index/index"</span>,
    <span class="hljs-string">"pages/logs/index"</span>
  ],
  <span class="hljs-string">"window"</span>: {
    <span class="hljs-string">"navigationBarTitleText"</span>: <span class="hljs-string">"Demo"</span>
  },
  <span class="hljs-string">"tabBar"</span>: {
    <span class="hljs-string">"list"</span>: [{
      <span class="hljs-string">"pagePath"</span>: <span class="hljs-string">"pages/index/index"</span>,
      <span class="hljs-string">"text"</span>: <span class="hljs-string">"首页"</span>
    }, {
      <span class="hljs-string">"pagePath"</span>: <span class="hljs-string">"pages/logs/logs"</span>,
      <span class="hljs-string">"text"</span>: <span class="hljs-string">"日志"</span>
    }]
  },
  <span class="hljs-string">"networkTimeout"</span>: {
    <span class="hljs-string">"request"</span>: <span class="hljs-number">10000</span>,
    <span class="hljs-string">"downloadFile"</span>: <span class="hljs-number">10000</span>
  },
  <span class="hljs-string">"debug"</span>: <span class="hljs-literal">true</span>
}</code></pre>
<h3 id="framework/config.html?t=20161107#appjson-配置项列表">app.json 配置项列表</h3><table>
<thead>
<tr><th>属性</th>
<th>类型</th>
<th>必填</th>
<th>描述</th>
</tr></thead><tbody>
<tr><td><a href="#framework/config.html%3Ft=20161107#pages">pages</a></td>
<td>String Array</td>
<td>是</td>
<td>设置页面路径</td>
</tr><tr><td><a href="#framework/config.html%3Ft=20161107#window">window</a></td>
<td>Object</td>
<td>否</td>
<td>设置默认页面的窗口表现</td>
</tr><tr><td><a href="#framework/config.html%3Ft=20161107#tabbar">tabBar</a></td>
<td>Object</td>
<td>否</td>
<td>设置底部 tab 的表现</td>
</tr><tr><td><a href="#framework/config.html%3Ft=20161107#networktimeout">networkTimeout</a></td>
<td>Object</td>
<td>否</td>
<td>设置网络超时时间</td>
</tr><tr><td><a href="#framework/config.html%3Ft=20161107#debug">debug</a></td>
<td>Boolean</td>
<td>否</td>
<td>设置是否开启 debug 模式</td>
</tr></tbody></table>

<h3 id="framework/config.html?t=20161107#pages">pages</h3><p>接受一个数组，每一项都是字符串，来指定小程序由哪些页面组成。每一项代表对应页面的【路径+文件名】信息，<strong>数组的第一项代表小程序的初始页面。小程序中新增/减少页面，都需要对 pages 数组进行修改。</strong></p><p>文件名不需要写文件后缀，因为框架会自动去寻找路径<code>.json</code>,<code>.js</code>,<code>.wxml</code>,<code>.wxss</code>的四个文件进行整合。</p><p>如开发目录为：</p><blockquote><p>pages/</p><p>pages/index/index.wxml</p><p>pages/index/index.js</p><p>pages/index/index.wxss</p><p>pages/logs/logs.wxml</p><p>pages/logs/logs.js</p><p>app.js</p><p>app.json</p><p>app.wxss</p></blockquote><p>则，我们需要在 app.json 中写</p><pre><code class="lang-json">{
  <span class="hljs-string">"pages"</span>:[
    <span class="hljs-string">"pages/index/index"</span>
    <span class="hljs-string">"pages/logs/logs"</span>
  ]
}</code></pre>
<h3 id="framework/config.html?t=20161107#window">window</h3><p>用于设置小程序的状态栏、导航条、标题、窗口背景色。</p><table>
<thead>
<tr><th>属性</th>
<th>类型</th>
<th>默认值</th>
<th>描述</th>
</tr></thead><tbody>
<tr><td>navigationBarBackgroundColor</td>
<td>HexColor</td>
<td>#000000</td>
<td>导航栏背景颜色，如"#000000"</td>
</tr><tr><td>navigationBarTextStyle</td>
<td>String</td>
<td>white</td>
<td>导航栏标题颜色，仅支持 black/white</td>
</tr><tr><td>navigationBarTitleText</td>
<td>String</td>
<td></td>
<td>导航栏标题文字内容</td>
</tr><tr><td>backgroundColor</td>
<td>HexColor</td>
<td>#ffffff</td>
<td>窗口的背景色</td>
</tr><tr><td>backgroundTextStyle</td>
<td>String</td>
<td>dark</td>
<td>下拉背景字体、loading 图的样式，仅支持 dark/light</td>
</tr><tr><td>enablePullDownRefresh</td>
<td>Boolean</td>
<td>false</td>
<td>是否开启下拉刷新，详见<a href="#framework/app-service/page.html%3Ft=20161107#页面相关事件处理函数">页面相关事件处理函数</a>。</td>
</tr></tbody></table>

<p><strong>注：HexColor（十六进制颜色值），如"#ff00ff"</strong></p><p>如 app.json ：</p><pre><code class="lang-json">{
  <span class="hljs-string">"window"</span>:{
    <span class="hljs-string">"navigationBarBackgroundColor"</span>: <span class="hljs-string">"#ffffff"</span>,
    <span class="hljs-string">"navigationBarTextStyle"</span>: <span class="hljs-string">"black"</span>,
    <span class="hljs-string">"navigationBarTitleText"</span>: <span class="hljs-string">"微信接口功能演示"</span>,
    <span class="hljs-string">"backgroundColor"</span>: <span class="hljs-string">"#eeeeee"</span>,
    <span class="hljs-string">"backgroundTextStyle"</span>: <span class="hljs-string">"light"</span>
  }
} </code></pre>
<p><img src="./image/config.jpg%3Ft=20161107"></p><h3 id="framework/config.html?t=20161107#tabbar">tabBar</h3><p>如果我们的小程序是一个多 tab 应用（客户端窗口的底部有tab栏可以切换页面），那么我们可以通过 tabBar 配置项指定 tab 栏的表现，以及 tab 切换时显示的对应页面。</p><p>tabBar 是一个数组，<strong>只能配置最少2个、最多5个 tab</strong>，tab 按数组的顺序排序。</p><p><strong>属性说明：</strong></p><table>
<thead>
<tr><th>属性</th>
<th>类型</th>
<th>必填</th>
<th>默认值</th>
<th>描述</th>
</tr></thead><tbody>
<tr><td>color</td>
<td>HexColor</td>
<td>是</td>
<td></td>
<td>tab 上的文字默认颜色</td>
</tr><tr><td>selectedColor</td>
<td>HexColor</td>
<td>是</td>
<td></td>
<td>tab 上的文字选中时的颜色</td>
</tr><tr><td>backgroundColor</td>
<td>HexColor</td>
<td>是</td>
<td></td>
<td>tab 的背景色</td>
</tr><tr><td>borderStyle</td>
<td>String</td>
<td>否</td>
<td>black</td>
<td>tabbar上边框的颜色， 仅支持 black/white</td>
</tr><tr><td>list</td>
<td>Array</td>
<td>是</td>
<td></td>
<td>tab 的列表，详见 list 属性说明，最少2个、最多5个 tab</td>
</tr><tr><td>position</td>
<td>String</td>
<td>否</td>
<td>bottom</td>
<td>可选值 bottom、top</td>
</tr></tbody></table>

<p>其中 list 接受一个数组，数组中的每个项都是一个对象，其属性值如下：</p><table>
<thead>
<tr><th>属性</th>
<th>类型</th>
<th>必填</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>pagePath</td>
<td>String</td>
<td>是</td>
<td>页面路径，必须在 pages 中先定义</td>
</tr><tr><td>text</td>
<td>String</td>
<td>是</td>
<td>tab 上按钮文字</td>
</tr><tr><td>iconPath</td>
<td>String</td>
<td>是</td>
<td>图片路径，icon 大小限制为40kb</td>
</tr><tr><td>selectedIconPath</td>
<td>String</td>
<td>是</td>
<td>选中时的图片路径，icon 大小限制为40kb</td>
</tr></tbody></table>

<p><img src="./image/tabbar.png%3Ft=20161107"></p><h3 id="framework/config.html?t=20161107#networktimeout">networkTimeout</h3><p>可以设置各种网络请求的超时时间。</p><p><strong>属性说明：</strong></p><table>
<thead>
<tr><th>属性</th>
<th>类型</th>
<th>必填</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>request</td>
<td>Number</td>
<td>否</td>
<td><a href="#api/network-request.html%3Ft=20161107">wx.request</a>的超时时间，单位毫秒</td>
</tr><tr><td>connectSocket</td>
<td>Number</td>
<td>否</td>
<td><a href="#api/network-socket.html%3Ft=20161107">wx.connectSocket</a>的超时时间，单位毫秒</td>
</tr><tr><td>uploadFile</td>
<td>Number</td>
<td>否</td>
<td><a href="#api/network-file.html%3Ft=20161107#wxuploadfileobject">wx.uploadFile</a>的超时时间，单位毫秒</td>
</tr><tr><td>downloadFile</td>
<td>Number</td>
<td>否</td>
<td><a href="#api/network-file.html%3Ft=20161107#wxdownloadfileobject">wx.downloadFile</a>的超时时间，单位毫秒</td>
</tr></tbody></table>

<h3 id="framework/config.html?t=20161107#debug">debug</h3><p>可以在开发者工具中开启 debug 模式，在开发者工具的控制台面板，调试信息以 info 的形式给出，其信息有<code>Page的注册</code>，<code>页面路由</code>，<code>数据更新</code>，<code>事件触发</code> 。 可以帮助开发者快速定位一些常见的问题。</p><h2 id="framework/config.html?t=20161107#pagejson">page.json</h2><p>每一个小程序页面也可以使用<code>.json</code>文件来对本页面的窗口表现进行配置。    页面的配置比<code>app.json</code>全局配置简单得多，只是设置 app.json 中的 window 配置项的内容，页面中配置项会覆盖 app.json 的 window 中相同的配置项。</p><p>页面的<code>.json</code>只能设置 <code>window</code> 相关的配置项，以决定本页面的窗口表现，所以无需写 <code>window</code> 这个键，如：</p><pre><code class="lang-json">{
  <span class="hljs-string">"navigationBarBackgroundColor"</span>: <span class="hljs-string">"#ffffff"</span>,
  <span class="hljs-string">"navigationBarTextStyle"</span>: <span class="hljs-string">"black"</span>,
  <span class="hljs-string">"navigationBarTitleText"</span>: <span class="hljs-string">"微信接口功能演示"</span>,
  <span class="hljs-string">"backgroundColor"</span>: <span class="hljs-string">"#eeeeee"</span>,
  <span class="hljs-string">"backgroundTextStyle"</span>: <span class="hljs-string">"light"</span>
}</code></pre>


                                </section>

    </div>
    <div class="search-results">
        <div class="has-results">

            <h1 class="search-results-title"><span class="search-results-count"></span> 个结果 "<span class="search-query"></span>"</h1>
            <ul class="search-results-list"></ul>

        </div>
        <div class="no-results">

            <h1 class="search-results-title">没有找到相关内容 "<span class="search-query"></span>"</h1>

        </div>
    </div>
</div>

                        </div>
                    </div>
<div class="page-wrapper" id="framework/app-service/index.html?t=20161107" tabindex="-1" role="main">                        <div class="page-inner">
<h1 id=".$ulink.">逻辑层</h1>
<div id="book-search-results">
    <div class="search-noresults">

                                <section class="normal markdown-section">

                                <h1 id="逻辑层app-service">逻辑层(App Service)</h1><p>小程序开发框架的逻辑层是由JavaScript编写。</p><p>逻辑层将数据进行处理后发送给视图层，同时接受视图层的事件反馈。
在 JavaScript 的基础上，我们做了一些修改，以方便地开发小程序。</p><ul><li>增加 <a href="#framework/app-service/app.html%3Ft=20161107">App</a> 和 <a href="#framework/app-service/page.html%3Ft=20161107">Page</a> 方法，进行程序和页面的注册。
</li>
<li>增加 getApp 和 getCurrentPages 方法，分别用来获取 App 实例和当前页面栈。
</li>
<li>提供丰富的 <a href="#api/index.html%3Ft=20161107">API</a>，如微信用户数据，扫一扫，支付等微信特有能力。
</li>
<li>每个页面有独立的<a href="#framework/app-service/module.html%3Ft=20161107#文件作用域">作用域</a>，并提供<a href="#framework/app-service/module.html%3Ft=20161107#模块化">模块化</a>能力。
</li>
<li>由于框架并非运行在浏览器中，所以 JavaScript 在 web 中一些能力都无法使用，如 document，window 等。
</li>
<li>开发者写的所有代码最终将会打包成一份 JavaScript，并在小程序启动的时候运行，直到小程序销毁。类似 ServiceWorker，所以逻辑层也称之为 App Service。
</li></ul>


                                </section>

    </div>
    <div class="search-results">
        <div class="has-results">

            <h1 class="search-results-title"><span class="search-results-count"></span> 个结果 "<span class="search-query"></span>"</h1>
            <ul class="search-results-list"></ul>

        </div>
        <div class="no-results">

            <h1 class="search-results-title">没有找到相关内容 "<span class="search-query"></span>"</h1>

        </div>
    </div>
</div>

                        </div>
                    </div>
<div class="page-wrapper" id="framework/app-service/app.html?t=20161107" tabindex="-1" role="main">                        <div class="page-inner">
<h1 id=".$ulink.">注册程序</h1>
<div id="book-search-results">
    <div class="search-noresults">

                                <section class="normal markdown-section">

                                <h1 id="app">App</h1><h3 id="framework/app-service/app.html?t=20161107#app">App()</h3><p><code>App()</code> 函数用来注册一个小程序。接受一个 object 参数，其指定小程序的生命周期函数等。</p><p><strong>object参数说明：</strong></p><table>
<thead>
<tr><th>属性</th>
<th>类型</th>
<th>描述</th>
<th>触发时机</th>
</tr></thead><tbody>
<tr><td>onLaunch</td>
<td>Function</td>
<td>生命周期函数--监听小程序初始化</td>
<td>当小程序初始化完成时，会触发 onLaunch（全局只触发一次）</td>
</tr><tr><td>onShow</td>
<td>Function</td>
<td>生命周期函数--监听小程序显示</td>
<td>当小程序启动，或从后台进入前台显示，会触发 onShow</td>
</tr><tr><td>onHide</td>
<td>Function</td>
<td>生命周期函数--监听小程序隐藏</td>
<td>当小程序从前台进入后台，会触发 onHide</td>
</tr><tr><td>其他</td>
<td>Any</td>
<td>开发者可以添加任意的函数或数据到 Object 参数中，用 <code>this</code> 可以访问</td>
<td></td>
</tr></tbody></table>

<p><strong>前台、后台定义：</strong> 当用户点击左上角关闭，或者按了设备 Home 键离开微信，小程序并没有直接销毁，而是进入了后台；当再次进入微信或再次打开小程序，又会从后台进入前台。</p><p>只有当小程序进入后台一定时间，或者系统资源占用过高，才会被真正的销毁。</p><p><strong>示例代码：</strong></p><pre><code class="lang-js">App({
  onLaunch: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-comment">// Do something initial when launch.</span>
  },
  onShow: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
      <span class="hljs-comment">// Do something when show.</span>
  },
  onHide: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
      <span class="hljs-comment">// Do something when hide.</span>
  },
  globalData: <span class="hljs-string">'I am global data'</span>
})</code></pre>
<h3 id="framework/app-service/app.html?t=20161107#appprototypegetcurrentpage">App.prototype.getCurrentPage()</h3><p>将被废弃，请用<a href="#framework/app-service/page.html%3Ft=20161107#getcurrentpages">getCurrentPages()</a>)替代</p><h3 id="framework/app-service/app.html?t=20161107#getapp">getApp()</h3><p>我们提供了全局的 <code>getApp()</code> 函数，可以获取到小程序实例。</p><pre><code class="lang-javascript"><span class="hljs-comment">// other.js</span>
<span class="hljs-keyword">var</span> appInstance = getApp()
<span class="hljs-built_in">console</span>.log(appInstance.globalData) <span class="hljs-comment">// I am global data</span></code></pre>
<p><strong>注意：</strong></p><p><code>App()</code> 必须在 <code>app.js</code> 中注册，且不能注册多个。</p><p>不要在定义于 <code>App()</code> 内的函数中调用 <code>getApp()</code> ，使用 <code>this</code> 就可以拿到 app 实例。</p><p>不要在 onLaunch 的时候调用 <code>getCurrentPage()</code>，此时 page 还没有生成。</p><p>通过 <code>getApp()</code> 获取实例之后，不要私自调用生命周期函数。</p>

                                </section>

    </div>
    <div class="search-results">
        <div class="has-results">

            <h1 class="search-results-title"><span class="search-results-count"></span> 个结果 "<span class="search-query"></span>"</h1>
            <ul class="search-results-list"></ul>

        </div>
        <div class="no-results">

            <h1 class="search-results-title">没有找到相关内容 "<span class="search-query"></span>"</h1>

        </div>
    </div>
</div>

                        </div>
                    </div>
<div class="page-wrapper" id="framework/app-service/page.html?t=20161107" tabindex="-1" role="main">                        <div class="page-inner">
<h1 id=".$ulink.">注册页面</h1>
<div id="book-search-results">
    <div class="search-noresults">

                                <section class="normal markdown-section">

                                <h1 id="page">Page</h1><p><code>Page()</code> 函数用来注册一个页面。接受一个 object 参数，其指定页面的初始数据、生命周期函数、事件处理函数等。</p><p><strong>object 参数说明：</strong></p><table>
<thead>
<tr><th>属性</th>
<th>类型</th>
<th>描述</th>
</tr></thead><tbody>
<tr><td><a href="#framework/app-service/page.html%3Ft=20161107#初始化数据">data</a></td>
<td>Object</td>
<td>页面的初始数据</td>
</tr><tr><td>onLoad</td>
<td>Function</td>
<td>生命周期函数--监听页面加载</td>
</tr><tr><td>onReady</td>
<td>Function</td>
<td>生命周期函数--监听页面初次渲染完成</td>
</tr><tr><td>onShow</td>
<td>Function</td>
<td>生命周期函数--监听页面显示</td>
</tr><tr><td>onHide</td>
<td>Function</td>
<td>生命周期函数--监听页面隐藏</td>
</tr><tr><td>onUnload</td>
<td>Function</td>
<td>生命周期函数--监听页面卸载</td>
</tr><tr><td>onPullDownRefresh</td>
<td>Function</td>
<td>页面相关事件处理函数--监听用户下拉动作</td>
</tr><tr><td>onReachBottom</td>
<td>Function</td>
<td>页面上拉触底事件的处理函数</td>
</tr><tr><td>其他</td>
<td>Any</td>
<td>开发者可以添加任意的函数或数据到 object 参数中，在页面的函数中用 <code>this</code> 可以访问</td>
</tr></tbody></table>

<p><strong>示例代码：</strong></p><pre><code class="lang-javascript"><span class="hljs-comment">//index.js</span>
Page({
  data: {
    text: <span class="hljs-string">"This is page data."</span>
  },
  onLoad: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">options</span>) </span>{
    <span class="hljs-comment">// Do some initialize when page load.</span>
  },
  onReady: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-comment">// Do something when page ready.</span>
  },
  onShow: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-comment">// Do something when page show.</span>
  },
  onHide: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-comment">// Do something when page hide.</span>
  },
  onUnload: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-comment">// Do something when page close.</span>
  },
  onPullDownRefresh: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-comment">// Do something when pull down.</span>
  },
  onReachBottom: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-comment">// Do something when page reach bottom.</span>
  },
  <span class="hljs-comment">// Event handler.</span>
  viewTap: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">this</span>.setData({
      text: <span class="hljs-string">'Set some data for updating view.'</span>
    })
  },
  customData: {
    hi: <span class="hljs-string">'MINA'</span>
  }
})</code></pre>
<h3 id="framework/app-service/page.html?t=20161107#初始化数据">初始化数据</h3><p>初始化数据将作为页面的第一次渲染。data 将会以 JSON 的形式由逻辑层传至渲染层，所以其数据必须是可以转成 JSON 的格式：字符串，数字，布尔值，对象，数组。</p><p>渲染层可以通过 <a href="#framework/view/wxml/index.html%3Ft=20161107">WXML</a> 对数据进行绑定。</p><p><strong>示例代码：</strong></p><pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">view</span>&gt;</span>{{text}}<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">view</span>&gt;</span>{{array[0].msg}}<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span></code></pre>
<pre><code class="lang-javascript">Page({
  data: {
    text: <span class="hljs-string">'init data'</span>,
    array: [{msg: <span class="hljs-string">'1'</span>}, {msg: <span class="hljs-string">'2'</span>}]
  }
})</code></pre>
<h3 id="framework/app-service/page.html?t=20161107#生命周期函数">生命周期函数</h3><ul><li><p><code>onLoad</code>: 页面加载</p><ul><li>一个页面只会调用一次。
</li>
<li>接收页面参数可以获取<code>wx.navigateTo</code>和<code>wx.redirectTo</code>及<code>&lt;navigator/&gt;</code>中的 query。
</li></ul>
</li>
<li><p><code>onShow</code>: 页面显示</p><ul><li>每次打开页面都会调用一次。
</li></ul>
</li>
<li><p><code>onReady</code>: 页面初次渲染完成</p><ul><li>一个页面只会调用一次，代表页面已经准备妥当，可以和视图层进行交互。
</li>
<li>对界面的设置如<code>wx.setNavigationBarTitle</code>请在<code>onReady</code>之后设置。详见<a href="#framework/app-service/page.html%3Ft=20161107#生命周期">生命周期</a>
</li></ul>
</li>
<li><p><code>onHide</code>: 页面隐藏</p><ul><li>当<code>navigateTo</code>或底部<code>tab</code>切换时调用。
</li></ul>
</li>
<li><p><code>onUnload</code>: 页面卸载</p><ul><li>当<code>redirectTo</code>或<code>navigateBack</code>的时候调用。
</li></ul>
</li></ul>
<h3 id="framework/app-service/page.html?t=20161107#页面相关事件处理函数">页面相关事件处理函数</h3><ul><li><code>onPullDownRefresh</code>: 下拉刷新
<ul><li>监听用户下拉刷新事件。
</li>
<li>需要在<code>config</code>的<a href="#framework/config.html%3Ft=20161107#window"><code>window</code></a>选项中开启<code>enablePullDownRefresh</code>。
</li>
<li>当处理完数据刷新后，<a href="#api/ui-other.html%3Ft=20161107"><code>wx.stopPullDownRefresh</code></a>可以停止当前页面的下拉刷新。
</li></ul>
</li></ul>
<h3 id="framework/app-service/page.html?t=20161107#事件处理函数">事件处理函数</h3><p>除了初始化数据和生命周期函数，Page 中还可以定义一些特殊的函数：事件处理函数。在渲染层可以在组件中加入<a href="#framework/view/wxml/event.html%3Ft=20161107">事件绑定</a>，当达到触发事件时，就会执行 Page 中定义的事件处理函数。</p><p><strong>示例代码：</strong></p><pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">bindtap</span>=<span class="hljs-string">"viewTap"</span>&gt;</span> click me <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span></code></pre>
<pre><code class="lang-javascript">Page({
  viewTap: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'view tap'</span>)
  }
})</code></pre>
<h3 id="framework/app-service/page.html?t=20161107#pageprototypesetdata">Page.prototype.setData()</h3><p><code>setData</code> 函数用于将数据从逻辑层发送到视图层，同时改变对应的 <code>this.data</code> 的值。</p><p><strong>注意：</strong></p><ol><li><strong>直接修改 this.data 无效，无法改变页面的状态，还会造成数据不一致。</strong>
</li>
<li><strong>单次设置的数据不能超过1024kB，请尽量避免一次设置过多的数据</strong>。
</li></ol>
<h3 id="framework/app-service/page.html?t=20161107#setdata-参数格式">setData() 参数格式</h3><p>接受一个对象，以 key，value 的形式表示将 this.data 中的 key 对应的值改变成 value。</p><p>其中 key 可以非常灵活，以数据路径的形式给出，如 <code>array[2].message</code>，<code>a.b.c.d</code>，并且不需要在 this.data 中预先定义。</p><p><strong>示例代码：</strong></p><pre><code class="lang-html"><span class="hljs-comment">&lt;!--index.wxml--&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">view</span>&gt;</span>{{text}}<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">bindtap</span>=<span class="hljs-string">"changeText"</span>&gt;</span> Change normal data <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">view</span>&gt;</span>{{array[0].text}}<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">bindtap</span>=<span class="hljs-string">"changeItemInArray"</span>&gt;</span> Change Array data <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">view</span>&gt;</span>{{object.text}}<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">bindtap</span>=<span class="hljs-string">"changeItemInObject"</span>&gt;</span> Change Object data <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">view</span>&gt;</span>{{newField.text}}<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">bindtap</span>=<span class="hljs-string">"addNewField"</span>&gt;</span> Add new data <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></code></pre>
<pre><code class="lang-js"><span class="hljs-comment">//index.js</span>
Page({
  data: {
    text: <span class="hljs-string">'init data'</span>,
    array: [{text: <span class="hljs-string">'init data'</span>}],
    object: {
      text: <span class="hljs-string">'init data'</span>
    }
  },
  changeText: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-comment">// this.data.text = 'changed data'  // bad, it can not work</span>
    <span class="hljs-keyword">this</span>.setData({
      text: <span class="hljs-string">'changed data'</span>
    })
  },
  changeItemInArray: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-comment">// you can use this way to modify a danamic data path</span>
    <span class="hljs-keyword">this</span>.setData({
      <span class="hljs-string">'array[0].text'</span>:<span class="hljs-string">'changed data'</span>
    })
  },
  changeItemInObject: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
    <span class="hljs-keyword">this</span>.setData({
      <span class="hljs-string">'object.text'</span>: <span class="hljs-string">'changed data'</span>
    });
  },
  addNewField: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">this</span>.setData({
      <span class="hljs-string">'newField.text'</span>: <span class="hljs-string">'new data'</span>
    })
  }
})</code></pre>
<h3 id="framework/app-service/page.html?t=20161107#getcurrentpages">getCurrentPages()</h3><p><code>getCurrentPages()</code> 函数用于获取当前页面栈的实例，以数组形式按栈的顺序给出，第一个元素为首页，最后一个元素为当前页面。</p><p><strong><em>注意：不要尝试修改页面栈，会导致路由以及页面状态错误。</em></strong></p><h3 id="framework/app-service/page.html?t=20161107#页面栈">页面栈</h3><p>框架以栈的形式维护了当前的所有页面。
当发生路由切换的时候，页面栈的表现如下：</p><table>
<thead>
<tr><th>路由方式</th>
<th>页面栈表现</th>
</tr></thead><tbody>
<tr><td>初始化</td>
<td>新页面入栈</td>
</tr><tr><td>打开新页面</td>
<td>新页面入栈</td>
</tr><tr><td>页面重定向</td>
<td>当前页面出栈，新页面入栈</td>
</tr><tr><td>页面返回</td>
<td>页面不断出栈，直到目标返回页，新页面入栈</td>
</tr><tr><td>Tab 切换</td>
<td>当前页面出栈，新页面入栈</td>
</tr></tbody></table>

<p><strong>以下内容你不需要立马完全弄明白，不过以后它会有帮助。</strong></p><h3 id="framework/app-service/page.html?t=20161107#生命周期">生命周期</h3><p>下图说明了 Page 实例的生命周期。</p><p><img src="./image/mina-lifecycle.png%3Ft=20161107" style="max-height:1000px;height:1000px"></p><h3 id="framework/app-service/page.html?t=20161107#页面的路由">页面的路由</h3><p>在小程序中所有页面的路由全部由框架进行管理，对于路由的触发方式以及页面生命周期函数如下：</p><table>
<thead>
<tr><th>路由方式</th>
<th>触发时机</th>
<th>路由后页面</th>
<th>路由前页面</th>
</tr></thead><tbody>
<tr><td>初始化</td>
<td>小程序打开的第一个页面</td>
<td>onLoad，onShow</td>
<td></td>
</tr><tr><td>打开新页面</td>
<td>调用 API <a href="#api/ui-navigate.html%3Ft=20161107#wxnavigatetoobject"><code>wx.navigateTo</code></a> 或使用组件 <a href="#component/navigator.html%3Ft=20161107"><code>&lt;navigator /&gt;</code></a></td>
<td>onLoad，onShow</td>
<td>onHide</td>
</tr><tr><td>页面重定向</td>
<td>调用 API <a href="#api/ui-navigate.html%3Ft=20161107#wxredirecttoobject"><code>wx.redirectTo</code></a> 或使用组件 <a href="#component/navigator.html%3Ft=20161107"><code>&lt;navigator /&gt;</code></a></td>
<td>onLoad，onShow</td>
<td>onUnload</td>
</tr><tr><td>页面返回</td>
<td>调用 API <a href="#api/ui-navigate.html%3Ft=20161107#wxnavigateback"><code>wx.navigateBack</code></a>或用户按左上角返回按钮</td>
<td>onShow</td>
<td>onUnload（多层页面返回每个页面都会按顺序触发onUnload）</td>
</tr><tr><td>Tab 切换</td>
<td>多 Tab 模式下用户切换 Tab</td>
<td>第一次打开 onLoad，onshow；否则 onShow</td>
<td>onHide</td>
</tr></tbody></table>



                                </section>

    </div>
    <div class="search-results">
        <div class="has-results">

            <h1 class="search-results-title"><span class="search-results-count"></span> 个结果 "<span class="search-query"></span>"</h1>
            <ul class="search-results-list"></ul>

        </div>
        <div class="no-results">

            <h1 class="search-results-title">没有找到相关内容 "<span class="search-query"></span>"</h1>

        </div>
    </div>
</div>

                        </div>
                    </div>
<div class="page-wrapper" id="framework/app-service/module.html?t=20161107" tabindex="-1" role="main">                        <div class="page-inner">
<h1 id=".$ulink.">模块化</h1>
<div id="book-search-results">
    <div class="search-noresults">

                                <section class="normal markdown-section">

                                <h2 id="framework/app-service/module.html?t=20161107#文件作用域">文件作用域</h2><p>在 JavaScript 文件中声明的变量和函数只在该文件中有效；不同的文件中可以声明相同名字的变量和函数，不会互相影响。</p><p>通过全局函数 <a href="#framework/app-service/app.html%3Ft=20161107#getapp"><code>getApp()</code></a> 可以获取全局的应用实例，如果需要全局的数据可以在 <code>App()</code> 中设置，如：</p><pre><code class="lang-javascript"><span class="hljs-comment">// app.js</span>
App({
  globalData: <span class="hljs-number">1</span>
})</code></pre>
<pre><code class="lang-javascript"><span class="hljs-comment">// a.js</span>
<span class="hljs-comment">// The localValue can only be used in file a.js.</span>
<span class="hljs-keyword">var</span> localValue = <span class="hljs-string">'a'</span>
<span class="hljs-comment">// Get the app instance.</span>
<span class="hljs-keyword">var</span> app = getApp()
<span class="hljs-comment">// Get the global data and change it.</span>
app.globalData++</code></pre>
<pre><code class="lang-javascript"><span class="hljs-comment">// b.js</span>
<span class="hljs-comment">// You can redefine localValue in file b.js, without interference with the localValue in a.js.</span>
<span class="hljs-keyword">var</span> localValue = <span class="hljs-string">'b'</span>
<span class="hljs-comment">// If a.js it run before b.js, now the globalData shoule be 2.</span>
<span class="hljs-built_in">console</span>.log(getApp().globalData)</code></pre>
<h2 id="framework/app-service/module.html?t=20161107#模块化">模块化</h2><p>我们可以将一些公共的代码抽离成为一个单独的 js 文件，作为一个模块。模块只有通过 <code>module.exports</code> 或者 <code>exports</code> 才能对外暴露接口。</p><p>需要注意的是：</p><ul><li><code>exports</code> 是 <code>module.exports</code> 的一个引用，因此在模块里边随意更改 <code>exports</code> 的指向会造成未知的错误。所以我们更推荐开发者采用 <code>module.exports</code> 来暴露模块接口，除非你已经清晰知道这两者的关系。
</li>
<li>小程序目前不支持直接引入 <code>node_modules</code> , 开发者需要使用到 <code>node_modules</code> 时候建议拷贝出相关的代码到小程序的目录中。
</li></ul>
<pre><code class="lang-javascript"><span class="hljs-comment">// common.js</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">sayHello</span>(<span class="hljs-params">name</span>) </span>{
  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">`Hello <span class="hljs-subst">${name}</span> !`</span>)
}
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">sayGoodbye</span>(<span class="hljs-params">name</span>) </span>{
  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">`Goodbye <span class="hljs-subst">${name}</span> !`</span>)
}

<span class="hljs-built_in">module</span>.exports.sayHello = sayHello
exports.sayGoodbye = sayGoodbye</code></pre>
<p>​在需要使用这些模块的文件中，使用 <code>require(path)</code> 将公共代码引入</p><pre><code class="lang-javascript"><span class="hljs-keyword">var</span> common = <span class="hljs-built_in">require</span>(<span class="hljs-string">'common.js'</span>)
Page({
  helloMINA: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    common.sayHello(<span class="hljs-string">'MINA'</span>)
  },
  goodbyeMINA: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    common.sayGoodbye(<span class="hljs-string">'MINA'</span>)
  }
})</code></pre>
<h2 id="framework/app-service/module.html?t=20161107#es6-语法以及-api-支持">ES6 语法以及 API 支持</h2><p>微信小程序运行在三端：iOS、Android 和 用于调试的开发者工具</p><ul><li>在 iOS 上，小程序的 javascript 代码是运行在 JavaScriptCore 中
</li>
<li>在 Android 上，小程序的 javascript 代码是通过 X5 内核来解析
</li>
<li>在 开发工具上， 小程序的 javascript 代码是运行在 nwjs（chrome内核） 中
</li></ul>
<p>虽然尽管三端的环境是十分相似的，但是至少在目前还是有一些区别的，这给很多开发者带来很大的困扰。</p><p>在 0.10.101000 以及之后版本的开发工具中，会默认使用 <code>babel</code> 将开发者代码 <code>ES6</code> 语法转换为三端都能很好支持的 <code>ES5</code> 的代码，帮助开发者解决环境不同所带来的开发问题。开发者可以在项目设置中关闭这个功能。</p><p>需要注意的是：</p><ul><li>这种转换只会帮助开发处理语法上问题，新的 <code>ES6</code> 的 API 例如 <code>Promise</code> 等需要开发者自行引入 <code>Polyfill</code> 或者别的类库。
</li>
<li>为了提高代码质量，在开启 <code>ES6</code> 转换功能的情况下，默认启用 <code>javasctipt</code> 严格模式，请参考  <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Strict_mode?t=20161107" target="_blank">"use strict"</a> 。
</li></ul>


                                </section>

    </div>
    <div class="search-results">
        <div class="has-results">

            <h1 class="search-results-title"><span class="search-results-count"></span> 个结果 "<span class="search-query"></span>"</h1>
            <ul class="search-results-list"></ul>

        </div>
        <div class="no-results">

            <h1 class="search-results-title">没有找到相关内容 "<span class="search-query"></span>"</h1>

        </div>
    </div>
</div>

                        </div>
                    </div>
<div class="page-wrapper" id="framework/app-service/api.html?t=20161107" tabindex="-1" role="main">                        <div class="page-inner">
<h1 id=".$ulink.">API</h1>
<div id="book-search-results">
    <div class="search-noresults">

                                <section class="normal markdown-section">

                                <h1 id="api">API</h1><p>小程序开发框架提供丰富的微信原生 API，可以方便的调起微信提供的能力，如获取用户信息，本地存储，支付功能等。</p><p>详细介绍请参考 <a href="#api/index.html%3Ft=20161107">API 文档</a></p>

                                </section>

    </div>
    <div class="search-results">
        <div class="has-results">

            <h1 class="search-results-title"><span class="search-results-count"></span> 个结果 "<span class="search-query"></span>"</h1>
            <ul class="search-results-list"></ul>

        </div>
        <div class="no-results">

            <h1 class="search-results-title">没有找到相关内容 "<span class="search-query"></span>"</h1>

        </div>
    </div>
</div>

                        </div>
                    </div>
<div class="page-wrapper" id="framework/view/index.html?t=20161107" tabindex="-1" role="main">                        <div class="page-inner">
<h1 id=".$ulink.">视图层</h1>
<div id="book-search-results">
    <div class="search-noresults">

                                <section class="normal markdown-section">

                                <h1 id="视图层">视图层</h1><p>框架的视图层由 WXML 与 WXSS 编写，由组件来进行展示。</p><p>将逻辑层的数据反应成视图，同时将视图层的事件发送给逻辑层。</p><p>WXML(WeiXin Markup language)用于描述页面的结构。</p><p>WXSS(WeiXin Style Sheet)用于描述页面的样式。</p><p>组件(Component)是视图的基本组成单元。</p>

                                </section>

    </div>
    <div class="search-results">
        <div class="has-results">

            <h1 class="search-results-title"><span class="search-results-count"></span> 个结果 "<span class="search-query"></span>"</h1>
            <ul class="search-results-list"></ul>

        </div>
        <div class="no-results">

            <h1 class="search-results-title">没有找到相关内容 "<span class="search-query"></span>"</h1>

        </div>
    </div>
</div>

                        </div>
                    </div>
<div class="page-wrapper" id="framework/view/wxml/index.html?t=20161107" tabindex="-1" role="main">                        <div class="page-inner">
<h1 id=".$ulink.">WXML</h1>
<div id="book-search-results">
    <div class="search-noresults">

                                <section class="normal markdown-section">

                                <h1 id="wxml">WXML</h1><p>WXML（WeiXin Markup Language）是框架设计的一套标签语言，结合<a href="#component/index.html%3Ft=20161107">基础组件</a>、<a href="#framework/view/wxml/event.html%3Ft=20161107">事件系统</a>，可以构建出页面的结构。</p><p>用以下一些简单的例子来看看 WXML 具有什么能力：</p><h3 id="framework/view/wxml/index.html?t=20161107#数据绑定"><a href="#framework/view/wxml/data.html%3Ft=20161107">数据绑定</a></h3><pre><code class="lang-html"><span class="hljs-comment">&lt;!--wxml--&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">view</span>&gt;</span> {{message}} <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span></code></pre>
<pre><code class="lang-js"><span class="hljs-comment">// page.js</span>
Page({
  data: {
    message: <span class="hljs-string">'Hello MINA!'</span>
  }
})</code></pre>
<h3 id="framework/view/wxml/index.html?t=20161107#列表渲染"><a href="#framework/view/wxml/list.html%3Ft=20161107">列表渲染</a></h3><pre><code class="lang-html"><span class="hljs-comment">&lt;!--wxml--&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">wx:for</span>=<span class="hljs-string">"{{array}}"</span>&gt;</span> {{item}} <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span></code></pre>
<pre><code class="lang-js"><span class="hljs-comment">// page.js</span>
Page({
  data: {
    array: [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]
  }
})</code></pre>
<h3 id="framework/view/wxml/index.html?t=20161107#条件渲染"><a href="#framework/view/wxml/conditional.html%3Ft=20161107">条件渲染</a></h3><pre><code class="lang-html"><span class="hljs-comment">&lt;!--wxml--&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">wx:if</span>=<span class="hljs-string">"{{view == 'WEBVIEW'}}"</span>&gt;</span> WEBVIEW <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">wx:elif</span>=<span class="hljs-string">"{{view == 'APP'}}"</span>&gt;</span> APP <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">wx:else</span>=<span class="hljs-string">"{{view == 'MINA'}}"</span>&gt;</span> MINA <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span></code></pre>
<pre><code class="lang-js"><span class="hljs-comment">// page.js</span>
Page({
  data: {
    view: <span class="hljs-string">'MINA'</span>
  }
})</code></pre>
<h3 id="framework/view/wxml/index.html?t=20161107#模板"><a href="#framework/view/wxml/template.html%3Ft=20161107">模板</a></h3><pre><code class="lang-html"><span class="hljs-comment">&lt;!--wxml--&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">template</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"staffName"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">view</span>&gt;</span>
    FirstName: {{firstName}}, LastName: {{lastName}}
  <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">template</span> <span class="hljs-attr">is</span>=<span class="hljs-string">"staffName"</span> <span class="hljs-attr">data</span>=<span class="hljs-string">"{{...staffA}}"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">template</span> <span class="hljs-attr">is</span>=<span class="hljs-string">"staffName"</span> <span class="hljs-attr">data</span>=<span class="hljs-string">"{{...staffB}}"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">template</span> <span class="hljs-attr">is</span>=<span class="hljs-string">"staffName"</span> <span class="hljs-attr">data</span>=<span class="hljs-string">"{{...staffC}}"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></code></pre>
<pre><code class="lang-js"><span class="hljs-comment">// page.js</span>
Page({
  data: {
    staffA: {firstName: <span class="hljs-string">'Hulk'</span>, lastName: <span class="hljs-string">'Hu'</span>},
    staffB: {firstName: <span class="hljs-string">'Shang'</span>, lastName: <span class="hljs-string">'You'</span>},
    staffC: {firstName: <span class="hljs-string">'Gideon'</span>, lastName: <span class="hljs-string">'Lin'</span>}
  }
})</code></pre>
<h3 id="framework/view/wxml/index.html?t=20161107#事件"><a href="#framework/view/wxml/event.html%3Ft=20161107">事件</a></h3><pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">bindtap</span>=<span class="hljs-string">"add"</span>&gt;</span> {{count}} <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span></code></pre>
<pre><code class="lang-js">Page({
  data: {
    count: <span class="hljs-number">1</span>
  },
  add: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
    <span class="hljs-keyword">this</span>.setData({
      count: <span class="hljs-keyword">this</span>.data.count + <span class="hljs-number">1</span>
    })
  }
})</code></pre>
<p>具体的能力以及使用方式在以下章节查看：</p><p><a href="#framework/view/wxml/data.html%3Ft=20161107">数据绑定</a>、<a href="#framework/view/wxml/list.html%3Ft=20161107">列表渲染</a>、<a href="#framework/view/wxml/conditional.html%3Ft=20161107">条件渲染</a>、<a href="#framework/view/wxml/template.html%3Ft=20161107">模板</a>、<a href="#framework/view/wxml/event.html%3Ft=20161107">事件</a>、<a href="#framework/view/wxml/import.html%3Ft=20161107">引用</a></p>

                                </section>

    </div>
    <div class="search-results">
        <div class="has-results">

            <h1 class="search-results-title"><span class="search-results-count"></span> 个结果 "<span class="search-query"></span>"</h1>
            <ul class="search-results-list"></ul>

        </div>
        <div class="no-results">

            <h1 class="search-results-title">没有找到相关内容 "<span class="search-query"></span>"</h1>

        </div>
    </div>
</div>

                        </div>
                    </div>
<div class="page-wrapper" id="framework/view/wxml/data.html?t=20161107" tabindex="-1" role="main">                        <div class="page-inner">
<h1 id=".$ulink.">数据绑定</h1>
<div id="book-search-results">
    <div class="search-noresults">

                                <section class="normal markdown-section">

                                <h1 id="数据绑定">数据绑定</h1><p>WXML 中的动态数据均来自对应 Page 的 data。</p><h2 id="framework/view/wxml/data.html?t=20161107#简单绑定">简单绑定</h2><p>数据绑定使用 Mustache 语法（双大括号）将变量包起来，可以作用于：</p><h3 id="framework/view/wxml/data.html?t=20161107#内容">内容</h3><pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">view</span>&gt;</span> {{ message }} <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span></code></pre>
<pre><code class="lang-js">Page({
  data: {
    message: <span class="hljs-string">'Hello MINA!'</span>
  }
})</code></pre>
<h3 id="framework/view/wxml/data.html?t=20161107#组件属性需要在双引号之内">组件属性(需要在双引号之内)</h3><pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"item-{{id}}"</span>&gt;</span> <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span></code></pre>
<pre><code class="lang-js">Page({
  data: {
    id: <span class="hljs-number">0</span>
  }
})</code></pre>
<h3 id="framework/view/wxml/data.html?t=20161107#控制属性需要在双引号之内">控制属性(需要在双引号之内)</h3><pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">wx:if</span>=<span class="hljs-string">"{{condition}}"</span>&gt;</span> <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span></code></pre>
<pre><code class="lang-js">Page({
  data: {
    condition: <span class="hljs-literal">true</span>
  }
})</code></pre>
<h3 id="framework/view/wxml/data.html?t=20161107#关键字需要在双引号之内">关键字(需要在双引号之内)</h3><p><code>true</code>：boolean 类型的 true，代表真值。</p><p><code>false</code>： boolean 类型的 false，代表假值。</p><pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">checkbox</span> <span class="hljs-attr">checked</span>=<span class="hljs-string">"{{false}}"</span>&gt;</span> <span class="hljs-tag">&lt;/<span class="hljs-name">checkbox</span>&gt;</span></code></pre>
<p><strong><em>特别注意：不要直接写 <code>checked="false"</code>，其计算结果是一个字符串，转成 boolean 类型后代表真值。</em></strong></p><h2 id="framework/view/wxml/data.html?t=20161107#运算">运算</h2><p>可以在 <code>{{}}</code> 内进行简单的运算，支持的有如下几种方式：</p><h3 id="framework/view/wxml/data.html?t=20161107#三元运算">三元运算</h3><pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">hidden</span>=<span class="hljs-string">"{{flag ? true : false}}"</span>&gt;</span> Hidden <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span></code></pre>
<h3 id="framework/view/wxml/data.html?t=20161107#算数运算">算数运算</h3><pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">view</span>&gt;</span> {{a + b}} + {{c}} + d <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span></code></pre>
<pre><code class="lang-js">Page({
  data: {
    a: <span class="hljs-number">1</span>,
    b: <span class="hljs-number">2</span>,
    c: <span class="hljs-number">3</span>
  }
})</code></pre>
<p>view中的内容为 <code>3 + 3 + d</code>。</p><h3 id="framework/view/wxml/data.html?t=20161107#逻辑判断">逻辑判断</h3><pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">wx:if</span>=<span class="hljs-string">"{{length &gt; 5}}"</span>&gt;</span> <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span></code></pre>
<h3 id="framework/view/wxml/data.html?t=20161107#字符串运算">字符串运算</h3><pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">view</span>&gt;</span>{{"hello" + name}}<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span></code></pre>
<pre><code class="lang-javascript">Page({
  data:{
    name: <span class="hljs-string">'MINA'</span>
  }
})</code></pre>
<h3 id="framework/view/wxml/data.html?t=20161107#数据路径运算">数据路径运算</h3><pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">view</span>&gt;</span>{{object.key}} {{array[0]}}<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span></code></pre>
<pre><code class="lang-js">Page({
  data: {
    object: {
      key: <span class="hljs-string">'Hello '</span>
    },
    array: [<span class="hljs-string">'MINA'</span>]
  }
})</code></pre>
<h2 id="framework/view/wxml/data.html?t=20161107#组合">组合</h2><p>也可以在 Mustache 内直接进行组合，构成新的对象或者数组。</p><h3 id="framework/view/wxml/data.html?t=20161107#数组">数组</h3><pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">wx:for</span>=<span class="hljs-string">"{{[zero, 1, 2, 3, 4]}}"</span>&gt;</span> {{item}} <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span></code></pre>
<pre><code class="lang-js">Page({
  data: {
    zero: <span class="hljs-number">0</span>
  }
})</code></pre>
<p>最终组合成数组<code>[0, 1, 2, 3, 4]</code>。</p><h3 id="framework/view/wxml/data.html?t=20161107#对象">对象</h3><pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span> <span class="hljs-attr">is</span>=<span class="hljs-string">"objectCombine"</span> <span class="hljs-attr">data</span>=<span class="hljs-string">"{{for: a, bar: b}}"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></code></pre>
<pre><code class="lang-js">Page({
  data: {
    a: <span class="hljs-number">1</span>,
    b: <span class="hljs-number">2</span>
  }
})</code></pre>
<p>最终组合成的对象是 <code>{for: 1, bar: 2}</code></p><p>也可以用扩展运算符 <code>...</code> 来将一个对象展开</p><pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span> <span class="hljs-attr">is</span>=<span class="hljs-string">"objectCombine"</span> <span class="hljs-attr">data</span>=<span class="hljs-string">"{{...obj1, ...obj2, e: 5}}"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></code></pre>
<pre><code class="lang-js">Page({
  data: {
    obj1: {
      a: <span class="hljs-number">1</span>,
      b: <span class="hljs-number">2</span>
    },
    obj2: {
      c: <span class="hljs-number">3</span>,
      d: <span class="hljs-number">4</span>
    }
  }
})</code></pre>
<p>最终组合成的对象是 <code>{a: 1, b: 2, c: 3, d: 4, e: 5}</code>。</p><p>如果对象的 key 和 value 相同，也可以间接地表达。</p><pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span> <span class="hljs-attr">is</span>=<span class="hljs-string">"objectCombine"</span> <span class="hljs-attr">data</span>=<span class="hljs-string">"{{foo, bar}}"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></code></pre>
<pre><code class="lang-js">Page({
  data: {
    foo: <span class="hljs-string">'my-foo'</span>,
    bar: <span class="hljs-string">'my-bar'</span>
  }
})</code></pre>
<p>最终组合成的对象是 <code>{foo: 'my-foo', bar:'my-bar'}</code>。</p><p><strong>注意：</strong>上述方式可以随意组合，但是如有存在变量名相同的情况，后边的会覆盖前面，如：</p><pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span> <span class="hljs-attr">is</span>=<span class="hljs-string">"objectCombine"</span> <span class="hljs-attr">data</span>=<span class="hljs-string">"{{...obj1, ...obj2, a, c: 6}}"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></code></pre>
<pre><code class="lang-js">Page({
  data: {
    obj1: {
      a: <span class="hljs-number">1</span>,
      b: <span class="hljs-number">2</span>
    },
    obj2: {
      b: <span class="hljs-number">3</span>,
      c: <span class="hljs-number">4</span>
    },
    a: <span class="hljs-number">5</span>
  }
})</code></pre>
<p>最终组合成的对象是 <code>{a: 5, b: 3, c: 6}</code>。</p>

                                </section>

    </div>
    <div class="search-results">
        <div class="has-results">

            <h1 class="search-results-title"><span class="search-results-count"></span> 个结果 "<span class="search-query"></span>"</h1>
            <ul class="search-results-list"></ul>

        </div>
        <div class="no-results">

            <h1 class="search-results-title">没有找到相关内容 "<span class="search-query"></span>"</h1>

        </div>
    </div>
</div>

                        </div>
                    </div>
<div class="page-wrapper" id="framework/view/wxml/conditional.html?t=20161107" tabindex="-1" role="main">                        <div class="page-inner">
<h1 id=".$ulink.">条件渲染</h1>
<div id="book-search-results">
    <div class="search-noresults">

                                <section class="normal markdown-section">

                                <h1 id="条件渲染">条件渲染</h1><h3 id="framework/view/wxml/conditional.html?t=20161107#wxif">wx:if</h3><p>在框架中，我们用 <code>wx:if="{{condition}}"</code> 来判断是否需要渲染该代码块：</p><pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">wx:if</span>=<span class="hljs-string">"{{condition}}"</span>&gt;</span> True <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span></code></pre>
<p>也可以用 <code>wx:elif</code> 和 <code>wx:else</code> 来添加一个 else 块：</p><pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">wx:if</span>=<span class="hljs-string">"{{length &gt; 5}}"</span>&gt;</span> 1 <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">wx:elif</span>=<span class="hljs-string">"{{length &gt; 2}}"</span>&gt;</span> 2 <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">wx:else</span>&gt;</span> 3 <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span></code></pre>
<h3 id="framework/view/wxml/conditional.html?t=20161107#block-wxif">block wx:if</h3><p>因为 <code>wx:if</code> 是一个控制属性，需要将它添加到一个标签上。但是如果我们想一次性判断多个组件标签，我们可以使用一个 <code>&lt;block/&gt;</code> 标签将多个组件包装起来，并在上边使用 <code>wx:if</code> 控制属性。</p><pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">block</span> <span class="hljs-attr">wx:if</span>=<span class="hljs-string">"{{true}}"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">view</span>&gt;</span> view1 <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">view</span>&gt;</span> view2 <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">block</span>&gt;</span></code></pre>
<p><strong>注意：</strong> <code>&lt;block/&gt;</code> 并不是一个组件，它仅仅是一个包装元素，不会在页面中做任何渲染，只接受控制属性。</p><h3 id="framework/view/wxml/conditional.html?t=20161107#wxif-vs-hidden"><code>wx:if</code> vs <code>hidden</code></h3><p>因为 <code>wx:if</code> 之中的模板也可能包含数据绑定，所有当 <code>wx:if</code> 的条件值切换时，框架有一个局部渲染的过程，因为它会确保条件块在切换时销毁或重新渲染。</p><p>同时 <code>wx:if</code> 也是<strong>惰性的</strong>，如果在初始渲染条件为 <code>false</code>，框架什么也不做，在条件第一次变成真的时候才开始局部渲染。</p><p>相比之下，<code>hidden</code> 就简单的多，组件始终会被渲染，只是简单的控制显示与隐藏。</p><p>一般来说，<code>wx:if</code> 有更高的切换消耗而 <code>hidden</code> 有更高的初始渲染消耗。因此，如果需要频繁切换的情景下，用 <code>hidden</code> 更好，如果在运行时条件不大可能改变则 <code>wx:if</code> 较好。</p>

                                </section>

    </div>
    <div class="search-results">
        <div class="has-results">

            <h1 class="search-results-title"><span class="search-results-count"></span> 个结果 "<span class="search-query"></span>"</h1>
            <ul class="search-results-list"></ul>

        </div>
        <div class="no-results">

            <h1 class="search-results-title">没有找到相关内容 "<span class="search-query"></span>"</h1>

        </div>
    </div>
</div>

                        </div>
                    </div>
<div class="page-wrapper" id="framework/view/wxml/list.html?t=20161107" tabindex="-1" role="main">                        <div class="page-inner">
<h1 id=".$ulink.">列表渲染</h1>
<div id="book-search-results">
    <div class="search-noresults">

                                <section class="normal markdown-section">

                                <h1 id="列表渲染">列表渲染</h1><h3 id="framework/view/wxml/list.html?t=20161107#wxfor">wx:for</h3><p>在组件上使用<code>wx:for</code>控制属性绑定一个数组，即可使用数组中各项的数据重复渲染该组件。</p><p>默认数组的当前项的下标变量名默认为<code>index</code>，数组当前项的变量名默认为<code>item</code></p><pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">wx:for</span>=<span class="hljs-string">"{{array}}"</span>&gt;</span>
  {{index}}: {{item.message}}
<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span></code></pre>
<pre><code class="lang-js">Page({
  data: {
    array: [{
      message: <span class="hljs-string">'foo'</span>,
    }, {
      message: <span class="hljs-string">'bar'</span>
    }]
  }
})</code></pre>
<p>使用 <code>wx:for-item</code> 可以指定数组当前元素的变量名，</p><p>使用 <code>wx:for-index</code> 可以指定数组当前下标的变量名：</p><pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">wx:for</span>=<span class="hljs-string">"{{array}}"</span> <span class="hljs-attr">wx:for-index</span>=<span class="hljs-string">"idx"</span> <span class="hljs-attr">wx:for-item</span>=<span class="hljs-string">"itemName"</span>&gt;</span>
  {{idx}}: {{itemName.message}}
<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span></code></pre>
<p><code>wx:for</code>也可以嵌套，下边是一个九九乘法表</p><pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">wx:for</span>=<span class="hljs-string">"{{[1, 2, 3, 4, 5, 6, 7, 8, 9]}}"</span> <span class="hljs-attr">wx:for-item</span>=<span class="hljs-string">"i"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">wx:for</span>=<span class="hljs-string">"{{[1, 2, 3, 4, 5, 6, 7, 8, 9]}}"</span> <span class="hljs-attr">wx:for-item</span>=<span class="hljs-string">"j"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">wx:if</span>=<span class="hljs-string">"{{i &lt;= j}}"</span>&gt;</span>
      {{i}} * {{j}} = {{i * j}}
    <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span></code></pre>
<h3 id="framework/view/wxml/list.html?t=20161107#block-wxfor">block wx:for</h3><p>类似<code>block wx:if</code>，也可以将<code>wx:for</code>用在<code>&lt;block/&gt;</code>标签上，以渲染一个包含多节点的结构块。例如：</p><pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">block</span> <span class="hljs-attr">wx:for</span>=<span class="hljs-string">"{{[1, 2, 3]}}"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">view</span>&gt;</span> {{index}}: <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">view</span>&gt;</span> {{item}} <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">block</span>&gt;</span></code></pre>
<h3 id="framework/view/wxml/list.html?t=20161107#wxkey">wx:key</h3><p>如果列表中项目的位置会动态改变或者有新的项目添加到列表中，并且希望列表中的项目保持自己的特征和状态（如 <code>&lt;input/&gt;</code> 中的输入内容，<code>&lt;switch/&gt;</code> 的选中状态），需要使用 <code>wx:key</code> 来指定列表中项目的唯一的标识符。</p><p><code>wx:key</code> 的值以两种形式提供</p><ol><li>字符串，代表在 for 循环的 array 中 item 的某个 property，该 property 的值需要是列表中唯一的字符串或数字，且不能动态改变。
</li>
<li>保留关键字 <code>*this</code> 代表在 for 循环中的 item 本身，这种表示需要 item 本身是一个唯一的字符串或者数字，如：
</li></ol>
<p>当数据改变触发渲染层重新渲染的时候，会校正带有 key 的组件，框架会确保他们被重新排序，而不是重新创建，以确保使组件保持自身的状态，并且提高列表渲染时的效率。</p><p><strong>如不提供 <code>wx:key</code>，会报一个 <code>warning</code>， 如果明确知道该列表是静态，或者不必关注其顺序，可以选择忽略。</strong></p><p><strong>示例代码：</strong></p><pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">switch</span> <span class="hljs-attr">wx:for</span>=<span class="hljs-string">"{{objectArray}}"</span> <span class="hljs-attr">wx:key</span>=<span class="hljs-string">"unique"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"display: block;"</span>&gt;</span> {{item.id}} <span class="hljs-tag">&lt;/<span class="hljs-name">switch</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">bindtap</span>=<span class="hljs-string">"switch"</span>&gt;</span> Switch <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">bindtap</span>=<span class="hljs-string">"addToFront"</span>&gt;</span> Add to the front <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">switch</span> <span class="hljs-attr">wx:for</span>=<span class="hljs-string">"{{numberArray}}"</span> <span class="hljs-attr">wx:key</span>=<span class="hljs-string">"*this"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"display: block;"</span>&gt;</span> {{item}} <span class="hljs-tag">&lt;/<span class="hljs-name">switch</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">bindtap</span>=<span class="hljs-string">"addNumberToFront"</span>&gt;</span> Add to the front <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></code></pre>
<pre><code class="lang-js">Page({
  data: {
    objectArray: [
      {id: <span class="hljs-number">5</span>, unique: <span class="hljs-string">'unique_5'</span>},
      {id: <span class="hljs-number">4</span>, unique: <span class="hljs-string">'unique_4'</span>},
      {id: <span class="hljs-number">3</span>, unique: <span class="hljs-string">'unique_3'</span>},
      {id: <span class="hljs-number">2</span>, unique: <span class="hljs-string">'unique_2'</span>},
      {id: <span class="hljs-number">1</span>, unique: <span class="hljs-string">'unique_1'</span>},
      {id: <span class="hljs-number">0</span>, unique: <span class="hljs-string">'unique_0'</span>},
    ],
    numberArray: [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>]
  },
  <span class="hljs-keyword">switch</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
    <span class="hljs-keyword">const</span> length = <span class="hljs-keyword">this</span>.data.objectArray.length
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; length; ++i) {
      <span class="hljs-keyword">const</span> x = <span class="hljs-built_in">Math</span>.floor(<span class="hljs-built_in">Math</span>.random() * length)
      <span class="hljs-keyword">const</span> y = <span class="hljs-built_in">Math</span>.floor(<span class="hljs-built_in">Math</span>.random() * length)
      <span class="hljs-keyword">const</span> temp = <span class="hljs-keyword">this</span>.data.objectArray[x]
      <span class="hljs-keyword">this</span>.data.objectArray[x] = <span class="hljs-keyword">this</span>.data.objectArray[y]
      <span class="hljs-keyword">this</span>.data.objectArray[y] = temp
    }
    <span class="hljs-keyword">this</span>.setData({
      objectArray: <span class="hljs-keyword">this</span>.data.objectArray
    })
  },
  addToFront: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
    <span class="hljs-keyword">const</span> length = <span class="hljs-keyword">this</span>.data.objectArray.length
    <span class="hljs-keyword">this</span>.data.objectArray = [{id: length, unique: <span class="hljs-string">'unique_'</span> + length}].concat(<span class="hljs-keyword">this</span>.data.objectArray)
    <span class="hljs-keyword">this</span>.setData({
      objectArray: <span class="hljs-keyword">this</span>.data.objectArray
    })
  },
  addNumberToFront: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{
    <span class="hljs-keyword">this</span>.data.numberArray = [ <span class="hljs-keyword">this</span>.data.numberArray.length + <span class="hljs-number">1</span> ].concat(<span class="hljs-keyword">this</span>.data.numberArray)
    <span class="hljs-keyword">this</span>.setData({
      numberArray: <span class="hljs-keyword">this</span>.data.numberArray
    })
  }
})</code></pre>


                                </section>

    </div>
    <div class="search-results">
        <div class="has-results">

            <h1 class="search-results-title"><span class="search-results-count"></span> 个结果 "<span class="search-query"></span>"</h1>
            <ul class="search-results-list"></ul>

        </div>
        <div class="no-results">

            <h1 class="search-results-title">没有找到相关内容 "<span class="search-query"></span>"</h1>

        </div>
    </div>
</div>

                        </div>
                    </div>
<div class="page-wrapper" id="framework/view/wxml/template.html?t=20161107" tabindex="-1" role="main">                        <div class="page-inner">
<h1 id=".$ulink.">模板</h1>
<div id="book-search-results">
    <div class="search-noresults">

                                <section class="normal markdown-section">

                                <h1 id="模板">模板</h1><p>WXML提供模板（template），可以在模板中定义代码片段，然后在不同的地方调用。</p><h3 id="framework/view/wxml/template.html?t=20161107#定义模板">定义模板</h3><p>使用name属性，作为模板的名字。然后在<code>&lt;template/&gt;</code>内定义代码片段，如：</p><pre><code class="lang-html"><span class="hljs-comment">&lt;!--
  index: int
  msg: string
  time: string
--&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">template</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"msgItem"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">view</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">text</span>&gt;</span> {{index}}: {{msg}} <span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">text</span>&gt;</span> Time: {{time}} <span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></code></pre>
<h3 id="framework/view/wxml/template.html?t=20161107#使用模板">使用模板</h3><p>使用 is 属性，声明需要的使用的模板，然后将模板所需要的 data 传入，如：</p><pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span> <span class="hljs-attr">is</span>=<span class="hljs-string">"msgItem"</span> <span class="hljs-attr">data</span>=<span class="hljs-string">"{{...item}}"</span>/&gt;</span></code></pre>
<pre><code class="lang-js">Page({
  data: {
    item: {
      index: <span class="hljs-number">0</span>,
      msg: <span class="hljs-string">'this is a template'</span>,
      time: <span class="hljs-string">'2016-09-15'</span>
    }
  }
})</code></pre>
<p>is 属性可以使用 Mustache 语法，来动态决定具体需要渲染哪个模板：</p><pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"odd"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">view</span>&gt;</span> odd <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">template</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"even"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">view</span>&gt;</span> even <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">block</span> <span class="hljs-attr">wx:for</span>=<span class="hljs-string">"{{[1, 2, 3, 4, 5]}}"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">template</span> <span class="hljs-attr">is</span>=<span class="hljs-string">"{{item % 2 == 0 ? 'even' : 'odd'}}"</span>/&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">block</span>&gt;</span></code></pre>
<h3 id="framework/view/wxml/template.html?t=20161107#模板的作用域">模板的作用域</h3><p>模板拥有自己的作用域，只能使用data传入的数据。</p>

                                </section>

    </div>
    <div class="search-results">
        <div class="has-results">

            <h1 class="search-results-title"><span class="search-results-count"></span> 个结果 "<span class="search-query"></span>"</h1>
            <ul class="search-results-list"></ul>

        </div>
        <div class="no-results">

            <h1 class="search-results-title">没有找到相关内容 "<span class="search-query"></span>"</h1>

        </div>
    </div>
</div>

                        </div>
                    </div>
<div class="page-wrapper" id="framework/view/wxml/event.html?t=20161107" tabindex="-1" role="main">                        <div class="page-inner">
<h1 id=".$ulink.">事件</h1>
<div id="book-search-results">
    <div class="search-noresults">

                                <section class="normal markdown-section">

                                <h1 id="事件">事件</h1><h2 id="framework/view/wxml/event.html?t=20161107#什么是事件">什么是事件</h2><ul><li>事件是视图层到逻辑层的通讯方式。
</li>
<li>事件可以将用户的行为反馈到逻辑层进行处理。
</li>
<li>事件可以绑定在组件上，当达到触发事件，就会执行逻辑层中对应的事件处理函数。
</li>
<li>事件对象可以携带额外信息，如 id, dataset, touches。
</li></ul>
<h2 id="framework/view/wxml/event.html?t=20161107#事件的使用方式">事件的使用方式</h2><ul><li>在组件中绑定一个事件处理函数。
</li></ul>
<p>如<code>bindtap</code>，当用户点击该组件的时候会在该页面对应的Page中找到相应的事件处理函数。</p><pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"tapTest"</span> <span class="hljs-attr">data-hi</span>=<span class="hljs-string">"WeChat"</span> <span class="hljs-attr">bindtap</span>=<span class="hljs-string">"tapName"</span>&gt;</span> Click me! <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span></code></pre>
<ul><li>在相应的Page定义中写上相应的事件处理函数，参数是event。
</li></ul>
<pre><code class="lang-js">Page({
  tapName: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) </span>{
    <span class="hljs-built_in">console</span>.log(event)
  }
})</code></pre>
<ul><li>可以看到log出来的信息大致如下：
<pre><code class="lang-json">{
<span class="hljs-string">"type"</span>:<span class="hljs-string">"tap"</span>,
<span class="hljs-string">"timeStamp"</span>:<span class="hljs-number">895</span>,
<span class="hljs-string">"target"</span>: {
  <span class="hljs-string">"id"</span>: <span class="hljs-string">"tapTest"</span>,
  <span class="hljs-string">"dataset"</span>:  {
    <span class="hljs-string">"hi"</span>:<span class="hljs-string">"WeChat"</span>
  }
},
<span class="hljs-string">"currentTarget"</span>:  {
  <span class="hljs-string">"id"</span>: <span class="hljs-string">"tapTest"</span>,
  <span class="hljs-string">"dataset"</span>: {
    <span class="hljs-string">"hi"</span>:<span class="hljs-string">"WeChat"</span>
  }
},
<span class="hljs-string">"detail"</span>: {
  <span class="hljs-string">"x"</span>:<span class="hljs-number">53</span>,
  <span class="hljs-string">"y"</span>:<span class="hljs-number">14</span>
},
<span class="hljs-string">"touches"</span>:[{
  <span class="hljs-string">"identifier"</span>:<span class="hljs-number">0</span>,
  <span class="hljs-string">"pageX"</span>:<span class="hljs-number">53</span>,
  <span class="hljs-string">"pageY"</span>:<span class="hljs-number">14</span>,
  <span class="hljs-string">"clientX"</span>:<span class="hljs-number">53</span>,
  <span class="hljs-string">"clientY"</span>:<span class="hljs-number">14</span>
}],
<span class="hljs-string">"changedTouches"</span>:[{
  <span class="hljs-string">"identifier"</span>:<span class="hljs-number">0</span>,
  <span class="hljs-string">"pageX"</span>:<span class="hljs-number">53</span>,
  <span class="hljs-string">"pageY"</span>:<span class="hljs-number">14</span>,
  <span class="hljs-string">"clientX"</span>:<span class="hljs-number">53</span>,
  <span class="hljs-string">"clientY"</span>:<span class="hljs-number">14</span>
}]
}</code></pre>
</li></ul>
<h2 id="framework/view/wxml/event.html?t=20161107#事件详解">事件详解</h2><h3 id="framework/view/wxml/event.html?t=20161107#事件分类">事件分类</h3><p>事件分为冒泡事件和非冒泡事件：</p><ol><li>冒泡事件：当一个组件上的事件被触发后，该事件会向父节点传递。
</li>
<li>非冒泡事件：当一个组件上的事件被触发后，该事件不会向父节点传递。
</li></ol>
<p>WXML的冒泡事件列表：</p><table>
<thead>
<tr><th>类型</th>
<th>触发条件</th>
</tr></thead><tbody>
<tr><td>touchstart</td>
<td>手指触摸动作开始</td>
</tr><tr><td>touchmove</td>
<td>手指触摸后移动</td>
</tr><tr><td>touchcancel</td>
<td>手指触摸动作被打断，如来电提醒，弹窗</td>
</tr><tr><td>touchend</td>
<td>手指触摸动作结束</td>
</tr><tr><td>tap</td>
<td>手指触摸后马上离开</td>
</tr><tr><td>longtap</td>
<td>手指触摸后，超过350ms再离开</td>
</tr></tbody></table>

<p><strong>注：除上表之外的其他组件自定义事件如无特殊申明都是非冒泡事件，如<a href="#component/form.md%3Ft=20161107"><code>&lt;form/&gt;</code></a>的<code>submit</code>事件，<a href="#component/input.md%3Ft=20161107"><code>&lt;input/&gt;</code></a>的<code>input</code>事件，<a href="#component/scroll-view.md%3Ft=20161107"><code>&lt;scroll-view/&gt;</code></a>的<code>scroll</code>事件，(详见各个<a href="#component/index.md%3Ft=20161107">组件</a>)</strong></p><h3 id="framework/view/wxml/event.html?t=20161107#事件绑定">事件绑定</h3><p>事件绑定的写法同组件的属性，以 key、value 的形式。</p><ul><li>key 以<code>bind</code>或<code>catch</code>开头，然后跟上事件的类型，如<code>bindtap</code>, <code>catchtouchstart</code>
</li>
<li>value 是一个字符串，需要在对应的 Page 中定义同名的函数。不然当触发事件的时候会报错。
</li></ul>
<p><code>bind</code>事件绑定不会阻止冒泡事件向上冒泡，<code>catch</code>事件绑定可以阻止冒泡事件向上冒泡。</p><p>如在下边这个例子中，点击 inner view 会先后触发<code>handleTap3</code>和<code>handleTap2</code>(因为tap事件会冒泡到 middle view，而 middle view 阻止了 tap 事件冒泡，不再向父节点传递)，点击 middle view 会触发<code>handleTap2</code>，点击 outter view 会触发<code>handleTap1</code>。</p><pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"outter"</span> <span class="hljs-attr">bindtap</span>=<span class="hljs-string">"handleTap1"</span>&gt;</span>
  outer view
  <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"middle"</span> <span class="hljs-attr">catchtap</span>=<span class="hljs-string">"handleTap2"</span>&gt;</span>
    middle view
    <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"inner"</span> <span class="hljs-attr">bindtap</span>=<span class="hljs-string">"handleTap3"</span>&gt;</span>
      inner view
    <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span></code></pre>
<h3 id="framework/view/wxml/event.html?t=20161107#事件对象">事件对象</h3><p>如无特殊说明，当组件触发事件时，逻辑层绑定该事件的处理函数会收到一个事件对象。</p><p><strong>BaseEvent 基础事件对象属性列表：</strong></p><table>
<thead>
<tr><th>属性</th>
<th>类型</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td><a href="#framework/view/wxml/event.html%3Ft=20161107#type">type</a></td>
<td>String</td>
<td>事件类型</td>
</tr><tr><td><a href="#framework/view/wxml/event.html%3Ft=20161107#timeStamp">timeStamp</a></td>
<td>Integer</td>
<td>事件生成时的时间戳</td>
</tr><tr><td><a href="#framework/view/wxml/event.html%3Ft=20161107#target">target</a></td>
<td>Object</td>
<td>触发事件的组件的一些属性值集合</td>
</tr><tr><td><a href="#framework/view/wxml/event.html%3Ft=20161107#currenttarget">currentTarget</a></td>
<td>Object</td>
<td>当前组件的一些属性值集合</td>
</tr></tbody></table>

<p><strong>CustomEvent 自定义事件对象属性列表（继承 BaseEvent）：</strong></p><table>
<thead>
<tr><th>属性</th>
<th>类型</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td><a href="#framework/view/wxml/event.html%3Ft=20161107#detail">detail</a></td>
<td>Object</td>
<td>额外的信息</td>
</tr></tbody></table>

<p><strong>TouchEvent 触摸事件对象属性列表（继承 BaseEvent）：</strong></p><table>
<thead>
<tr><th>属性</th>
<th>类型</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td><a href="#framework/view/wxml/event.html%3Ft=20161107#touches">touches</a></td>
<td>Array</td>
<td>触摸事件，当前停留在屏幕中的触摸点信息的数组</td>
</tr><tr><td><a href="#framework/view/wxml/event.html%3Ft=20161107#changedTouches">changedTouches</a></td>
<td>Array</td>
<td>触摸事件，当前变化的触摸点信息的数组</td>
</tr></tbody></table>

<p><strong>特殊事件： <code>&lt;canvas/&gt;</code> 中的触摸事件不可冒泡，所以没有 currentTarget。</strong></p><h3 id="framework/view/wxml/event.html?t=20161107#type">type</h3><p>代表事件的类型。</p><h3 id="framework/view/wxml/event.html?t=20161107#timestamp">timeStamp</h3><p>页面打开到触发事件所经过的毫秒数。</p><h3 id="framework/view/wxml/event.html?t=20161107#target">target</h3><p>触发事件的源组件。</p><table>
<thead>
<tr><th>属性</th>
<th>类型</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>id</td>
<td>String</td>
<td>事件源组件的id</td>
</tr><tr><td>tagName</td>
<td>String</td>
<td>当前组件的类型</td>
</tr><tr><td><a href="#framework/view/wxml/event.html%3Ft=20161107#dataset">dataset</a></td>
<td>Object</td>
<td>事件源组件上由<code>data-</code>开头的自定义属性组成的集合</td>
</tr></tbody></table>

<h3 id="framework/view/wxml/event.html?t=20161107#currenttarget">currentTarget</h3><p>事件绑定的当前组件。</p><table>
<thead>
<tr><th>属性</th>
<th>类型</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>id</td>
<td>String</td>
<td>当前组件的id</td>
</tr><tr><td>tagName</td>
<td>String</td>
<td>当前组件的类型</td>
</tr><tr><td><a href="#framework/view/wxml/event.html%3Ft=20161107#dataset">dataset</a></td>
<td>Object</td>
<td>当前组件上由<code>data-</code>开头的自定义属性组成的集合</td>
</tr></tbody></table>

<p><strong>说明： target 和 currentTarget 可以参考上例中，点击 inner view 时，<code>handleTap3</code> 收到的事件对象 target 和 currentTarget 都是 inner，而 <code>handleTap2</code> 收到的事件对象 target 就是 inner，currentTarget 就是 middle。</strong></p><h4 id="framework/view/wxml/event.html?t=20161107#dataset">dataset</h4><p>在组件中可以定义数据，这些数据将会通过事件传递给 SERVICE。
书写方式：
以<code>data-</code>开头，多个单词由连字符<code>-</code>链接，不能有大写(大写会自动转成小写)如<code>data-element-type</code>，最终在 event.target.dataset 中会将连字符转成驼峰<code>elementType</code>。</p><p><strong>示例：</strong></p><pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">data-alpha-beta</span>=<span class="hljs-string">"1"</span> <span class="hljs-attr">data-alphaBeta</span>=<span class="hljs-string">"2"</span> <span class="hljs-attr">bindtap</span>=<span class="hljs-string">"bindViewTap"</span>&gt;</span> DataSet Test <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span></code></pre>
<pre><code class="lang-javascript">Page({
  bindViewTap:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>)</span>{
    event.target.dataset.alphaBeta === <span class="hljs-number">1</span> <span class="hljs-comment">// - 会转为驼峰写法</span>
    event.target.dataset.alphabeta === <span class="hljs-number">2</span> <span class="hljs-comment">// 大写会转为小写</span>
  }
})</code></pre>
<h3 id="framework/view/wxml/event.html?t=20161107#touches">touches</h3><p>touches 是一个数组，每个元素为一个 Touch 对象（canvas 触摸事件中携带的 touches 是 CanvasTouch 数组）。
表示当前停留在屏幕上的触摸点。</p><h4 id="framework/view/wxml/event.html?t=20161107#touch-对象">Touch 对象</h4><table>
<thead>
<tr><th>属性</th>
<th>类型</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>identifier</td>
<td>Number</td>
<td>触摸点的标识符</td>
</tr><tr><td>pageX, pageY</td>
<td>Number</td>
<td>距离文档左上角的距离，文档的左上角为原点 ，横向为X轴，纵向为Y轴</td>
</tr><tr><td>clientX, clientY</td>
<td>Number</td>
<td>距离页面可显示区域（屏幕除去导航条）左上角距离，横向为X轴，纵向为Y轴</td>
</tr></tbody></table>

<h4 id="framework/view/wxml/event.html?t=20161107#canvastouch-对象">CanvasTouch 对象</h4><table>
<thead>
<tr><th>属性</th>
<th>类型</th>
<th>说明</th>
<th>特殊说明</th>
</tr></thead><tbody>
<tr><td>identifier</td>
<td>Number</td>
<td>触摸点的标识符</td>
<td></td>
</tr><tr><td>x, y</td>
<td>Number</td>
<td>距离 Canvas 左上角的距离，Canvas 的左上角为原点 ，横向为X轴，纵向为Y轴</td>
<td></td>
</tr></tbody></table>

<h3 id="framework/view/wxml/event.html?t=20161107#changedtouches">changedTouches</h3><p>changedTouches 数据格式同 touches。
表示有变化的触摸点，如从无变有（touchstart），位置变化（touchmove），从有变无（touchend、touchcancel）。</p><h3 id="framework/view/wxml/event.html?t=20161107#detail">detail</h3><p>自定义事件所携带的数据，如表单组件的提交事件会携带用户的输入，媒体的错误事件会携带错误信息，详见<a href="#wxml/wxml-component.md%3Ft=20161107">组件</a>定义中各个事件的定义。</p>

                                </section>

    </div>
    <div class="search-results">
        <div class="has-results">

            <h1 class="search-results-title"><span class="search-results-count"></span> 个结果 "<span class="search-query"></span>"</h1>
            <ul class="search-results-list"></ul>

        </div>
        <div class="no-results">

            <h1 class="search-results-title">没有找到相关内容 "<span class="search-query"></span>"</h1>

        </div>
    </div>
</div>

                        </div>
                    </div>
<div class="page-wrapper" id="framework/view/wxml/import.html?t=20161107" tabindex="-1" role="main">                        <div class="page-inner">
<h1 id=".$ulink.">引用</h1>
<div id="book-search-results">
    <div class="search-noresults">

                                <section class="normal markdown-section">

                                <h1 id="引用">引用</h1><p>WXML 提供两种文件引用方式<code>import</code>和<code>include</code>。</p><h3 id="framework/view/wxml/import.html?t=20161107#import">import</h3><p><code>import</code>可以在该文件中使用目标文件定义的<code>template</code>，如：</p><p>在 item.wxml 中定义了一个叫<code>item</code>的<code>template</code>：</p><pre><code class="lang-html"><span class="hljs-comment">&lt;!-- item.wxml --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">template</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"item"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">text</span>&gt;</span>{{text}}<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></code></pre>
<p>在 index.wxml 中引用了 item.wxml，就可以使用<code>item</code>模板：</p><pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">import</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"item.wxml"</span>/&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">template</span> <span class="hljs-attr">is</span>=<span class="hljs-string">"item"</span> <span class="hljs-attr">data</span>=<span class="hljs-string">"{{text: 'forbar'}}"</span>/&gt;</span></code></pre>
<h3 id="framework/view/wxml/import.html?t=20161107#import-的作用域">import 的作用域</h3><p>import 有作用域的概念，即只会 import 目标文件中定义的 template，而不会 import 目标文件 import 的 template。</p><p><strong>如：C import B，B import A，在C中可以使用B定义的<code>template</code>，在B中可以使用A定义的<code>template</code>，但是C不能使用A定义的<code>template</code></strong>。</p><pre><code class="lang-html"><span class="hljs-comment">&lt;!-- A.wxml --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">template</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"A"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">text</span>&gt;</span> A template <span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></code></pre>
<pre><code class="lang-html"><span class="hljs-comment">&lt;!-- B.wxml --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">import</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"a.wxml"</span>/&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">template</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"B"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">text</span>&gt;</span> B template <span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></code></pre>
<pre><code class="lang-html"><span class="hljs-comment">&lt;!-- C.wxml --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">import</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"b.wxml"</span>/&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">template</span> <span class="hljs-attr">is</span>=<span class="hljs-string">"A"</span>/&gt;</span>  <span class="hljs-comment">&lt;!-- Error! Can not use tempalte when not import A. --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">template</span> <span class="hljs-attr">is</span>=<span class="hljs-string">"B"</span>/&gt;</span></code></pre>
<h3 id="framework/view/wxml/import.html?t=20161107#include">include</h3><p><code>include</code>可以将目标文件除了<code>&lt;template/&gt;</code>的整个代码引入，相当于是拷贝到<code>include</code>位置，如：</p><pre><code class="lang-html"><span class="hljs-comment">&lt;!-- index.wxml --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">include</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"header.wxml"</span>/&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">view</span>&gt;</span> body <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">include</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"footer.wxml"</span>/&gt;</span></code></pre>
<pre><code class="lang-html"><span class="hljs-comment">&lt;!-- header.wxml --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">view</span>&gt;</span> header <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span></code></pre>
<pre><code class="lang-html"><span class="hljs-comment">&lt;!-- footer.wxml --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">view</span>&gt;</span> footer <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span></code></pre>


                                </section>

    </div>
    <div class="search-results">
        <div class="has-results">

            <h1 class="search-results-title"><span class="search-results-count"></span> 个结果 "<span class="search-query"></span>"</h1>
            <ul class="search-results-list"></ul>

        </div>
        <div class="no-results">

            <h1 class="search-results-title">没有找到相关内容 "<span class="search-query"></span>"</h1>

        </div>
    </div>
</div>

                        </div>
                    </div>
<div class="page-wrapper" id="framework/view/wxss.html?t=20161107" tabindex="-1" role="main">                        <div class="page-inner">
<h1 id=".$ulink.">WXSS</h1>
<div id="book-search-results">
    <div class="search-noresults">

                                <section class="normal markdown-section">

                                <h1 id="wxss">WXSS</h1><p>WXSS(WeiXin Style Sheets)是一套样式语言，用于描述 WXML 的组件样式。</p><p>WXSS 用来决定 WXML 的组件应该怎么显示。</p><p>为了适应广大的前端开发者，我们的 WXSS 具有 CSS 大部分特性。
同时为了更适合开发微信小程序，我们对 CSS 进行了扩充以及修改。</p><p>与 CSS 相比我们扩展的特性有：</p><ul><li>尺寸单位
</li>
<li>样式导入
</li></ul>
<h3 id="framework/view/wxss.html?t=20161107#尺寸单位">尺寸单位</h3><ul><li>rpx（responsive pixel）: 可以根据屏幕宽度进行自适应。规定屏幕宽为750rpx。如在 iPhone6 上，屏幕宽度为375px，共有750个物理像素，则750rpx = 375px = 750物理像素，1rpx = 0.5px = 1物理像素。
</li></ul>
<table>
<thead>
<tr><th>设备</th>
<th>rpx换算px (屏幕宽度/750)</th>
<th>px换算rpx (750/屏幕宽度)</th>
</tr></thead><tbody>
<tr><td>iPhone5</td>
<td>1rpx = 0.42px</td>
<td>1px = 2.34rpx</td>
</tr><tr><td>iPhone6</td>
<td>1rpx = 0.5px</td>
<td>1px = 2rpx</td>
</tr><tr><td>iPhone6 Plus</td>
<td>1rpx = 0.552px</td>
<td>1px = 1.81rpx</td>
</tr></tbody></table>

<ul><li>rem（root em）: 规定屏幕宽度为20rem；1rem = (750/20)rpx 。
</li></ul>
<p><strong>建议：</strong> 开发微信小程序时设计师可以用 iPhone6 作为视觉稿的标准。
<strong>注意：</strong> 在较小的屏幕上不可避免的会有一些毛刺，请在开发时尽量避免这种情况。</p><h3 id="framework/view/wxss.html?t=20161107#样式导入">样式导入</h3><p>使用<code>@import</code>语句可以导入外联样式表，<code>@import</code>后跟需要导入的外联样式表的相对路径，用<code>;</code>表示语句结束。</p><p><strong>示例代码：</strong></p><pre><code class="lang-less"><span class="hljs-comment">/** common.wxss **/</span>
<span class="hljs-selector-class">.small-p</span> {
  <span class="hljs-attribute">padding</span>:<span class="hljs-number">5px</span>;
}</code></pre>
<pre><code class="lang-less"><span class="hljs-comment">/** app.wxss **/</span>
<span class="hljs-keyword">@import</span> <span class="hljs-string">"common.wxss"</span>;
<span class="hljs-selector-class">.middle-p</span> {
  <span class="hljs-attribute">padding</span>:<span class="hljs-number">15px</span>;
}</code></pre>
<h3 id="framework/view/wxss.html?t=20161107#内联样式">内联样式</h3><p>框架组件上支持使用 style、class 属性来控制组件的样式。</p><ul><li>style：静态的样式统一写到 class 中。style 接收动态的样式，在运行时会进行解析，请尽量避免将静态的样式写进 style 中，以免影响渲染速度。
</li></ul>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"color:{{color}};"</span> /&gt;</span></code></pre>
<ul><li>class：用于指定样式规则，其属性值是样式规则中类选择器名(样式类名)的集合，样式类名不需要带上<code>.</code>，样式类名之间用空格分隔。
</li></ul>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"normal_view"</span> /&gt;</span></code></pre>
<h3 id="framework/view/wxss.html?t=20161107#选择器">选择器</h3><p>目前支持的选择器有：</p><table>
<thead>
<tr><th>选择器</th>
<th>样例</th>
<th>样例描述</th>
</tr></thead><tbody>
<tr><td>.class</td>
<td><code>.intro</code></td>
<td>选择所有拥有 class="intro" 的组件</td>
</tr><tr><td>#id</td>
<td><code>#firstname</code></td>
<td>选择拥有 id="firstname" 的组件</td>
</tr><tr><td>element</td>
<td><code>view</code></td>
<td>选择所有 view 组件</td>
</tr><tr><td>element, element</td>
<td><code>view</code> <code>checkbox</code></td>
<td>选择所有文档的 view 组件和所有的 checkbox 组件</td>
</tr><tr><td>::after</td>
<td><code>view::after</code></td>
<td>在 view 组件后边插入内容</td>
</tr><tr><td>::before</td>
<td><code>view::before</code></td>
<td>在 view 组件前边插入内容</td>
</tr></tbody></table>

<h3 id="framework/view/wxss.html?t=20161107#全局样式与局部样式">全局样式与局部样式</h3><p>定义在 app.wxss 中的样式为全局样式，作用于每一个页面。在 page 的 wxss 文件中定义的样式为局部样式，只作用在对应的页面，并会覆盖 app.wxss 中相同的选择器。</p>

                                </section>

    </div>
    <div class="search-results">
        <div class="has-results">

            <h1 class="search-results-title"><span class="search-results-count"></span> 个结果 "<span class="search-query"></span>"</h1>
            <ul class="search-results-list"></ul>

        </div>
        <div class="no-results">

            <h1 class="search-results-title">没有找到相关内容 "<span class="search-query"></span>"</h1>

        </div>
    </div>
</div>

                        </div>
                    </div>
<div class="page-wrapper" id="framework/view/component.html?t=20161107" tabindex="-1" role="main">                        <div class="page-inner">
<h1 id=".$ulink.">组件</h1>
<div id="book-search-results">
    <div class="search-noresults">

                                <section class="normal markdown-section">

                                <h1 id="基础组件">基础组件</h1><p>框架为开发者提供了一系列基础组件，开发者可以通过组合这些基础组件进行快速开发。</p><p>详细介绍请参考<a href="#component/index.html%3Ft=20161107">组件文档</a></p>

                                </section>

    </div>
    <div class="search-results">
        <div class="has-results">

            <h1 class="search-results-title"><span class="search-results-count"></span> 个结果 "<span class="search-query"></span>"</h1>
            <ul class="search-results-list"></ul>

        </div>
        <div class="no-results">

            <h1 class="search-results-title">没有找到相关内容 "<span class="search-query"></span>"</h1>

        </div>
    </div>
</div>

                        </div>
                    </div>
<div class="page-wrapper" id="component/index.html?t=20161107" tabindex="-1" role="main">                        <div class="page-inner">
<h1 id=".$ulink.">组件</h1>
<div id="book-search-results">
    <div class="search-noresults">

                                <section class="normal markdown-section">

                                <h1 id="基础组件">基础组件</h1><p>框架为开发者提供了一系列基础组件，开发者可以通过组合这些基础组件进行快速开发。</p><p>什么是组件：</p><ul><li>组件是视图层的基本组成单元。
</li>
<li>组件自带一些功能与微信风格的样式。
</li>
<li><p>一个组件通常包括<code>开始标签</code>和<code>结束标签</code>，<code>属性</code>用来修饰这个组件，<code>内容</code>在两个标签之内。</p><pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">tagname</span> <span class="hljs-attr">property</span>=<span class="hljs-string">"value"</span>&gt;</span>
  Content goes here ...
<span class="hljs-tag">&lt;/<span class="hljs-name">tagename</span>&gt;</span></code></pre>
<p><strong>注意：所有组件与属性都是小写，以连字符<code>-</code>连接</strong></p></li></ul>
<h3 id="component/index.html?t=20161107#属性类型">属性类型</h3><table>
<thead>
<tr><th>类型</th>
<th>描述</th>
<th>注解</th>
</tr></thead><tbody>
<tr><td>Boolean</td>
<td>布尔值</td>
<td>组件写上该属性，不管该属性等于什么，其值都为<code>true</code>，只有组件上没有写该属性时，属性值才为<code>false</code>。如果属性值为变量，变量的值会被转换为Boolean类型</td>
</tr><tr><td>Number</td>
<td>数字</td>
<td><code>1</code>, <code>2.5</code></td>
</tr><tr><td>String</td>
<td>字符串</td>
<td><code>"string"</code></td>
</tr><tr><td>Array</td>
<td>数组</td>
<td><code>[ 1, "string" ]</code></td>
</tr><tr><td>Object</td>
<td>对象</td>
<td><code>{ key: value }</code></td>
</tr><tr><td>EventHandler</td>
<td>事件处理函数名</td>
<td><code>"handlerName"</code> 是 <a href="#framework/app-service/page.html%3Ft=20161107">Page</a>中定义的事件处理函数名</td>
</tr><tr><td>Any</td>
<td>任意属性</td>
<td></td>
</tr></tbody></table>

<h3 id="component/index.html?t=20161107#共同属性类型">共同属性类型</h3><p>所有组件都有的属性：</p><table>
<thead>
<tr><th>属性名</th>
<th>类型</th>
<th>描述</th>
<th>注解</th>
</tr></thead><tbody>
<tr><td>id</td>
<td>String</td>
<td>组件的唯一标示</td>
<td>保持整个页面唯一</td>
</tr><tr><td>class</td>
<td>String</td>
<td>组件的样式类</td>
<td>在对应的 WXSS 中定义的样式类</td>
</tr><tr><td>style</td>
<td>String</td>
<td>组件的内联样式</td>
<td>可以动态设置的内联样式</td>
</tr><tr><td>hidden</td>
<td>Boolean</td>
<td>组件是否显示</td>
<td>所有组件默认显示</td>
</tr><tr><td>data-*</td>
<td>Any</td>
<td>自定义属性</td>
<td>组件上触发的事件时，会发送给事件处理函数</td>
</tr><tr><td>bind* / catch*</td>
<td>EventHandler</td>
<td>组件的事件</td>
<td>详见<a href="#framework/view/wxml/event.html%3Ft=20161107">事件</a></td>
</tr></tbody></table>

<h3 id="component/index.html?t=20161107#特殊属性">特殊属性</h3><p>几乎所有组件都有各自定义的属性，可以对该组件的功能或样式进行修饰，请参考各个<a href="#api/index.html%3Ft=20161107#组件列表">组件</a>的定义。</p><h3 id="component/index.html?t=20161107#组件列表">组件列表</h3><p>基础组件分为以下八大类：</p><p><strong>视图容器(View Container)：</strong></p><table>
<thead>
<tr><th>组件名</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td><a href="#component/view.html%3Ft=20161107">view</a></td>
<td>视图容器</td>
</tr><tr><td><a href="#component/scroll-view.html%3Ft=20161107">scroll-view</a></td>
<td>可滚动视图容器</td>
</tr><tr><td><a href="#component/swiper.html%3Ft=20161107">swiper</a></td>
<td>滑块视图容器</td>
</tr></tbody></table>

<p><strong>基础内容(Basic Content)：</strong></p><table>
<thead>
<tr><th>组件名</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td><a href="#component/icon.html%3Ft=20161107">icon</a></td>
<td>图标</td>
</tr><tr><td><a href="#component/text.html%3Ft=20161107">text</a></td>
<td>文字</td>
</tr><tr><td><a href="#component/progress.html%3Ft=20161107">progress</a></td>
<td>进度条</td>
</tr></tbody></table>

<p><strong>表单(Form)：</strong></p><table>
<thead>
<tr><th>标签名</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td><a href="#component/button.html%3Ft=20161107">button</a></td>
<td>按钮</td>
</tr><tr><td><a href="#component/form.html%3Ft=20161107">form</a></td>
<td>表单</td>
</tr><tr><td><a href="#component/input.html%3Ft=20161107">input</a></td>
<td>输入框</td>
</tr><tr><td><a href="#component/checkbox.html%3Ft=20161107">checkbox</a></td>
<td>多项选择器</td>
</tr><tr><td><a href="#component/radio.html%3Ft=20161107">radio</a></td>
<td>单项选择器</td>
</tr><tr><td><a href="#component/picker.html%3Ft=20161107">picker</a></td>
<td>列表选择器</td>
</tr><tr><td><a href="#component/slider.html%3Ft=20161107">slider</a></td>
<td>滚动选择器</td>
</tr><tr><td><a href="#component/switch.html%3Ft=20161107">switch</a></td>
<td>开关选择器</td>
</tr><tr><td><a href="#component/label.html%3Ft=20161107">label</a></td>
<td>标签</td>
</tr></tbody></table>

<p><strong>操作反馈(Interaction)：</strong></p><table>
<thead>
<tr><th>组件名</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td><a href="#component/action-sheet.html%3Ft=20161107">action-sheet</a></td>
<td>上拉菜单</td>
</tr><tr><td><a href="#component/modal.html%3Ft=20161107">modal</a></td>
<td>模态弹窗</td>
</tr><tr><td><a href="#component/toast.html%3Ft=20161107">toast</a></td>
<td>消息提示框</td>
</tr><tr><td><a href="#component/loading.html%3Ft=20161107">loading</a></td>
<td>加载提示符</td>
</tr></tbody></table>

<p><strong>导航(Navigation)：</strong></p><table>
<thead>
<tr><th>组件名</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td><a href="#component/navigator.html%3Ft=20161107">navigator</a></td>
<td>应用链接</td>
</tr></tbody></table>

<p><strong>多媒体(Media)：</strong></p><table>
<thead>
<tr><th>组件名</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td><a href="#component/audio.html%3Ft=20161107">audio</a></td>
<td>音频</td>
</tr><tr><td><a href="#component/image.html%3Ft=20161107">image</a></td>
<td>图片</td>
</tr><tr><td><a href="#component/video.html%3Ft=20161107">video</a></td>
<td>视频</td>
</tr></tbody></table>

<p><strong>地图(Map)：</strong></p><table>
<thead>
<tr><th>组件名</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td><a href="#component/map.html%3Ft=20161107">map</a></td>
<td>地图</td>
</tr></tbody></table>

<p><strong>画布(Canvas)：</strong></p><table>
<thead>
<tr><th>组件名</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td><a href="#component/canvas.html%3Ft=20161107">canvas</a></td>
<td>画布</td>
</tr></tbody></table>



                                </section>

    </div>
    <div class="search-results">
        <div class="has-results">

            <h1 class="search-results-title"><span class="search-results-count"></span> 个结果 "<span class="search-query"></span>"</h1>
            <ul class="search-results-list"></ul>

        </div>
        <div class="no-results">

            <h1 class="search-results-title">没有找到相关内容 "<span class="search-query"></span>"</h1>

        </div>
    </div>
</div>

                        </div>
                    </div>
<div class="page-wrapper" id="component/view.html?t=20161107" tabindex="-1" role="main">                        <div class="page-inner">
<h1 id=".$ulink.">视图容器</h1>
<div id="book-search-results">
    <div class="search-noresults">

                                <section class="normal markdown-section">

                                <h4 id="component/view.html?t=20161107#view">view</h4><p>视图容器。</p><p><strong>示例：</strong></p><pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"section"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"section__title"</span>&gt;</span>flex-direction: row<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"flex-wrp"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"flex-direction:row;"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"flex-item bc_green"</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"flex-item bc_red"</span>&gt;</span>2<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"flex-item bc_blue"</span>&gt;</span>3<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"section"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"section__title"</span>&gt;</span>flex-direction: column<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"flex-wrp"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"height: 300px;flex-direction:column;"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"flex-item bc_green"</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"flex-item bc_red"</span>&gt;</span>2<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"flex-item bc_blue"</span>&gt;</span>3<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span></code></pre>
<p><img alt="view" src="./image/pic/view.png%3Ft=20161107"></p>

                                </section>

    </div>
    <div class="search-results">
        <div class="has-results">

            <h1 class="search-results-title"><span class="search-results-count"></span> 个结果 "<span class="search-query"></span>"</h1>
            <ul class="search-results-list"></ul>

        </div>
        <div class="no-results">

            <h1 class="search-results-title">没有找到相关内容 "<span class="search-query"></span>"</h1>

        </div>
    </div>
</div>

                        </div>
                    </div>
<div class="page-wrapper" id="component/scroll-view.html?t=20161107" tabindex="-1" role="main">                        <div class="page-inner">
<h1 id=".$ulink.">scroll-view</h1>
<div id="book-search-results">
    <div class="search-noresults">

                                <section class="normal markdown-section">

                                <h4 id="component/scroll-view.html?t=20161107#scroll-view">scroll-view</h4><p>可滚动视图区域。</p><table>
<thead>
<tr><th>属性名</th>
<th>类型</th>
<th>默认值</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>scroll-x</td>
<td>Boolean</td>
<td>false</td>
<td>允许横向滚动</td>
</tr><tr><td>scroll-y</td>
<td>Boolean</td>
<td>false</td>
<td>允许纵向滚动</td>
</tr><tr><td>upper-threshold</td>
<td>Number</td>
<td>50</td>
<td>距顶部/左边多远时（单位px），触发 scrolltoupper 事件</td>
</tr><tr><td>lower-threshold</td>
<td>Number</td>
<td>50</td>
<td>距底部/右边多远时（单位px），触发 scrolltolower 事件</td>
</tr><tr><td>scroll-top</td>
<td>Number</td>
<td></td>
<td>设置竖向滚动条位置</td>
</tr><tr><td>scroll-left</td>
<td>Number</td>
<td></td>
<td>设置横向滚动条位置</td>
</tr><tr><td>scroll-into-view</td>
<td>String</td>
<td></td>
<td>值应为某子元素id，则滚动到该元素，元素顶部对齐滚动区域顶部</td>
</tr><tr><td>bindscrolltoupper</td>
<td>EventHandle</td>
<td></td>
<td>滚动到顶部/左边，会触发 scrolltoupper 事件</td>
</tr><tr><td>bindscrolltolower</td>
<td>EventHandle</td>
<td></td>
<td>滚动到底部/右边，会触发 scrolltolower 事件</td>
</tr><tr><td>bindscroll</td>
<td>EventHandle</td>
<td></td>
<td>滚动时触发，event.detail = {scrollLeft, scrollTop, scrollHeight, scrollWidth, deltaX, deltaY}</td>
</tr></tbody></table>

<p>使用竖向滚动时，需要给<code>&lt;scroll-view/&gt;</code>一个固定高度，通过 WXSS 设置 height。</p><p><strong>示例代码：</strong></p><pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"section"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"section__title"</span>&gt;</span>vertical scroll<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">scroll-view</span> <span class="hljs-attr">scroll-y</span>=<span class="hljs-string">"true"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"height: 200px;"</span> <span class="hljs-attr">bindscrolltoupper</span>=<span class="hljs-string">"upper"</span> <span class="hljs-attr">bindscrolltolower</span>=<span class="hljs-string">"lower"</span> <span class="hljs-attr">bindscroll</span>=<span class="hljs-string">"scroll"</span> <span class="hljs-attr">scroll-into-view</span>=<span class="hljs-string">"{{toView}}"</span> <span class="hljs-attr">scroll-top</span>=<span class="hljs-string">"{{scrollTop}}"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"green"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"scroll-view-item bc_green"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"red"</span>  <span class="hljs-attr">class</span>=<span class="hljs-string">"scroll-view-item bc_red"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"yellow"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"scroll-view-item bc_yellow"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"blue"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"scroll-view-item bc_blue"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">scroll-view</span>&gt;</span>

  <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn-area"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">size</span>=<span class="hljs-string">"mini"</span> <span class="hljs-attr">bindtap</span>=<span class="hljs-string">"tap"</span>&gt;</span>click me to scroll into view <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">size</span>=<span class="hljs-string">"mini"</span> <span class="hljs-attr">bindtap</span>=<span class="hljs-string">"tapMove"</span>&gt;</span>click me to scroll<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"section section_gap"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"section__title"</span>&gt;</span>horizontal scroll<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">scroll-view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"scroll-view_H"</span> <span class="hljs-attr">scroll-x</span>=<span class="hljs-string">"true"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"width: 100%"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"green"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"scroll-view-item_H bc_green"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"red"</span>  <span class="hljs-attr">class</span>=<span class="hljs-string">"scroll-view-item_H bc_red"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"yellow"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"scroll-view-item_H bc_yellow"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"blue"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"scroll-view-item_H bc_blue"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">scroll-view</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span></code></pre>
<pre><code class="lang-js"><span class="hljs-keyword">var</span> order = [<span class="hljs-string">'red'</span>, <span class="hljs-string">'yellow'</span>, <span class="hljs-string">'blue'</span>, <span class="hljs-string">'green'</span>, <span class="hljs-string">'red'</span>]
Page({
  data: {
    toView: <span class="hljs-string">'red'</span>,
    scrollTop: <span class="hljs-number">100</span>
  },
  upper: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
    <span class="hljs-built_in">console</span>.log(e)
  },
  lower: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
    <span class="hljs-built_in">console</span>.log(e)
  },
  scroll: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
    <span class="hljs-built_in">console</span>.log(e)
  },
  tap: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; order.length; ++i) {
      <span class="hljs-keyword">if</span> (order[i] === <span class="hljs-keyword">this</span>.data.toView) {
        <span class="hljs-keyword">this</span>.setData({
          toView: order[i + <span class="hljs-number">1</span>]
        })
        <span class="hljs-keyword">break</span>
      }
    }
  },
  tapMove: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
    <span class="hljs-keyword">this</span>.setData({
      scrollTop: <span class="hljs-keyword">this</span>.data.scrollTop + <span class="hljs-number">10</span>
    })
  }
})
</code></pre>
<p><img alt="scroll-view" src="./image/pic/scroll-view.png%3Ft=20161107"></p>

                                </section>

    </div>
    <div class="search-results">
        <div class="has-results">

            <h1 class="search-results-title"><span class="search-results-count"></span> 个结果 "<span class="search-query"></span>"</h1>
            <ul class="search-results-list"></ul>

        </div>
        <div class="no-results">

            <h1 class="search-results-title">没有找到相关内容 "<span class="search-query"></span>"</h1>

        </div>
    </div>
</div>

                        </div>
                    </div>
<div class="page-wrapper" id="component/swiper.html?t=20161107" tabindex="-1" role="main">                        <div class="page-inner">
<h1 id=".$ulink.">swiper</h1>
<div id="book-search-results">
    <div class="search-noresults">

                                <section class="normal markdown-section">

                                <h4 id="component/swiper.html?t=20161107#swiper">swiper</h4><p>滑块视图容器。</p><table>
<thead>
<tr><th>属性名</th>
<th>类型</th>
<th>默认值</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>indicator-dots</td>
<td>Boolean</td>
<td>false</td>
<td>是否显示面板指示点</td>
</tr><tr><td>autoplay</td>
<td>Boolean</td>
<td>false</td>
<td>是否自动切换</td>
</tr><tr><td>current</td>
<td>Number</td>
<td>0</td>
<td>当前所在页面的 index</td>
</tr><tr><td>interval</td>
<td>Number</td>
<td>5000</td>
<td>自动切换时间间隔</td>
</tr><tr><td>duration</td>
<td>Number</td>
<td>1000</td>
<td>滑动动画时长</td>
</tr><tr><td>bindchange</td>
<td>EventHandle</td>
<td></td>
<td>current 改变时会触发 change 事件，event.detail = {current: current}</td>
</tr></tbody></table>

<p><strong>注意</strong>：其中只可放置<code>&lt;swiper-item/&gt;</code>组件，其他节点会被自动删除。</p><h4 id="component/swiper.html?t=20161107#swiper-item">swiper-item</h4><p>仅可放置在<code>&lt;swiper/&gt;</code>组件中，宽高自动设置为100%。</p><p><strong>示例代码：</strong></p><pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">swiper</span> <span class="hljs-attr">indicator-dots</span>=<span class="hljs-string">"{{indicatorDots}}"</span>
  <span class="hljs-attr">autoplay</span>=<span class="hljs-string">"{{autoplay}}"</span> <span class="hljs-attr">interval</span>=<span class="hljs-string">"{{interval}}"</span> <span class="hljs-attr">duration</span>=<span class="hljs-string">"{{duration}}"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">block</span> <span class="hljs-attr">wx:for</span>=<span class="hljs-string">"{{imgUrls}}"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">swiper-item</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">image</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"{{item}}"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"slide-image"</span> <span class="hljs-attr">width</span>=<span class="hljs-string">"355"</span> <span class="hljs-attr">height</span>=<span class="hljs-string">"150"</span>/&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">swiper-item</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">block</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">swiper</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">bindtap</span>=<span class="hljs-string">"changeIndicatorDots"</span>&gt;</span> indicator-dots <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">bindtap</span>=<span class="hljs-string">"changeAutoplay"</span>&gt;</span> autoplay <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">slider</span> <span class="hljs-attr">bindchange</span>=<span class="hljs-string">"intervalChange"</span> <span class="hljs-attr">show-value</span> <span class="hljs-attr">min</span>=<span class="hljs-string">"500"</span> <span class="hljs-attr">max</span>=<span class="hljs-string">"2000"</span>/&gt;</span> interval
<span class="hljs-tag">&lt;<span class="hljs-name">slider</span> <span class="hljs-attr">bindchange</span>=<span class="hljs-string">"durationChange"</span> <span class="hljs-attr">show-value</span> <span class="hljs-attr">min</span>=<span class="hljs-string">"1000"</span> <span class="hljs-attr">max</span>=<span class="hljs-string">"10000"</span>/&gt;</span> duration</code></pre>
<pre><code class="lang-js">Page({
  data: {
    imgUrls: [
      <span class="hljs-string">'http://img02.tooopen.com/images/20150928/tooopen_sy_143912755726.jpg'</span>,
      <span class="hljs-string">'http://img06.tooopen.com/images/20160818/tooopen_sy_175866434296.jpg'</span>,
      <span class="hljs-string">'http://img06.tooopen.com/images/20160818/tooopen_sy_175833047715.jpg'</span>
    ],
    indicatorDots: <span class="hljs-literal">false</span>,
    autoplay: <span class="hljs-literal">false</span>,
    interval: <span class="hljs-number">5000</span>,
    duration: <span class="hljs-number">1000</span>
  },
  changeIndicatorDots: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
    <span class="hljs-keyword">this</span>.setData({
      indicatorDots: !<span class="hljs-keyword">this</span>.data.indicatorDots
    })
  },
  changeAutoplay: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
    <span class="hljs-keyword">this</span>.setData({
      autoplay: !<span class="hljs-keyword">this</span>.data.autoplay
    })
  },
  intervalChange: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
    <span class="hljs-keyword">this</span>.setData({
      interval: e.detail.value
    })
  },
  durationChange: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
    <span class="hljs-keyword">this</span>.setData({
      duration: e.detail.value
    })
  }
})</code></pre>


                                </section>

    </div>
    <div class="search-results">
        <div class="has-results">

            <h1 class="search-results-title"><span class="search-results-count"></span> 个结果 "<span class="search-query"></span>"</h1>
            <ul class="search-results-list"></ul>

        </div>
        <div class="no-results">

            <h1 class="search-results-title">没有找到相关内容 "<span class="search-query"></span>"</h1>

        </div>
    </div>
</div>

                        </div>
                    </div>
<div class="page-wrapper" id="component/icon.html?t=20161107" tabindex="-1" role="main">                        <div class="page-inner">
<h1 id=".$ulink.">基础内容</h1>
<div id="book-search-results">
    <div class="search-noresults">

                                <section class="normal markdown-section">

                                <h4 id="component/icon.html?t=20161107#icon">icon</h4><p>图标。</p><table>
<thead>
<tr><th>属性名</th>
<th>类型</th>
<th>默认值</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>type</td>
<td>String</td>
<td></td>
<td>icon的类型，有效值：success, success_no_circle, info, warn, waiting, cancel, download, search, clear</td>
</tr><tr><td>size</td>
<td>Number</td>
<td>23</td>
<td>icon的大小，单位px</td>
</tr><tr><td>color</td>
<td>Color</td>
<td></td>
<td>icon的颜色，同css的color</td>
</tr></tbody></table>

<p><strong>示例：</strong></p><pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"group"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">block</span> <span class="hljs-attr">wx:for</span>=<span class="hljs-string">"{{iconSize}}"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">icon</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"success"</span> <span class="hljs-attr">size</span>=<span class="hljs-string">"{{item}}"</span>/&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">block</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"group"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">block</span> <span class="hljs-attr">wx:for</span>=<span class="hljs-string">"{{iconType}}"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">icon</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"{{item}}"</span> <span class="hljs-attr">size</span>=<span class="hljs-string">"45"</span>/&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">block</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>


<span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"group"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">block</span> <span class="hljs-attr">wx:for</span>=<span class="hljs-string">"{{iconColor}}"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">icon</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"success"</span> <span class="hljs-attr">size</span>=<span class="hljs-string">"45"</span> <span class="hljs-attr">color</span>=<span class="hljs-string">"{{item}}"</span>/&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">block</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span></code></pre>
<pre><code class="lang-js">Page({
  data: {
    iconSize: [<span class="hljs-number">20</span>, <span class="hljs-number">30</span>, <span class="hljs-number">40</span>, <span class="hljs-number">50</span>, <span class="hljs-number">60</span>, <span class="hljs-number">70</span>],
    iconColor: [
      <span class="hljs-string">'red'</span>, <span class="hljs-string">'orange'</span>, <span class="hljs-string">'yellow'</span>, <span class="hljs-string">'green'</span>, <span class="hljs-string">'rgb(0,255,255)'</span>, <span class="hljs-string">'blue'</span>, <span class="hljs-string">'purple'</span>
    ],
    iconType: [
      <span class="hljs-string">'success'</span>, <span class="hljs-string">'info'</span>, <span class="hljs-string">'warn'</span>, <span class="hljs-string">'waiting'</span>, <span class="hljs-string">'safe_success'</span>, <span class="hljs-string">'safe_warn'</span>,
      <span class="hljs-string">'success_circle'</span>, <span class="hljs-string">'success_no_circle'</span>, <span class="hljs-string">'waiting_circle'</span>, <span class="hljs-string">'circle'</span>, <span class="hljs-string">'download'</span>,
      <span class="hljs-string">'info_circle'</span>, <span class="hljs-string">'cancel'</span>, <span class="hljs-string">'search'</span>, <span class="hljs-string">'clear'</span>
    ]
  }
})</code></pre>
<p><img alt="icon" src="./image/pic/icon.png%3Ft=20161107"></p>

                                </section>

    </div>
    <div class="search-results">
        <div class="has-results">

            <h1 class="search-results-title"><span class="search-results-count"></span> 个结果 "<span class="search-query"></span>"</h1>
            <ul class="search-results-list"></ul>

        </div>
        <div class="no-results">

            <h1 class="search-results-title">没有找到相关内容 "<span class="search-query"></span>"</h1>

        </div>
    </div>
</div>

                        </div>
                    </div>
<div class="page-wrapper" id="component/text.html?t=20161107" tabindex="-1" role="main">                        <div class="page-inner">
<h1 id=".$ulink.">text</h1>
<div id="book-search-results">
    <div class="search-noresults">

                                <section class="normal markdown-section">

                                <h4 id="component/text.html?t=20161107#text">text</h4><p>文本。</p><p>支持转义符"\"。</p><p><code>&lt;text/&gt;</code> 组件内只支持 <code>&lt;text/&gt;</code> 嵌套。</p><p>除了文本节点以外的其他节点都无法长按选中。</p><p><strong>示例：</strong></p><pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn-area"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"body-view"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">text</span>&gt;</span>{{text}}<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">bindtap</span>=<span class="hljs-string">"add"</span>&gt;</span>add line<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">bindtap</span>=<span class="hljs-string">"remove"</span>&gt;</span>remove line<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span></code></pre>
<pre><code class="lang-js"><span class="hljs-keyword">var</span> initData = <span class="hljs-string">'this is first line\nthis is second line'</span>
<span class="hljs-keyword">var</span> extraLine = [];
Page({
  data: {
    text: initData
  },
  add: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
    extraLine.push(<span class="hljs-string">'other line'</span>)
    <span class="hljs-keyword">this</span>.setData({
      text: initData + <span class="hljs-string">'\n'</span> + extraLine.join(<span class="hljs-string">'\n'</span>)
    })
  },
  remove: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
    <span class="hljs-keyword">if</span> (extraLine.length &gt; <span class="hljs-number">0</span>) {
      extraLine.pop()
      <span class="hljs-keyword">this</span>.setData({
        text: initData + <span class="hljs-string">'\n'</span> + extraLine.join(<span class="hljs-string">'\n'</span>)
      })
    }
  }
})
</code></pre>
<p><img alt="text" src="./image/pic/text.png%3Ft=20161107"></p>

                                </section>

    </div>
    <div class="search-results">
        <div class="has-results">

            <h1 class="search-results-title"><span class="search-results-count"></span> 个结果 "<span class="search-query"></span>"</h1>
            <ul class="search-results-list"></ul>

        </div>
        <div class="no-results">

            <h1 class="search-results-title">没有找到相关内容 "<span class="search-query"></span>"</h1>

        </div>
    </div>
</div>

                        </div>
                    </div>
<div class="page-wrapper" id="component/progress.html?t=20161107" tabindex="-1" role="main">                        <div class="page-inner">
<h1 id=".$ulink.">progress</h1>
<div id="book-search-results">
    <div class="search-noresults">

                                <section class="normal markdown-section">

                                <h4 id="component/progress.html?t=20161107#progress">progress</h4><p>进度条。</p><table>
<thead>
<tr><th>属性名</th>
<th>类型</th>
<th>默认值</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>percent</td>
<td>Float</td>
<td>无</td>
<td>百分比0~100</td>
</tr><tr><td>show-info</td>
<td>Boolean</td>
<td>false</td>
<td>在进度条右侧显示百分比</td>
</tr><tr><td>stroke-width</td>
<td>Number</td>
<td>6</td>
<td>进度条线的宽度，单位px</td>
</tr><tr><td>color</td>
<td>Color</td>
<td>#09BB07</td>
<td>进度条颜色</td>
</tr><tr><td>active</td>
<td>Boolean</td>
<td>false</td>
<td>进度条从左往右的动画</td>
</tr></tbody></table>

<p><strong>示例：</strong></p><pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">progress</span> <span class="hljs-attr">percent</span>=<span class="hljs-string">"20"</span> <span class="hljs-attr">show-info</span> /&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">progress</span> <span class="hljs-attr">percent</span>=<span class="hljs-string">"40"</span> <span class="hljs-attr">stroke-width</span>=<span class="hljs-string">"12"</span> /&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">progress</span> <span class="hljs-attr">percent</span>=<span class="hljs-string">"60"</span> <span class="hljs-attr">color</span>=<span class="hljs-string">"pink"</span> /&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">progress</span> <span class="hljs-attr">percent</span>=<span class="hljs-string">"80"</span> <span class="hljs-attr">active</span> /&gt;</span></code></pre>
<p><img alt="progress" src="./image/pic/progress.png%3Ft=20161107"></p>

                                </section>

    </div>
    <div class="search-results">
        <div class="has-results">

            <h1 class="search-results-title"><span class="search-results-count"></span> 个结果 "<span class="search-query"></span>"</h1>
            <ul class="search-results-list"></ul>

        </div>
        <div class="no-results">

            <h1 class="search-results-title">没有找到相关内容 "<span class="search-query"></span>"</h1>

        </div>
    </div>
</div>

                        </div>
                    </div>
<div class="page-wrapper" id="component/button.html?t=20161107" tabindex="-1" role="main">                        <div class="page-inner">
<h1 id=".$ulink.">表单组件</h1>
<div id="book-search-results">
    <div class="search-noresults">

                                <section class="normal markdown-section">

                                <h4 id="component/button.html?t=20161107#button">button</h4><p>按钮。</p><table>
<thead>
<tr><th>属性名</th>
<th>类型</th>
<th>默认值</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>size</td>
<td>String</td>
<td>default</td>
<td>有效值 default, mini</td>
</tr><tr><td>type</td>
<td>String</td>
<td>default</td>
<td>按钮的样式类型，有效值 primary, default, warn</td>
</tr><tr><td>plain</td>
<td>Boolean</td>
<td>false</td>
<td>按钮是否镂空，背景色透明</td>
</tr><tr><td>disabled</td>
<td>Boolean</td>
<td>false</td>
<td>是否禁用</td>
</tr><tr><td>loading</td>
<td>Boolean</td>
<td>false</td>
<td>名称前是否带 loading 图标</td>
</tr><tr><td>form-type</td>
<td>String</td>
<td>无</td>
<td>有效值：submit, reset，用于 <code>&lt;form/&gt;</code> 组件，点击分别会触发 submit/reset 事件</td>
</tr><tr><td>hover-class</td>
<td>String</td>
<td>button-hover</td>
<td>指定按钮按下去的样式类。当 <code>hover-class="none"</code> 时，没有点击态效果</td>
</tr></tbody></table>

<p><strong>注：<code>button-hover</code> 默认为<code>{background-color: rgba(0, 0, 0, 0.1); opacity: 0.7;}</code></strong></p><p><strong>示例代码：</strong></p><pre><code class="lang-css"><span class="hljs-comment">/** wxss **/</span>
<span class="hljs-comment">/** 修改button默认的点击态样式类**/</span>
<span class="hljs-selector-class">.button-hover</span> {
  <span class="hljs-attribute">background-color</span>: red;
}
<span class="hljs-comment">/** 添加自定义button点击态样式类**/</span>
<span class="hljs-selector-class">.other-button-hover</span> {
  <span class="hljs-attribute">background-color</span>: blur;
}</code></pre>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"default"</span> <span class="hljs-attr">size</span>=<span class="hljs-string">"{{defaultSize}}"</span> <span class="hljs-attr">loading</span>=<span class="hljs-string">"{{loading}}"</span> <span class="hljs-attr">plain</span>=<span class="hljs-string">"{{plain}}"</span>
        <span class="hljs-attr">disabled</span>=<span class="hljs-string">"{{disabled}}"</span> <span class="hljs-attr">bindtap</span>=<span class="hljs-string">"default"</span> <span class="hljs-attr">hover-class</span>=<span class="hljs-string">"other-button-hover"</span>&gt;</span> default <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"primary"</span> <span class="hljs-attr">size</span>=<span class="hljs-string">"{{primarySize}}"</span> <span class="hljs-attr">loading</span>=<span class="hljs-string">"{{loading}}"</span> <span class="hljs-attr">plain</span>=<span class="hljs-string">"{{plain}}"</span>
        <span class="hljs-attr">disabled</span>=<span class="hljs-string">"{{disabled}}"</span> <span class="hljs-attr">bindtap</span>=<span class="hljs-string">"primary"</span>&gt;</span> primary <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"warn"</span> <span class="hljs-attr">size</span>=<span class="hljs-string">"{{warnSize}}"</span> <span class="hljs-attr">loading</span>=<span class="hljs-string">"{{loading}}"</span> <span class="hljs-attr">plain</span>=<span class="hljs-string">"{{plain}}"</span>
        <span class="hljs-attr">disabled</span>=<span class="hljs-string">"{{disabled}}"</span> <span class="hljs-attr">bindtap</span>=<span class="hljs-string">"warn"</span>&gt;</span> warn <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">bindtap</span>=<span class="hljs-string">"setDisabled"</span>&gt;</span>点击设置以上按钮disabled属性<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">bindtap</span>=<span class="hljs-string">"setPlain"</span>&gt;</span>点击设置以上按钮plain属性<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">bindtap</span>=<span class="hljs-string">"setLoading"</span>&gt;</span>点击设置以上按钮loading属性<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></code></pre>
<pre><code class="lang-js"><span class="hljs-keyword">var</span> types = [<span class="hljs-string">'default'</span>, <span class="hljs-string">'primary'</span>, <span class="hljs-string">'warn'</span>]
<span class="hljs-keyword">var</span> pageObject = {
  data: {
    defaultSize: <span class="hljs-string">'default'</span>,
    primarySize: <span class="hljs-string">'default'</span>,
    warnSize: <span class="hljs-string">'default'</span>,
    disabled: <span class="hljs-literal">false</span>,
    plain: <span class="hljs-literal">false</span>,
    loading: <span class="hljs-literal">false</span>
  },
  setDisabled: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
    <span class="hljs-keyword">this</span>.setData({
      disabled: !<span class="hljs-keyword">this</span>.data.disabled
    })
  },
  setPlain: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
    <span class="hljs-keyword">this</span>.setData({
      plain: !<span class="hljs-keyword">this</span>.data.plain
    })
  },
  setLoading: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
    <span class="hljs-keyword">this</span>.setData({
      loading: !<span class="hljs-keyword">this</span>.data.loading
    })
  }
}

<span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; types.length; ++i) {
  (<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">type</span>) </span>{
    pageObject[type] = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
      <span class="hljs-keyword">var</span> key = type + <span class="hljs-string">'Size'</span>
      <span class="hljs-keyword">var</span> changedData = {}
      changedData[key] =
        <span class="hljs-keyword">this</span>.data[key] === <span class="hljs-string">'default'</span> ? <span class="hljs-string">'mini'</span> : <span class="hljs-string">'default'</span>
      <span class="hljs-keyword">this</span>.setData(changedData)
    }
  })(types[i])
}

Page(pageObject)</code></pre>
<p><img alt="button" src="./image/pic/button.png%3Ft=20161107"></p>

                                </section>

    </div>
    <div class="search-results">
        <div class="has-results">

            <h1 class="search-results-title"><span class="search-results-count"></span> 个结果 "<span class="search-query"></span>"</h1>
            <ul class="search-results-list"></ul>

        </div>
        <div class="no-results">

            <h1 class="search-results-title">没有找到相关内容 "<span class="search-query"></span>"</h1>

        </div>
    </div>
</div>

                        </div>
                    </div>
<div class="page-wrapper" id="component/checkbox.html?t=20161107" tabindex="-1" role="main">                        <div class="page-inner">
<h1 id=".$ulink.">checkbox</h1>
<div id="book-search-results">
    <div class="search-noresults">

                                <section class="normal markdown-section">

                                <h4 id="component/checkbox.html?t=20161107#checkbox-group">checkbox-group</h4><p>多项选择器，内部由多个<code>checkbox</code>组成。</p><table>
<thead>
<tr><th>属性名</th>
<th>类型</th>
<th>默认值</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>bindchange</td>
<td>EventHandle</td>
<td></td>
<td><code>&lt;checkbox-group/&gt;</code>中选中项发生改变是触发 change 事件，detail = {value:[选中的checkbox的value的数组]}</td>
</tr></tbody></table>

<h4 id="component/checkbox.html?t=20161107#checkbox">checkbox</h4><p>多选项目。</p><table>
<thead>
<tr><th>属性名</th>
<th>类型</th>
<th>默认值</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>value</td>
<td>String</td>
<td></td>
<td><code>&lt;checkbox/&gt;</code>标识，选中时触发<code>&lt;checkbox-group/&gt;</code>的 change 事件，并携带 <code>&lt;checkbox/&gt;</code> 的 value</td>
</tr><tr><td>disabled</td>
<td>Boolean</td>
<td>false</td>
<td>是否禁用</td>
</tr><tr><td>checked</td>
<td>Boolean</td>
<td>false</td>
<td>当前是否选中，可用来设置默认选中</td>
</tr></tbody></table>

<p><strong>示例：</strong></p><pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">checkbox-group</span> <span class="hljs-attr">bindchange</span>=<span class="hljs-string">"checkboxChange"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"checkbox"</span> <span class="hljs-attr">wx:for</span>=<span class="hljs-string">"{{items}}"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">checkbox</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"{{item.name}}"</span> <span class="hljs-attr">checked</span>=<span class="hljs-string">"{{item.checked}}"</span>/&gt;</span>{{item.value}}
  <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">checkbox-group</span>&gt;</span></code></pre>
<pre><code class="lang-js">Page({
  data: {
    items: [
      {name: <span class="hljs-string">'USA'</span>, value: <span class="hljs-string">'美国'</span>},
      {name: <span class="hljs-string">'CHN'</span>, value: <span class="hljs-string">'中国'</span>, checked: <span class="hljs-string">'true'</span>},
      {name: <span class="hljs-string">'BRA'</span>, value: <span class="hljs-string">'巴西'</span>},
      {name: <span class="hljs-string">'JPN'</span>, value: <span class="hljs-string">'日本'</span>},
      {name: <span class="hljs-string">'ENG'</span>, value: <span class="hljs-string">'英国'</span>},
      {name: <span class="hljs-string">'TUR'</span>, value: <span class="hljs-string">'法国'</span>},
    ]
  },
  checkboxChange: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'checkbox发生change事件，携带value值为：'</span>, e.detail.value)
  }
})</code></pre>
<p><img alt="checkbox" src="./image/pic/checkbox.png%3Ft=20161107"></p>

                                </section>

    </div>
    <div class="search-results">
        <div class="has-results">

            <h1 class="search-results-title"><span class="search-results-count"></span> 个结果 "<span class="search-query"></span>"</h1>
            <ul class="search-results-list"></ul>

        </div>
        <div class="no-results">

            <h1 class="search-results-title">没有找到相关内容 "<span class="search-query"></span>"</h1>

        </div>
    </div>
</div>

                        </div>
                    </div>
<div class="page-wrapper" id="component/form.html?t=20161107" tabindex="-1" role="main">                        <div class="page-inner">
<h1 id=".$ulink.">form</h1>
<div id="book-search-results">
    <div class="search-noresults">

                                <section class="normal markdown-section">

                                <h3 id="component/form.html?t=20161107#form">form</h3><p>表单，将组件内的用户输入的<code>&lt;switch/&gt;</code> <code>&lt;input/&gt;</code> <code>&lt;checkbox/&gt;</code> <code>&lt;slider/&gt;</code> <code>&lt;radio/&gt;</code> <code>&lt;picker/&gt;</code> 提交。</p><table>
<thead>
<tr><th>属性名</th>
<th>类型</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>report-submit</td>
<td>Boolean</td>
<td>是否返回formId用于发送<a href="#api/notice.html%3Ft=20161107">模板消息</a></td>
</tr><tr><td>bindsubmit</td>
<td>EventHandle</td>
<td>携带form中的数据触发submit事件，event.detail = {value : {'name': 'value'} , formId: ''}</td>
</tr><tr><td>bindreset</td>
<td>EventHandle</td>
<td>表单重置时会触发reset事件</td>
</tr></tbody></table>

<p><strong>示例代码：</strong></p><pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">bindsubmit</span>=<span class="hljs-string">"formSubmit"</span> <span class="hljs-attr">bindreset</span>=<span class="hljs-string">"formReset"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"section section_gap"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"section__title"</span>&gt;</span>switch<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">switch</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"switch"</span>/&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"section section_gap"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"section__title"</span>&gt;</span>slider<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">slider</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"slider"</span> <span class="hljs-attr">show-value</span> &gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">slider</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>

  <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"section"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"section__title"</span>&gt;</span>input<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"input"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"please input here"</span> /&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"section section_gap"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"section__title"</span>&gt;</span>radio<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">radio-group</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"radio-group"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">radio</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"radio1"</span>/&gt;</span>radio1<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">radio</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"radio2"</span>/&gt;</span>radio2<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">radio-group</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"section section_gap"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"section__title"</span>&gt;</span>checkbox<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">checkbox-group</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"checkbox"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">checkbox</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"checkbox1"</span>/&gt;</span>checkbox1<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">checkbox</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"checkbox2"</span>/&gt;</span>checkbox2<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">checkbox-group</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn-area"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">formType</span>=<span class="hljs-string">"submit"</span>&gt;</span>Submit<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">formType</span>=<span class="hljs-string">"reset"</span>&gt;</span>Reset<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span></code></pre>
<pre><code class="lang-js">Page({
  formSubmit: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'form发生了submit事件，携带数据为：'</span>, e.detail.value)
  },
  formReset: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'form发生了reset事件'</span>)
  }
})</code></pre>
<p><img alt="form" src="./image/pic/form.png%3Ft=20161107"></p>

                                </section>

    </div>
    <div class="search-results">
        <div class="has-results">

            <h1 class="search-results-title"><span class="search-results-count"></span> 个结果 "<span class="search-query"></span>"</h1>
            <ul class="search-results-list"></ul>

        </div>
        <div class="no-results">

            <h1 class="search-results-title">没有找到相关内容 "<span class="search-query"></span>"</h1>

        </div>
    </div>
</div>

                        </div>
                    </div>
<div class="page-wrapper" id="component/input.html?t=20161107" tabindex="-1" role="main">                        <div class="page-inner">
<h1 id=".$ulink.">input</h1>
<div id="book-search-results">
    <div class="search-noresults">

                                <section class="normal markdown-section">

                                <h4 id="component/input.html?t=20161107#input">input</h4><p>输入框。</p><table>
<thead>
<tr><th>属性名</th>
<th>类型</th>
<th>默认值</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>value</td>
<td>String</td>
<td></td>
<td>输入框的初始内容</td>
</tr><tr><td>type</td>
<td>String</td>
<td>text</td>
<td>input 的类型，有效值：text, number, idcard, digit, time, date</td>
</tr><tr><td>password</td>
<td>Boolean</td>
<td>false</td>
<td>是否是密码类型</td>
</tr><tr><td>placeholder</td>
<td>String</td>
<td></td>
<td>输入框为空时占位符</td>
</tr><tr><td>placeholder-style</td>
<td>String</td>
<td></td>
<td>指定 placeholder 的样式</td>
</tr><tr><td>placeholder-class</td>
<td>String</td>
<td>input-placeholder</td>
<td>指定 placeholder 的样式类</td>
</tr><tr><td>disabled</td>
<td>Boolean</td>
<td>false</td>
<td>是否禁用</td>
</tr><tr><td>maxlength</td>
<td>Number</td>
<td>140</td>
<td>最大输入长度，设置为0的时候不限制最大长度</td>
</tr><tr><td>auto-focus</td>
<td>Boolean</td>
<td>false</td>
<td>自动聚焦，拉起键盘。页面中只能有一个 <code>&lt;input/&gt;</code> 或 <code>&lt;textarea/&gt;</code> 设置 auto-focus 属性</td>
</tr><tr><td>focus</td>
<td>Boolean</td>
<td>false</td>
<td>获取焦点（开发工具暂不支持）</td>
</tr><tr><td>bindinput</td>
<td>EventHandle</td>
<td></td>
<td>除了date/time类型外的输入框，当键盘输入时，触发input事件，event.detail = {value: value}，处理函数可以直接 return 一个字符串，将替换输入框的内容。</td>
</tr><tr><td>bindfocus</td>
<td>EventHandle</td>
<td></td>
<td>输入框聚焦时触发，event.detail = {value: value}</td>
</tr><tr><td>bindblur</td>
<td>EventHandle</td>
<td></td>
<td>输入框失去焦点时触发，event.detail = {value: value}</td>
</tr></tbody></table>

<p><strong>示例代码：</strong></p><pre><code class="lang-html"><span class="hljs-comment">&lt;!--input.wxml--&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"section"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"这是一个可以自动聚焦的input"</span> <span class="hljs-attr">auto-focus</span>/&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"section"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"这个只有在按钮点击的时候才聚焦"</span> <span class="hljs-attr">focus</span>=<span class="hljs-string">"{{focus}}"</span> /&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn-area"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">bindtap</span>=<span class="hljs-string">"bindButtonTap"</span>&gt;</span>使得输入框获取焦点<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"section"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">input</span>  <span class="hljs-attr">maxlength</span>=<span class="hljs-string">"10"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"最大输入长度10"</span> /&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"section"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"section__title"</span>&gt;</span>你输入的是：{{inputValue}}<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">input</span>  <span class="hljs-attr">bindinput</span>=<span class="hljs-string">"bindKeyInput"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"输入同步到view中"</span>/&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"section"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">input</span>  <span class="hljs-attr">bindinput</span>=<span class="hljs-string">"bindReplaceInput"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"连续的两个1会变成2"</span> /&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"section"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">input</span>  <span class="hljs-attr">bindinput</span>=<span class="hljs-string">"bindHideKeyboard"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"输入123自动收起键盘"</span> /&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"section"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">password</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"number"</span> /&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"section"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">password</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> /&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"section"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"digit"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"带小数点的数字键盘"</span>/&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"section"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"idcard"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"身份证输入键盘"</span> /&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"section"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">placeholder-style</span>=<span class="hljs-string">"color:red"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"占位符字体是红色的"</span> /&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span></code></pre>
<pre><code class="lang-javascript"><span class="hljs-comment">//input.js</span>
Page({
  data: {
    focus: <span class="hljs-literal">false</span>,
    inputValue: <span class="hljs-string">''</span>
  },
  bindButtonTap: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">this</span>.setData({
      focus: <span class="hljs-literal">true</span>
    })
  },
  bindKeyInput: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
    <span class="hljs-keyword">this</span>.setData({
      inputValue: e.detail.value
    })
  },
  bindReplaceInput: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
    <span class="hljs-keyword">var</span> value = e.detail.value
    <span class="hljs-keyword">var</span> pos = e.detail.cursor
    <span class="hljs-keyword">if</span>(pos != <span class="hljs-number">-1</span>){
      <span class="hljs-comment">//光标在中间</span>
      <span class="hljs-keyword">var</span> left = e.detail.value.slice(<span class="hljs-number">0</span>,pos)
      <span class="hljs-comment">//计算光标的位置</span>
      pos = left.replace(<span class="hljs-regexp">/11/g</span>,<span class="hljs-string">'2'</span>).length
    }

    <span class="hljs-comment">//直接返回对象，可以对输入进行过滤处理，同时可以控制光标的位置</span>
    <span class="hljs-keyword">return</span> {
      value: value.replace(<span class="hljs-regexp">/11/g</span>,<span class="hljs-string">'2'</span>),
      cursor: pos
    }

    <span class="hljs-comment">//或者直接返回字符串,光标在最后边</span>
    <span class="hljs-comment">//return value.replace(/11/g,'2'),</span>
  },
  bindHideKeyboard: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
    <span class="hljs-keyword">if</span> (e.detail.value === <span class="hljs-string">'123'</span>) {
      <span class="hljs-comment">//收起键盘</span>
      wx.hideKeyboard()
    }
  }
})</code></pre>
<p><img alt="input" src="./image/pic/input.png%3Ft=20161107"></p>

                                </section>

    </div>
    <div class="search-results">
        <div class="has-results">

            <h1 class="search-results-title"><span class="search-results-count"></span> 个结果 "<span class="search-query"></span>"</h1>
            <ul class="search-results-list"></ul>

        </div>
        <div class="no-results">

            <h1 class="search-results-title">没有找到相关内容 "<span class="search-query"></span>"</h1>

        </div>
    </div>
</div>

                        </div>
                    </div>
<div class="page-wrapper" id="component/label.html?t=20161107" tabindex="-1" role="main">                        <div class="page-inner">
<h1 id=".$ulink.">label</h1>
<div id="book-search-results">
    <div class="search-noresults">

                                <section class="normal markdown-section">

                                <h4 id="component/label.html?t=20161107#label">label</h4><p>用来改进表单组件的可用性，使用<code>for</code>属性找到对应的<code>id</code>，或者将控件放在该标签下，当点击时，就会触发对应的控件。</p><p><code>for</code>优先级高于内部控件，内部有多个控件的时候默认触发第一个控件。</p><p>目前可以绑定的控件有：<code>&lt;button/&gt;</code>, <code>&lt;checkbox/&gt;</code>, <code>&lt;radio/&gt;</code>, <code>&lt;switch/&gt;</code>。</p><table>
<thead>
<tr><th>属性名</th>
<th>类型</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>for</td>
<td>String</td>
<td>绑定控件的 id</td>
</tr></tbody></table>

<p><strong>示例代码：</strong></p><pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"section section_gap"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"section__title"</span>&gt;</span>表单组件在label内<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">checkbox-group</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"group"</span> <span class="hljs-attr">bindchange</span>=<span class="hljs-string">"checkboxChange"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"label-1"</span> <span class="hljs-attr">wx:for</span>=<span class="hljs-string">"{{checkboxItems}}"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">checkbox</span> <span class="hljs-attr">hidden</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"{{item.name}}"</span> <span class="hljs-attr">checked</span>=<span class="hljs-string">"{{item.checked}}"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">checkbox</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"label-1__icon"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"label-1__icon-checked"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"opacity:{{item.checked ? 1: 0}}"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"label-1__text"</span>&gt;</span>{{item.value}}<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">checkbox-group</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"section section_gap"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"section__title"</span>&gt;</span>label用for标识表单组件<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">radio-group</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"group"</span> <span class="hljs-attr">bindchange</span>=<span class="hljs-string">"radioChange"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"label-2"</span> <span class="hljs-attr">wx:for</span>=<span class="hljs-string">"{{radioItems}}"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">radio</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"{{item.name}}"</span> <span class="hljs-attr">hidden</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"{{item.name}}"</span> <span class="hljs-attr">checked</span>=<span class="hljs-string">"{{item.checked}}"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">radio</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"label-2__icon"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"label-2__icon-checked"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"opacity:{{item.checked ? 1: 0}}"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"label-2__text"</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"{{item.name}}"</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">text</span>&gt;</span>{{item.name}}<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">radio-group</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span></code></pre>
<pre><code class="lang-js">Page({
  data: {
    checkboxItems: [
      {name: <span class="hljs-string">'USA'</span>, value: <span class="hljs-string">'美国'</span>},
      {name: <span class="hljs-string">'CHN'</span>, value: <span class="hljs-string">'中国'</span>, checked: <span class="hljs-string">'true'</span>},
      {name: <span class="hljs-string">'BRA'</span>, value: <span class="hljs-string">'巴西'</span>},
      {name: <span class="hljs-string">'JPN'</span>, value: <span class="hljs-string">'日本'</span>, checked: <span class="hljs-string">'true'</span>},
      {name: <span class="hljs-string">'ENG'</span>, value: <span class="hljs-string">'英国'</span>},
      {name: <span class="hljs-string">'TUR'</span>, value: <span class="hljs-string">'法国'</span>},
    ],
    radioItems: [
      {name: <span class="hljs-string">'USA'</span>, value: <span class="hljs-string">'美国'</span>},
      {name: <span class="hljs-string">'CHN'</span>, value: <span class="hljs-string">'中国'</span>, checked: <span class="hljs-string">'true'</span>},
      {name: <span class="hljs-string">'BRA'</span>, value: <span class="hljs-string">'巴西'</span>},
      {name: <span class="hljs-string">'JPN'</span>, value: <span class="hljs-string">'日本'</span>},
      {name: <span class="hljs-string">'ENG'</span>, value: <span class="hljs-string">'英国'</span>},
      {name: <span class="hljs-string">'TUR'</span>, value: <span class="hljs-string">'法国'</span>},
    ],
    hidden: <span class="hljs-literal">false</span>
  },
  checkboxChange: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
    <span class="hljs-keyword">var</span> checked = e.detail.value
    <span class="hljs-keyword">var</span> changed = {}
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-keyword">this</span>.data.checkboxItems.length; i ++) {
      <span class="hljs-keyword">if</span> (checked.indexOf(<span class="hljs-keyword">this</span>.data.checkboxItems[i].name) !== <span class="hljs-number">-1</span>) {
        changed[<span class="hljs-string">'checkboxItems['</span>+i+<span class="hljs-string">'].checked'</span>] = <span class="hljs-literal">true</span>
      } <span class="hljs-keyword">else</span> {
        changed[<span class="hljs-string">'checkboxItems['</span>+i+<span class="hljs-string">'].checked'</span>] = <span class="hljs-literal">false</span>
      }
    }
    <span class="hljs-keyword">this</span>.setData(changed)
  },
  radioChange: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
    <span class="hljs-keyword">var</span> checked = e.detail.value
    <span class="hljs-keyword">var</span> changed = {}
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-keyword">this</span>.data.radioItems.length; i ++) {
      <span class="hljs-keyword">if</span> (checked.indexOf(<span class="hljs-keyword">this</span>.data.radioItems[i].name) !== <span class="hljs-number">-1</span>) {
        changed[<span class="hljs-string">'radioItems['</span>+i+<span class="hljs-string">'].checked'</span>] = <span class="hljs-literal">true</span>
      } <span class="hljs-keyword">else</span> {
        changed[<span class="hljs-string">'radioItems['</span>+i+<span class="hljs-string">'].checked'</span>] = <span class="hljs-literal">false</span>
      }
    }
    <span class="hljs-keyword">this</span>.setData(changed)
  }
})
</code></pre>
<pre><code class="lang-css"><span class="hljs-selector-class">.label-1</span>, <span class="hljs-selector-class">.label-2</span>{
    <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">15px</span>;
}
<span class="hljs-selector-class">.label-1__text</span>, <span class="hljs-selector-class">.label-2__text</span> {
    <span class="hljs-attribute">display</span>: inline-block;
    <span class="hljs-attribute">vertical-align</span>: middle;
}

<span class="hljs-selector-class">.label-1__icon</span> {
    <span class="hljs-attribute">position</span>: relative;
    <span class="hljs-attribute">margin-right</span>: <span class="hljs-number">10px</span>;
    <span class="hljs-attribute">display</span>: inline-block;
    <span class="hljs-attribute">vertical-align</span>: middle;
    <span class="hljs-attribute">width</span>: <span class="hljs-number">18px</span>;
    <span class="hljs-attribute">height</span>: <span class="hljs-number">18px</span>;
    <span class="hljs-attribute">background</span>: <span class="hljs-number">#fcfff4</span>;
}

<span class="hljs-selector-class">.label-1__icon-checked</span> {
    <span class="hljs-attribute">position</span>: absolute;
    <span class="hljs-attribute">top</span>: <span class="hljs-number">3px</span>;
    <span class="hljs-attribute">left</span>: <span class="hljs-number">3px</span>;
    <span class="hljs-attribute">width</span>: <span class="hljs-number">12px</span>;
    <span class="hljs-attribute">height</span>: <span class="hljs-number">12px</span>;
    <span class="hljs-attribute">background</span>: <span class="hljs-number">#1aad19</span>;
}


<span class="hljs-selector-class">.label-2__icon</span> {
    <span class="hljs-attribute">position</span>: relative;
    <span class="hljs-attribute">display</span>: inline-block;
    <span class="hljs-attribute">vertical-align</span>: middle;
    <span class="hljs-attribute">margin-right</span>: <span class="hljs-number">10px</span>;
    <span class="hljs-attribute">width</span>: <span class="hljs-number">18px</span>;
    <span class="hljs-attribute">height</span>: <span class="hljs-number">18px</span>;
    <span class="hljs-attribute">background</span>: <span class="hljs-number">#fcfff4</span>;
    <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">50px</span>;
}

<span class="hljs-selector-class">.label-2__icon-checked</span> {
    <span class="hljs-attribute">position</span>: absolute;
    <span class="hljs-attribute">left</span>: <span class="hljs-number">3px</span>;
    <span class="hljs-attribute">top</span>: <span class="hljs-number">3px</span>;
    <span class="hljs-attribute">width</span>: <span class="hljs-number">12px</span>;
    <span class="hljs-attribute">height</span>: <span class="hljs-number">12px</span>;
    <span class="hljs-attribute">background</span>: <span class="hljs-number">#1aad19</span>;
    <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">50%</span>;
}

<span class="hljs-selector-class">.label-4_text</span>{
    <span class="hljs-attribute">text-align</span>: center;
    <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">15px</span>;
}</code></pre>
<p><img alt="label" src="./image/pic/label.png%3Ft=20161107"></p>

                                </section>

    </div>
    <div class="search-results">
        <div class="has-results">

            <h1 class="search-results-title"><span class="search-results-count"></span> 个结果 "<span class="search-query"></span>"</h1>
            <ul class="search-results-list"></ul>

        </div>
        <div class="no-results">

            <h1 class="search-results-title">没有找到相关内容 "<span class="search-query"></span>"</h1>

        </div>
    </div>
</div>

                        </div>
                    </div>
<div class="page-wrapper" id="component/picker.html?t=20161107" tabindex="-1" role="main">                        <div class="page-inner">
<h1 id=".$ulink.">picker</h1>
<div id="book-search-results">
    <div class="search-noresults">

                                <section class="normal markdown-section">

                                <h4 id="component/picker.html?t=20161107#picker">picker</h4><p>滚动选择器，现支持三种选择器，通过mode来区分，分别是普通选择器，时间选择器，日期选择器，默认是普通选择器。</p><p><strong>普通选择器：mode = selector</strong></p><table>
<thead>
<tr><th>属性名</th>
<th>类型</th>
<th>默认值</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>range</td>
<td>Array</td>
<td>[]</td>
<td>mode为 selector 时，range 有效</td>
</tr><tr><td>value</td>
<td>Number</td>
<td>0</td>
<td>mode为 selector 时，是数字，表示选择了 range 中的第几个，从0开始。</td>
</tr><tr><td>bindchange</td>
<td>EventHandle</td>
<td></td>
<td>value改变时触发change事件，event.detail = {value: value}</td>
</tr></tbody></table>

<p><strong>时间选择器：mode = time</strong></p><table>
<thead>
<tr><th>属性名</th>
<th>类型</th>
<th>默认值</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>value</td>
<td>String</td>
<td></td>
<td>表示选中的时间，格式为"hh:mm"</td>
</tr><tr><td>start</td>
<td>String</td>
<td></td>
<td>表示有效时间范围的开始，字符串格式为"hh:mm"</td>
</tr><tr><td>end</td>
<td>String</td>
<td></td>
<td>表示有效时间范围的结束，字符串格式为"hh:mm"</td>
</tr><tr><td>bindchange</td>
<td>EventHandle</td>
<td></td>
<td>value改变时触发change事件，event.detail = {value: value}</td>
</tr></tbody></table>

<p><strong>日期选择器：mode = date</strong></p><table>
<thead>
<tr><th>属性名</th>
<th>类型</th>
<th>默认值</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>value</td>
<td>String</td>
<td>0</td>
<td>表示选中的日期，格式为"yyyy-MM-dd"</td>
</tr><tr><td>start</td>
<td>String</td>
<td></td>
<td>表示有效日期范围的开始，字符串格式为"yyyy-MM-dd"</td>
</tr><tr><td>end</td>
<td>String</td>
<td></td>
<td>表示有效日期范围的结束，字符串格式为"yyyy-MM-dd"</td>
</tr><tr><td>fields</td>
<td>String</td>
<td>day</td>
<td>有效值year,month,day，表示选择器的粒度</td>
</tr><tr><td>bindchange</td>
<td>EventHandle</td>
<td></td>
<td>value改变时触发change事件，event.detail = {value: value}</td>
</tr></tbody></table>

<p><strong>注意：</strong>开发工具暂时只支持mode = selector。</p><p><strong>示例代码：</strong></p><pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"section"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"section__title"</span>&gt;</span>地区选择器<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">picker</span> <span class="hljs-attr">bindchange</span>=<span class="hljs-string">"bindPickerChange"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"{{index}}"</span> <span class="hljs-attr">range</span>=<span class="hljs-string">"{{array}}"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"picker"</span>&gt;</span>
      当前选择：{{array[index]}}
    <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">picker</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"section"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"section__title"</span>&gt;</span>时间选择器<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">picker</span> <span class="hljs-attr">mode</span>=<span class="hljs-string">"time"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"{{time}}"</span> <span class="hljs-attr">start</span>=<span class="hljs-string">"09:01"</span> <span class="hljs-attr">end</span>=<span class="hljs-string">"21:01"</span> <span class="hljs-attr">bindchange</span>=<span class="hljs-string">"bindTimeChange"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"picker"</span>&gt;</span>
      当前选择: {{time}}
    <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">picker</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"section"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"section__title"</span>&gt;</span>日期选择器<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">picker</span> <span class="hljs-attr">mode</span>=<span class="hljs-string">"date"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"{{date}}"</span> <span class="hljs-attr">start</span>=<span class="hljs-string">"2015-09-01"</span> <span class="hljs-attr">end</span>=<span class="hljs-string">"2017-09-01"</span> <span class="hljs-attr">bindchange</span>=<span class="hljs-string">"bindDateChange"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"picker"</span>&gt;</span>
      当前选择: {{date}}
    <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">picker</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span></code></pre>
<pre><code class="lang-js">Page({
  data: {
    array: [<span class="hljs-string">'美国'</span>, <span class="hljs-string">'中国'</span>, <span class="hljs-string">'巴西'</span>, <span class="hljs-string">'日本'</span>],
    index: <span class="hljs-number">0</span>,
    date: <span class="hljs-string">'2016-09-01'</span>,
    time: <span class="hljs-string">'12:01'</span>
  },
  bindPickerChange: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'picker发送选择改变，携带值为'</span>, e.detail.value)
    <span class="hljs-keyword">this</span>.setData({
      index: e.detail.value
    })
  },
  bindDateChange: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
    <span class="hljs-keyword">this</span>.setData({
      date: e.detail.value
    })
  },
  bindTimeChange: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
    <span class="hljs-keyword">this</span>.setData({
      time: e.detail.value
    })
  }
})</code></pre>
<p><img alt="picker" src="./image/pic/picker.png%3Ft=20161107"></p>

                                </section>

    </div>
    <div class="search-results">
        <div class="has-results">

            <h1 class="search-results-title"><span class="search-results-count"></span> 个结果 "<span class="search-query"></span>"</h1>
            <ul class="search-results-list"></ul>

        </div>
        <div class="no-results">

            <h1 class="search-results-title">没有找到相关内容 "<span class="search-query"></span>"</h1>

        </div>
    </div>
</div>

                        </div>
                    </div>
<div class="page-wrapper" id="component/radio.html?t=20161107" tabindex="-1" role="main">                        <div class="page-inner">
<h1 id=".$ulink.">radio</h1>
<div id="book-search-results">
    <div class="search-noresults">

                                <section class="normal markdown-section">

                                <h4 id="component/radio.html?t=20161107#radio-group">radio-group</h4><p>单项选择器，内部由多个<code>&lt;radio/&gt;</code>组成。</p><table>
<thead>
<tr><th>属性名</th>
<th>类型</th>
<th>默认值</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>bindchange</td>
<td>EventHandle</td>
<td></td>
<td><code>&lt;radio-group/&gt;</code>中的选中项发生变化时触发change事件，event.detail = {value: 选中项radio的value}</td>
</tr></tbody></table>

<h4 id="component/radio.html?t=20161107#radio">radio</h4><p>单选项目</p><table>
<thead>
<tr><th>属性名</th>
<th>类型</th>
<th>默认值</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>value</td>
<td>String</td>
<td></td>
<td><code>&lt;radio/&gt;</code>标识。当该<code>&lt;radio/&gt;</code>选中时，<code>&lt;radio-group/&gt;</code>的change事件会携带<code>&lt;radio/&gt;</code>的value</td>
</tr><tr><td>checked</td>
<td>Boolean</td>
<td>false</td>
<td>当前是否选中</td>
</tr><tr><td>disabled</td>
<td>Boolean</td>
<td>false</td>
<td>是否禁用</td>
</tr></tbody></table>

<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">radio-group</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"radio-group"</span> <span class="hljs-attr">bindchange</span>=<span class="hljs-string">"radioChange"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"radio"</span> <span class="hljs-attr">wx:for</span>=<span class="hljs-string">"{{items}}"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">radio</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"{{item.name}}"</span> <span class="hljs-attr">checked</span>=<span class="hljs-string">"{{item.checked}}"</span>/&gt;</span>{{item.value}}
  <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">radio-group</span>&gt;</span></code></pre>
<pre><code class="lang-js">Page({
  data: {
    items: [
      {name: <span class="hljs-string">'USA'</span>, value: <span class="hljs-string">'美国'</span>},
      {name: <span class="hljs-string">'CHN'</span>, value: <span class="hljs-string">'中国'</span>, checked: <span class="hljs-string">'true'</span>},
      {name: <span class="hljs-string">'BRA'</span>, value: <span class="hljs-string">'巴西'</span>},
      {name: <span class="hljs-string">'JPN'</span>, value: <span class="hljs-string">'日本'</span>},
      {name: <span class="hljs-string">'ENG'</span>, value: <span class="hljs-string">'英国'</span>},
      {name: <span class="hljs-string">'TUR'</span>, value: <span class="hljs-string">'法国'</span>},
    ]
  },
  radioChange: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'radio发生change事件，携带value值为：'</span>, e.detail.value)
  }
})</code></pre>
<p><img alt="radio" src="./image/pic/radio.png%3Ft=20161107"></p>

                                </section>

    </div>
    <div class="search-results">
        <div class="has-results">

            <h1 class="search-results-title"><span class="search-results-count"></span> 个结果 "<span class="search-query"></span>"</h1>
            <ul class="search-results-list"></ul>

        </div>
        <div class="no-results">

            <h1 class="search-results-title">没有找到相关内容 "<span class="search-query"></span>"</h1>

        </div>
    </div>
</div>

                        </div>
                    </div>
<div class="page-wrapper" id="component/slider.html?t=20161107" tabindex="-1" role="main">                        <div class="page-inner">
<h1 id=".$ulink.">slider</h1>
<div id="book-search-results">
    <div class="search-noresults">

                                <section class="normal markdown-section">

                                <h4 id="component/slider.html?t=20161107#slider">slider</h4><p>滑动选择器。</p><table>
<thead>
<tr><th>属性名</th>
<th>类型</th>
<th>默认值</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>min</td>
<td>Number</td>
<td>0</td>
<td>最小值</td>
</tr><tr><td>max</td>
<td>Number</td>
<td>100</td>
<td>最大值</td>
</tr><tr><td>step</td>
<td>Number</td>
<td>1</td>
<td>步长，取值必须大于0，并且可被(max - min)整除</td>
</tr><tr><td>disabled</td>
<td>Boolean</td>
<td>false</td>
<td>是否禁用</td>
</tr><tr><td>value</td>
<td>Number</td>
<td>0</td>
<td>当前取值</td>
</tr><tr><td>show-value</td>
<td>Boolean</td>
<td>false</td>
<td>是否显示当前 value</td>
</tr><tr><td>bindchange</td>
<td>EventHandle</td>
<td></td>
<td>完成一次拖动后触发的事件，event.detail = {value: value}</td>
</tr></tbody></table>

<p><strong>示例代码：</strong></p><pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"section section_gap"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"section__title"</span>&gt;</span>设置left/right icon<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"body-view"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">slider</span> <span class="hljs-attr">bindchange</span>=<span class="hljs-string">"slider1change"</span> <span class="hljs-attr">left-icon</span>=<span class="hljs-string">"cancel"</span> <span class="hljs-attr">right-icon</span>=<span class="hljs-string">"success_no_circle"</span>/&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"section section_gap"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"section__title"</span>&gt;</span>设置step<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"body-view"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">slider</span> <span class="hljs-attr">bindchange</span>=<span class="hljs-string">"slider2change"</span> <span class="hljs-attr">step</span>=<span class="hljs-string">"5"</span>/&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"section section_gap"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"section__title"</span>&gt;</span>显示当前value<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"body-view"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">slider</span> <span class="hljs-attr">bindchange</span>=<span class="hljs-string">"slider3change"</span> <span class="hljs-attr">show-value</span>/&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"section section_gap"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"section__title"</span>&gt;</span>设置最小/最大值<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"body-view"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">slider</span> <span class="hljs-attr">bindchange</span>=<span class="hljs-string">"slider4change"</span> <span class="hljs-attr">min</span>=<span class="hljs-string">"50"</span> <span class="hljs-attr">max</span>=<span class="hljs-string">"200"</span> <span class="hljs-attr">show-value</span>/&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span></code></pre>
<pre><code class="lang-js"><span class="hljs-keyword">var</span> pageData = {}
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">1</span>; i &lt; <span class="hljs-number">5</span>; i++) {
  (<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">index</span>) </span>{
    pageData[<span class="hljs-string">'slider'</span> + index + <span class="hljs-string">'change'</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
      <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'slider'</span> + <span class="hljs-string">'index'</span> + <span class="hljs-string">'发生 change 事件，携带值为'</span>, e.detail.value)
    }
  })(i)
}
Page(pageData)</code></pre>
<p><img alt="slider" src="./image/pic/slider.png%3Ft=20161107"></p>

                                </section>

    </div>
    <div class="search-results">
        <div class="has-results">

            <h1 class="search-results-title"><span class="search-results-count"></span> 个结果 "<span class="search-query"></span>"</h1>
            <ul class="search-results-list"></ul>

        </div>
        <div class="no-results">

            <h1 class="search-results-title">没有找到相关内容 "<span class="search-query"></span>"</h1>

        </div>
    </div>
</div>

                        </div>
                    </div>
<div class="page-wrapper" id="component/switch.html?t=20161107" tabindex="-1" role="main">                        <div class="page-inner">
<h1 id=".$ulink.">switch</h1>
<div id="book-search-results">
    <div class="search-noresults">

                                <section class="normal markdown-section">

                                <h4 id="component/switch.html?t=20161107#switch">switch</h4><p>开关选择器。</p><table>
<thead>
<tr><th>属性名</th>
<th>类型</th>
<th>默认值</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>checked</td>
<td>Boolean</td>
<td>false</td>
<td>是否选中</td>
</tr><tr><td>type</td>
<td>String</td>
<td>switch</td>
<td>样式，有效值：switch, checkbox</td>
</tr><tr><td>bindchange</td>
<td>EventHandle</td>
<td></td>
<td>checked改变时触发change事件，event.detail={ value:checked}</td>
</tr></tbody></table>

<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"body-view"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">switch</span> <span class="hljs-attr">checked</span> <span class="hljs-attr">bindchange</span>=<span class="hljs-string">"switch1Change"</span>/&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">switch</span> <span class="hljs-attr">bindchange</span>=<span class="hljs-string">"switch2Change"</span>/&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span></code></pre>
<pre><code class="lang-js">Page({
  switch1Change: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>)</span>{
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'switch1 发生 change 事件，携带值为'</span>, e.detail.value)
  },
  switch2Change: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>)</span>{
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'switch2 发生 change 事件，携带值为'</span>, e.detail.value)
  }
})</code></pre>
<p><img alt="switch" src="./image/pic/switch.png%3Ft=20161107"></p>

                                </section>

    </div>
    <div class="search-results">
        <div class="has-results">

            <h1 class="search-results-title"><span class="search-results-count"></span> 个结果 "<span class="search-query"></span>"</h1>
            <ul class="search-results-list"></ul>

        </div>
        <div class="no-results">

            <h1 class="search-results-title">没有找到相关内容 "<span class="search-query"></span>"</h1>

        </div>
    </div>
</div>

                        </div>
                    </div>
<div class="page-wrapper" id="component/textarea.html?t=20161107" tabindex="-1" role="main">                        <div class="page-inner">
<h1 id=".$ulink.">textarea</h1>
<div id="book-search-results">
    <div class="search-noresults">

                                <section class="normal markdown-section">

                                <h4 id="component/textarea.html?t=20161107#textarea">textarea</h4><p>多行输入框。</p><table>
<thead>
<tr><th>属性名</th>
<th>类型</th>
<th>默认值</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>value</td>
<td>String</td>
<td></td>
<td>输入框的内容</td>
</tr><tr><td>placeholder</td>
<td>String</td>
<td></td>
<td>输入框为空时占位符</td>
</tr><tr><td>placeholder-style</td>
<td>String</td>
<td></td>
<td>指定 placeholder 的样式</td>
</tr><tr><td>placeholder-class</td>
<td>String</td>
<td>textarea-placeholder</td>
<td>指定 placeholder 的样式类</td>
</tr><tr><td>disabled</td>
<td>Boolean</td>
<td>false</td>
<td>是否禁用</td>
</tr><tr><td>maxlength</td>
<td>Number</td>
<td>140</td>
<td>最大输入长度，设置为0的时候不限制最大长度</td>
</tr><tr><td>auto-focus</td>
<td>Boolean</td>
<td>false</td>
<td>自动聚焦，拉起键盘。页面中只能有一个 <code>&lt;textarea/&gt;</code> 或 <code>&lt;input/&gt;</code> 设置 auto-focus 属性</td>
</tr><tr><td>focus</td>
<td>Boolean</td>
<td>false</td>
<td>获取焦点（开发工具暂不支持）</td>
</tr><tr><td>auto-height</td>
<td>Boolean</td>
<td>false</td>
<td>是否自动增高，设置auto-height时，style.height不生效</td>
</tr><tr><td>bindfocus</td>
<td>EventHandle</td>
<td></td>
<td>输入框聚焦时触发，event.detail = {value: value}</td>
</tr><tr><td>bindblur</td>
<td>EventHandle</td>
<td></td>
<td>输入框失去焦点时触发，event.detail = {value: value}</td>
</tr><tr><td>bindlinechange</td>
<td>EventHandle</td>
<td></td>
<td>输入框行数变化时调用，event.detail = {height: 0, heightRpx: 0, lineCount: 0}</td>
</tr></tbody></table>

<p><strong>示例代码：</strong></p><pre><code class="lang-html"><span class="hljs-comment">&lt;!--textarea.wxml--&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"section"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">textarea</span> <span class="hljs-attr">bindblur</span>=<span class="hljs-string">"bindTextAreaBlur"</span> <span class="hljs-attr">auto-height</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"自动变高"</span> /&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"section"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">textarea</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"placeholder颜色是红色的"</span> <span class="hljs-attr">placeholder-style</span>=<span class="hljs-string">"color:red;"</span>  /&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"section"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">textarea</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"这是一个可以自动聚焦的textarea"</span> <span class="hljs-attr">auto-focus</span> /&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"section"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">textarea</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"这个只有在按钮点击的时候才聚焦"</span> <span class="hljs-attr">focus</span>=<span class="hljs-string">"{{focus}}"</span> /&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn-area"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">bindtap</span>=<span class="hljs-string">"bindButtonTap"</span>&gt;</span>使得输入框获取焦点<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span></code></pre>
<pre><code class="lang-javascript"><span class="hljs-comment">//textarea.js</span>
Page({
  data: {
    height: <span class="hljs-number">20</span>,
    focus: <span class="hljs-literal">false</span>
  },
  bindButtonTap: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">this</span>.setData({
      focus: <span class="hljs-literal">true</span>
    })
  },
  bindTextAreaBlur: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
    <span class="hljs-built_in">console</span>.log(e.detail.value)
  }
})</code></pre>


                                </section>

    </div>
    <div class="search-results">
        <div class="has-results">

            <h1 class="search-results-title"><span class="search-results-count"></span> 个结果 "<span class="search-query"></span>"</h1>
            <ul class="search-results-list"></ul>

        </div>
        <div class="no-results">

            <h1 class="search-results-title">没有找到相关内容 "<span class="search-query"></span>"</h1>

        </div>
    </div>
</div>

                        </div>
                    </div>
<div class="page-wrapper" id="component/action-sheet.html?t=20161107" tabindex="-1" role="main">                        <div class="page-inner">
<h1 id=".$ulink.">操作反馈</h1>
<div id="book-search-results">
    <div class="search-noresults">

                                <section class="normal markdown-section">

                                <h4 id="component/action-sheet.html?t=20161107#action-sheet">action-sheet</h4><p>参见 API <a href="#api/api-react.html%3Ft=20161107#wxshowactionsheetobject"><code>wx.showActionSheet</code></a></p>

                                </section>

    </div>
    <div class="search-results">
        <div class="has-results">

            <h1 class="search-results-title"><span class="search-results-count"></span> 个结果 "<span class="search-query"></span>"</h1>
            <ul class="search-results-list"></ul>

        </div>
        <div class="no-results">

            <h1 class="search-results-title">没有找到相关内容 "<span class="search-query"></span>"</h1>

        </div>
    </div>
</div>

                        </div>
                    </div>
<div class="page-wrapper" id="component/modal.html?t=20161107" tabindex="-1" role="main">                        <div class="page-inner">
<h1 id=".$ulink.">modal</h1>
<div id="book-search-results">
    <div class="search-noresults">

                                <section class="normal markdown-section">

                                <h4 id="component/modal.html?t=20161107#modal">modal</h4><p>即将废弃，请使用 API <a href="#api/api-react.html%3Ft=20161107#wxshowmodalobject"><code>wx.showModal</code></a></p>

                                </section>

    </div>
    <div class="search-results">
        <div class="has-results">

            <h1 class="search-results-title"><span class="search-results-count"></span> 个结果 "<span class="search-query"></span>"</h1>
            <ul class="search-results-list"></ul>

        </div>
        <div class="no-results">

            <h1 class="search-results-title">没有找到相关内容 "<span class="search-query"></span>"</h1>

        </div>
    </div>
</div>

                        </div>
                    </div>
<div class="page-wrapper" id="component/toast.html?t=20161107" tabindex="-1" role="main">                        <div class="page-inner">
<h1 id=".$ulink.">toast</h1>
<div id="book-search-results">
    <div class="search-noresults">

                                <section class="normal markdown-section">

                                <h4 id="component/toast.html?t=20161107#toast">toast</h4><p>即将废弃，请使用 API <a href="#api/api-react.html%3Ft=20161107#wxshowtoastobject"><code>wx.showToast</code></a></p>

                                </section>

    </div>
    <div class="search-results">
        <div class="has-results">

            <h1 class="search-results-title"><span class="search-results-count"></span> 个结果 "<span class="search-query"></span>"</h1>
            <ul class="search-results-list"></ul>

        </div>
        <div class="no-results">

            <h1 class="search-results-title">没有找到相关内容 "<span class="search-query"></span>"</h1>

        </div>
    </div>
</div>

                        </div>
                    </div>
<div class="page-wrapper" id="component/loading.html?t=20161107" tabindex="-1" role="main">                        <div class="page-inner">
<h1 id=".$ulink.">loading</h1>
<div id="book-search-results">
    <div class="search-noresults">

                                <section class="normal markdown-section">

                                <h4 id="component/loading.html?t=20161107#loading">loading</h4><p>即将废弃，请使用 API <a href="#api/api-react.html%3Ft=20161107#wxshowtoastobject"><code>wx.showToast</code></a></p>

                                </section>

    </div>
    <div class="search-results">
        <div class="has-results">

            <h1 class="search-results-title"><span class="search-results-count"></span> 个结果 "<span class="search-query"></span>"</h1>
            <ul class="search-results-list"></ul>

        </div>
        <div class="no-results">

            <h1 class="search-results-title">没有找到相关内容 "<span class="search-query"></span>"</h1>

        </div>
    </div>
</div>

                        </div>
                    </div>
<div class="page-wrapper" id="component/navigator.html?t=20161107" tabindex="-1" role="main">                        <div class="page-inner">
<h1 id=".$ulink.">导航</h1>
<div id="book-search-results">
    <div class="search-noresults">

                                <section class="normal markdown-section">

                                <h4 id="component/navigator.html?t=20161107#navigator">navigator</h4><p>页面链接。</p><table>
<thead>
<tr><th>属性名</th>
<th>类型</th>
<th>默认值</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>url</td>
<td>String</td>
<td></td>
<td>应用内的跳转链接</td>
</tr><tr><td>redirect</td>
<td>Boolean</td>
<td>false</td>
<td>是否关闭当前页面</td>
</tr><tr><td>hover-class</td>
<td>String</td>
<td>navigator-hover</td>
<td>指定点击时的样式类，当<code>hover-class="none"</code>时，没有点击态效果</td>
</tr></tbody></table>

<p><strong>注：<code>navigator-hover</code>默认为<code>{background-color: rgba(0, 0, 0, 0.1); opacity: 0.7;}</code>, <code>&lt;navigator/&gt;</code>的子节点背景色应为透明色</strong></p><p><strong>示例代码：</strong></p><pre><code class="lang-css"><span class="hljs-comment">/** wxss **/</span>
<span class="hljs-comment">/** 修改默认的navigator点击态 **/</span>
<span class="hljs-selector-class">.navigator-hover</span> {
    <span class="hljs-attribute">color</span>:blue;
}
<span class="hljs-comment">/** 自定义其他点击态样式类 **/</span>
<span class="hljs-selector-class">.other-navigator-hover</span> {
    <span class="hljs-attribute">color</span>:red;
}</code></pre>
<pre><code class="lang-html"><span class="hljs-comment">&lt;!-- sample.wxml --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn-area"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">navigator</span> <span class="hljs-attr">url</span>=<span class="hljs-string">"navigate?title=navigate"</span> <span class="hljs-attr">hover-class</span>=<span class="hljs-string">"navigator-hover"</span>&gt;</span>跳转到新页面<span class="hljs-tag">&lt;/<span class="hljs-name">navigator</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">navigator</span> <span class="hljs-attr">url</span>=<span class="hljs-string">"redirect?title=redirect"</span> <span class="hljs-attr">redirect</span> <span class="hljs-attr">hover-class</span>=<span class="hljs-string">"other-navigator-hover"</span>&gt;</span>在当前页打开<span class="hljs-tag">&lt;/<span class="hljs-name">navigator</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span></code></pre>
<pre><code class="lang-html"><span class="hljs-comment">&lt;!-- navigator.wxml --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"text-align:center"</span>&gt;</span> {{title}} <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">view</span>&gt;</span> 点击左上角返回回到之前页面 <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span></code></pre>
<pre><code class="lang-html"><span class="hljs-comment">&lt;!-- redirect.wxml --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"text-align:center"</span>&gt;</span> {{title}} <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">view</span>&gt;</span> 点击左上角返回回到上级页面 <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span></code></pre>
<pre><code class="lang-js"><span class="hljs-comment">// redirect.js navigator.js</span>
Page({
  onLoad: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">options</span>) </span>{
    <span class="hljs-keyword">this</span>.setData({
      title: options.title
    })
  }
})</code></pre>


                                </section>

    </div>
    <div class="search-results">
        <div class="has-results">

            <h1 class="search-results-title"><span class="search-results-count"></span> 个结果 "<span class="search-query"></span>"</h1>
            <ul class="search-results-list"></ul>

        </div>
        <div class="no-results">

            <h1 class="search-results-title">没有找到相关内容 "<span class="search-query"></span>"</h1>

        </div>
    </div>
</div>

                        </div>
                    </div>
<div class="page-wrapper" id="component/audio.html?t=20161107" tabindex="-1" role="main">                        <div class="page-inner">
<h1 id=".$ulink.">媒体组件</h1>
<div id="book-search-results">
    <div class="search-noresults">

                                <section class="normal markdown-section">

                                <h4 id="component/audio.html?t=20161107#audio">audio</h4><p>音频。</p><table>
<thead>
<tr><th>属性名</th>
<th>类型</th>
<th>默认值</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>id</td>
<td>String</td>
<td></td>
<td>video 组件的唯一标识符</td>
</tr><tr><td>src</td>
<td>String</td>
<td></td>
<td>要播放音频的资源地址</td>
</tr><tr><td>loop</td>
<td>Boolean</td>
<td>false</td>
<td>是否循环播放</td>
</tr><tr><td>controls</td>
<td>Boolean</td>
<td>true</td>
<td>是否显示默认控件</td>
</tr><tr><td>poster</td>
<td>String</td>
<td></td>
<td>默认控件上的音频封面的图片资源地址，如果 controls 属性值为 false 则设置 poster 无效</td>
</tr><tr><td>name</td>
<td>String</td>
<td>未知音频</td>
<td>默认控件上的音频名字，如果 controls 属性值为 false 则设置 name 无效</td>
</tr><tr><td>author</td>
<td>String</td>
<td>未知作者</td>
<td>默认控件上的作者名字，如果 controls 属性值为 false 则设置 author 无效</td>
</tr><tr><td>binderror</td>
<td>EventHandle</td>
<td></td>
<td>当发生错误时触发 error 事件，detail = {errMsg: MediaError.code}</td>
</tr><tr><td>bindplay</td>
<td>EventHandle</td>
<td></td>
<td>当开始/继续播放时触发play事件</td>
</tr><tr><td>bindpause</td>
<td>EventHandle</td>
<td></td>
<td>当暂停播放时触发 pause 事件</td>
</tr><tr><td>bindtimeupdate</td>
<td>EventHandle</td>
<td></td>
<td>当播放进度改变时触发 timeupdate 事件，detail = {currentTime, duration}</td>
</tr><tr><td>bindended</td>
<td>EventHandle</td>
<td></td>
<td>当播放到末尾时触发 ended 事件</td>
</tr></tbody></table>

<p><strong>MediaError.code</strong></p><table>
<thead>
<tr><th>返回错误码</th>
<th>描述</th>
</tr></thead><tbody>
<tr><td>MEDIA_ERR_ABORTED</td>
<td>获取资源被用户禁止</td>
</tr><tr><td>MEDIA_ERR_NETWORD</td>
<td>网络错误</td>
</tr><tr><td>MEDIA_ERR_DECODE</td>
<td>解码错误</td>
</tr><tr><td>MEDIA_ERR_SRC_NOT_SUPPOERTED</td>
<td>不合适资源</td>
</tr></tbody></table>

<p><strong>示例代码：</strong></p><pre><code class="lang-html"><span class="hljs-comment">&lt;!-- audio.wxml --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">audio</span> <span class="hljs-attr">poster</span>=<span class="hljs-string">"{{poster}}"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"{{name}}"</span> <span class="hljs-attr">author</span>=<span class="hljs-string">"{{author}}"</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"{{src}}"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"myAudio"</span> <span class="hljs-attr">controls</span> <span class="hljs-attr">loop</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">audio</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"primary"</span> <span class="hljs-attr">bindtap</span>=<span class="hljs-string">"audioPlay"</span>&gt;</span>播放<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"primary"</span> <span class="hljs-attr">bindtap</span>=<span class="hljs-string">"audioPause"</span>&gt;</span>暂停<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"primary"</span> <span class="hljs-attr">bindtap</span>=<span class="hljs-string">"audio14"</span>&gt;</span>设置当前播放时间为14秒<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"primary"</span> <span class="hljs-attr">bindtap</span>=<span class="hljs-string">"audioStart"</span>&gt;</span>回到开头<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></code></pre>
<pre><code class="lang-javascript"><span class="hljs-comment">// audio.js</span>
Page({
  onReady: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) </span>{
    <span class="hljs-comment">// 使用 wx.createAudioContext 获取 audio 上下文 context</span>
    <span class="hljs-keyword">this</span>.audioCtx = wx.createAudioContext(<span class="hljs-string">'myAudio'</span>)
  },
  data: {
    poster: <span class="hljs-string">'http://y.gtimg.cn/music/photo_new/T002R300x300M000003rsKF44GyaSk.jpg?max_age=2592000'</span>,
    name: <span class="hljs-string">'此时此刻'</span>,
    author: <span class="hljs-string">'许巍'</span>,
    src: <span class="hljs-string">'http://ws.stream.qqmusic.qq.com/M500001VfvsJ21xFqb.mp3?guid=ffffffff82def4af4b12b3cd9337d5e7&amp;uin=346897220&amp;vkey=6292F51E1E384E06DCBDC9AB7C49FD713D632D313AC4858BACB8DDD29067D3C601481D36E62053BF8DFEAF74C0A5CCFADD6471160CAF3E6A&amp;fromtag=46'</span>,
  },
  audioPlay: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">this</span>.audioCtx.play()
  },
  audioPause: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">this</span>.audioCtx.pause()
  },
  audio14: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">this</span>.audioCtx.seek(<span class="hljs-number">14</span>)
  },
  audioStart: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">this</span>.audioCtx.seek(<span class="hljs-number">0</span>)
  }
})</code></pre>
<p><img alt="audio" src="./image/pic/audio.png%3Ft=20161107"></p><p>相关api：<a href="#api/api-audio.html%3Ft=20161107">wx.createAudioContext</a></p>

                                </section>

    </div>
    <div class="search-results">
        <div class="has-results">

            <h1 class="search-results-title"><span class="search-results-count"></span> 个结果 "<span class="search-query"></span>"</h1>
            <ul class="search-results-list"></ul>

        </div>
        <div class="no-results">

            <h1 class="search-results-title">没有找到相关内容 "<span class="search-query"></span>"</h1>

        </div>
    </div>
</div>

                        </div>
                    </div>
<div class="page-wrapper" id="component/image.html?t=20161107" tabindex="-1" role="main">                        <div class="page-inner">
<h1 id=".$ulink.">image</h1>
<div id="book-search-results">
    <div class="search-noresults">

                                <section class="normal markdown-section">

                                <h4 id="component/image.html?t=20161107#image">image</h4><p>图片。</p><table>
<thead>
<tr><th>属性名</th>
<th>类型</th>
<th>默认值</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>src</td>
<td>String</td>
<td></td>
<td>图片资源地址</td>
</tr><tr><td>mode</td>
<td>String</td>
<td>'scaleToFill'</td>
<td>图片裁剪、缩放的模式</td>
</tr><tr><td>binderror</td>
<td>HandleEvent</td>
<td></td>
<td>当错误发生时，发布到 AppService 的事件名，事件对象event.detail = {errMsg: 'something wrong'}</td>
</tr><tr><td>bindload</td>
<td>HandleEvent</td>
<td></td>
<td>当图片载入完毕时，发布到 AppService 的事件名，事件对象event.detail = {height:'图片高度px', width:'图片宽度px'}</td>
</tr></tbody></table>

<p><strong>注：image组件默认宽度300px、高度225px</strong></p><p>mode有12种模式，其中3种是缩放模式，9种是裁剪模式。</p><table>
<thead>
<tr><th>模式</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>scaleToFill</td>
<td>不保持纵横比缩放图片，使图片的宽高完全拉伸至填满 image 元素</td>
</tr><tr><td>aspectFit</td>
<td>保持纵横比缩放图片，使图片的长边能完全显示出来。也就是说，可以完整地将图片显示出来。</td>
</tr><tr><td>aspectFill</td>
<td>保持纵横比缩放图片，只保证图片的短边能完全显示出来。也就是说，图片通常只在水平或垂直方向是完整的，另一个方向将会发生截取。</td>
</tr></tbody></table>

<p>裁剪模式</p><table>
<thead>
<tr><th>模式</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>top</td>
<td>不缩放图片，只显示图片的顶部区域</td>
</tr><tr><td>bottom</td>
<td>不缩放图片，只显示图片的底部区域</td>
</tr><tr><td>center</td>
<td>不缩放图片，只显示图片的中间区域</td>
</tr><tr><td>left</td>
<td>不缩放图片，只显示图片的左边区域</td>
</tr><tr><td>right</td>
<td>不缩放图片，只显示图片的右边区域</td>
</tr><tr><td>top left</td>
<td>不缩放图片，只显示图片的左上边区域</td>
</tr><tr><td>top right</td>
<td>不缩放图片，只显示图片的右上边区域</td>
</tr><tr><td>bottom left</td>
<td>不缩放图片，只显示图片的左下边区域</td>
</tr><tr><td>bottom right</td>
<td>不缩放图片，只显示图片的右下边区域</td>
</tr></tbody></table>

<p><strong>示例：</strong></p><pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"page"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"page__hd"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"page__title"</span>&gt;</span>image<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"page__desc"</span>&gt;</span>图片<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"page__bd"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"section section_gap"</span> <span class="hljs-attr">wx:for</span>=<span class="hljs-string">"{{array}}"</span> <span class="hljs-attr">wx:for-item</span>=<span class="hljs-string">"item"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"section__title"</span>&gt;</span>{{item.text}}<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"section__ctn"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">image</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"width: 200px; height: 200px; background-color: #eeeeee;"</span> <span class="hljs-attr">mode</span>=<span class="hljs-string">"{{item.mode}}"</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"{{src}}"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">image</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span></code></pre>
<pre><code class="lang-js">Page({
  data: {
    array: [{
      mode: <span class="hljs-string">'scaleToFill'</span>,
      text: <span class="hljs-string">'scaleToFill：不保持纵横比缩放图片，使图片完全适应'</span>
    }, {
      mode: <span class="hljs-string">'aspectFit'</span>,
      text: <span class="hljs-string">'aspectFit：保持纵横比缩放图片，使图片的长边能完全显示出来'</span>
    }, {
      mode: <span class="hljs-string">'aspectFill'</span>,
      text: <span class="hljs-string">'aspectFill：保持纵横比缩放图片，只保证图片的短边能完全显示出来'</span>
    }, {
      mode: <span class="hljs-string">'top'</span>,
      text: <span class="hljs-string">'top：不缩放图片，只显示图片的顶部区域'</span>
    }, {
      mode: <span class="hljs-string">'bottom'</span>,
      text: <span class="hljs-string">'bottom：不缩放图片，只显示图片的底部区域'</span>
    }, {
      mode: <span class="hljs-string">'center'</span>,
      text: <span class="hljs-string">'center：不缩放图片，只显示图片的中间区域'</span>
    }, {
      mode: <span class="hljs-string">'left'</span>,
      text: <span class="hljs-string">'left：不缩放图片，只显示图片的左边区域'</span>
    }, {
      mode: <span class="hljs-string">'right'</span>,
      text: <span class="hljs-string">'right：不缩放图片，只显示图片的右边边区域'</span>
    }, {
      mode: <span class="hljs-string">'top left'</span>,
      text: <span class="hljs-string">'top left：不缩放图片，只显示图片的左上边区域'</span>
    }, {
      mode: <span class="hljs-string">'top right'</span>,
      text: <span class="hljs-string">'top right：不缩放图片，只显示图片的右上边区域'</span>
    }, {
      mode: <span class="hljs-string">'bottom left'</span>,
      text: <span class="hljs-string">'bottom left：不缩放图片，只显示图片的左下边区域'</span>
    }, {
      mode: <span class="hljs-string">'bottom right'</span>,
      text: <span class="hljs-string">'bottom right：不缩放图片，只显示图片的右下边区域'</span>
    }],
    src: <span class="hljs-string">'../../resources/cat.jpg'</span>
  },
  imageError: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'image3发生error事件，携带值为'</span>, e.detail.errMsg)
  }
})</code></pre>
<h5 id="component/image.html?t=20161107#原图">原图</h5><p><img alt="image" src="./image/cat/0.jpg%3Ft=20161107"></p><h5 id="component/image.html?t=20161107#scaletofill">scaleToFill</h5><p>不保持纵横比缩放图片，使图片完全适应</p><p><img alt="image" src="./image/cat/1.png%3Ft=20161107"></p><h5 id="component/image.html?t=20161107#aspectfit">aspectFit</h5><p>保持纵横比缩放图片，使图片的长边能完全显示出来</p><p><img alt="image" src="./image/cat/2.png%3Ft=20161107"></p><h5 id="component/image.html?t=20161107#aspectfill">aspectFill</h5><p>保持纵横比缩放图片，只保证图片的短边能完全显示出来</p><p><img alt="image" src="./image/cat/3.png%3Ft=20161107"></p><h5 id="component/image.html?t=20161107#top">top</h5><p>不缩放图片，只显示图片的顶部区域</p><p><img alt="image" src="./image/cat/4.png%3Ft=20161107"></p><h5 id="component/image.html?t=20161107#bottom">bottom</h5><p>不缩放图片，只显示图片的底部区域</p><p><img alt="image" src="./image/cat/5.png%3Ft=20161107"></p><h5 id="component/image.html?t=20161107#center">center</h5><p>不缩放图片，只显示图片的中间区域</p><p><img alt="image" src="./image/cat/6.png%3Ft=20161107"></p><h5 id="component/image.html?t=20161107#left">left</h5><p>不缩放图片，只显示图片的左边区域</p><p><img alt="image" src="./image/cat/7.png%3Ft=20161107"></p><h5 id="component/image.html?t=20161107#right">right</h5><p>不缩放图片，只显示图片的右边边区域</p><p><img alt="image" src="./image/cat/8.png%3Ft=20161107"></p><h5 id="component/image.html?t=20161107#top-left">top left</h5><p>不缩放图片，只显示图片的左上边区域</p><p><img alt="image" src="./image/cat/9.png%3Ft=20161107"></p><h5 id="component/image.html?t=20161107#top-right">top right</h5><p>不缩放图片，只显示图片的右上边区域</p><p><img alt="image" src="./image/cat/10.png%3Ft=20161107"></p><h5 id="component/image.html?t=20161107#bottom-left">bottom left</h5><p>不缩放图片，只显示图片的左下边区域</p><p><img alt="image" src="./image/cat/11.png%3Ft=20161107"></p><h5 id="component/image.html?t=20161107#bottom-right">bottom right</h5><p>不缩放图片，只显示图片的右下边区域</p><p><img alt="image" src="./image/cat/12.png%3Ft=20161107"></p>

                                </section>

    </div>
    <div class="search-results">
        <div class="has-results">

            <h1 class="search-results-title"><span class="search-results-count"></span> 个结果 "<span class="search-query"></span>"</h1>
            <ul class="search-results-list"></ul>

        </div>
        <div class="no-results">

            <h1 class="search-results-title">没有找到相关内容 "<span class="search-query"></span>"</h1>

        </div>
    </div>
</div>

                        </div>
                    </div>
<div class="page-wrapper" id="component/video.html?t=20161107" tabindex="-1" role="main">                        <div class="page-inner">
<h1 id=".$ulink.">video</h1>
<div id="book-search-results">
    <div class="search-noresults">

                                <section class="normal markdown-section">

                                <h4 id="component/video.html?t=20161107#video">video</h4><p>视频。</p><table>
<thead>
<tr><th>属性名</th>
<th>类型</th>
<th>默认值</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>src</td>
<td>String</td>
<td></td>
<td>要播放视频的资源地址</td>
</tr><tr><td>controls</td>
<td>Boolean</td>
<td>true</td>
<td>是否显示默认播放控件（播放/暂停按钮、播放进度、时间）</td>
</tr><tr><td>danmu-list</td>
<td>Object Array</td>
<td></td>
<td>弹幕列表</td>
</tr><tr><td>danmu-btn</td>
<td>Boolean</td>
<td>false</td>
<td>是否显示弹幕按钮，只在初始化时有效，不能动态变更</td>
</tr><tr><td>enable-danmu</td>
<td>Boolean</td>
<td>false</td>
<td>是否展示弹幕，只在初始化时有效，不能动态变更</td>
</tr><tr><td>autoplay</td>
<td>Boolean</td>
<td>false</td>
<td>是否自动播放</td>
</tr><tr><td>bindplay</td>
<td>EventHandle</td>
<td></td>
<td>当开始/继续播放时触发play事件</td>
</tr><tr><td>bindpause</td>
<td>EventHandle</td>
<td></td>
<td>当暂停播放时触发 pause 事件</td>
</tr><tr><td>bindended</td>
<td>EventHandle</td>
<td></td>
<td>当播放到末尾时触发 ended 事件</td>
</tr><tr><td>binderror</td>
<td>EventHandle</td>
<td></td>
<td>当发生错误时触发error事件，event.detail = {errMsg: 'something wrong'}</td>
</tr></tbody></table>

<p>video标签认宽度300px、高度225px，设置宽高需要通过wxss设置width和height。</p><p><strong>示例代码：</strong></p><pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"section tc"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">video</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"{{src}}"</span>   <span class="hljs-attr">controls</span> &gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">video</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn-area"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">bindtap</span>=<span class="hljs-string">"bindButtonTap"</span>&gt;</span>获取视频<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"section tc"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">video</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"myVideo"</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"http://wxsnsdy.tc.qq.com/105/20210/snsdyvideodownload?filekey=30280201010421301f0201690402534804102ca905ce620b1241b726bc41dcff44e00204012882540400&amp;bizid=1023&amp;hy=SH&amp;fileparam=302c020101042530230204136ffd93020457e3c4ff02024ef202031e8d7f02030f42400204045a320a0201000400"</span> <span class="hljs-attr">binderror</span>=<span class="hljs-string">"videoErrorCallback"</span> <span class="hljs-attr">danmu-list</span>=<span class="hljs-string">"{{danmuList}}"</span> <span class="hljs-attr">enable-danmu</span> <span class="hljs-attr">danmu-btn</span> <span class="hljs-attr">controls</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">video</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn-area"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">bindtap</span>=<span class="hljs-string">"bindButtonTap"</span>&gt;</span>获取视频<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">bindblur</span>=<span class="hljs-string">"bindInputBlur"</span>/&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">bindtap</span>=<span class="hljs-string">"bindSendDanmu"</span>&gt;</span>发送弹幕<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span></code></pre>
<pre><code class="lang-javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getRandomColor</span> (<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">let</span> rgb = []
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span> ; i &lt; <span class="hljs-number">3</span>; ++i){
    <span class="hljs-keyword">let</span> color = <span class="hljs-built_in">Math</span>.floor(<span class="hljs-built_in">Math</span>.random() * <span class="hljs-number">256</span>).toString(<span class="hljs-number">16</span>)
    color = color.length == <span class="hljs-number">1</span> ? <span class="hljs-string">'0'</span> + color : color
    rgb.push(color)
  }
  <span class="hljs-keyword">return</span> <span class="hljs-string">'#'</span> + rgb.join(<span class="hljs-string">''</span>)
}

Page({
  onReady: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">res</span>) </span>{
    <span class="hljs-keyword">this</span>.videoContext = wx.createVideoContext(<span class="hljs-string">'myVideo'</span>)
  },
  inputValue: <span class="hljs-string">''</span>,
    data: {
        src: <span class="hljs-string">''</span>,
    danmuList: [
      {
        text: <span class="hljs-string">'第 1s 出现的弹幕'</span>,
        color: <span class="hljs-string">'#ff0000'</span>,
        time: <span class="hljs-number">1</span>
      },
      {
        text: <span class="hljs-string">'第 3s 出现的弹幕'</span>,
        color: <span class="hljs-string">'#ff00ff'</span>,
        time: <span class="hljs-number">3</span>
      }
    ]
    },
  bindInputBlur: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
    <span class="hljs-keyword">this</span>.inputValue = e.detail.value
  },
    bindButtonTap: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> that = <span class="hljs-keyword">this</span>
        wx.chooseVideo({
            sourceType: [<span class="hljs-string">'album'</span>, <span class="hljs-string">'camera'</span>],
            maxDuration: <span class="hljs-number">60</span>,
            camera: [<span class="hljs-string">'front'</span>,<span class="hljs-string">'back'</span>],
            success: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">res</span>) </span>{
                that.setData({
                    src: res.tempFilePath
                })
            }
        })
    },
  bindSendDanmu: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">this</span>.videoContext.sendDanmu({
      text: <span class="hljs-keyword">this</span>.inputValue,
      color: getRandomColor()
    })
  },
    videoErrorCallback: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
      <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'视频错误信息:'</span>)
      <span class="hljs-built_in">console</span>.log(e.detail.errMsg)
    }
})</code></pre>
<p><img alt="video" src="./image/pic/video.png%3Ft=20161107"></p><p>相关api：<a href="#api/media-video.html%3Ft=20161107">wx.createVideoContext</a></p>

                                </section>

    </div>
    <div class="search-results">
        <div class="has-results">

            <h1 class="search-results-title"><span class="search-results-count"></span> 个结果 "<span class="search-query"></span>"</h1>
            <ul class="search-results-list"></ul>

        </div>
        <div class="no-results">

            <h1 class="search-results-title">没有找到相关内容 "<span class="search-query"></span>"</h1>

        </div>
    </div>
</div>

                        </div>
                    </div>
<div class="page-wrapper" id="component/map.html?t=20161107" tabindex="-1" role="main">                        <div class="page-inner">
<h1 id=".$ulink.">地图</h1>
<div id="book-search-results">
    <div class="search-noresults">

                                <section class="normal markdown-section">

                                <h4 id="component/map.html?t=20161107#map">map</h4><p>地图。</p><table>
<thead>
<tr><th>属性名</th>
<th>类型</th>
<th>默认值</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>longitude</td>
<td>Number</td>
<td></td>
<td>中心经度</td>
</tr><tr><td>latitude</td>
<td>Number</td>
<td></td>
<td>中心纬度</td>
</tr><tr><td>scale</td>
<td>Number</td>
<td>16</td>
<td>缩放级别</td>
</tr><tr><td>markers</td>
<td>Array</td>
<td></td>
<td>标记点</td>
</tr><tr><td>covers</td>
<td>Array</td>
<td></td>
<td>覆盖物</td>
</tr></tbody></table>

<h5 id="component/map.html?t=20161107#标记点">标记点</h5><p>标记点用于在地图上显示标记的位置，不能自定义图标和样式</p><table>
<thead>
<tr><th>属性</th>
<th>说明</th>
<th>类型</th>
<th>必填</th>
<th>备注</th>
</tr></thead><tbody>
<tr><td>latitude</td>
<td>纬度</td>
<td>Number</td>
<td>是</td>
<td>浮点数，范围 -90 ~ 90</td>
</tr><tr><td>longitude</td>
<td>经度</td>
<td>Number</td>
<td>是</td>
<td>浮点数，范围 -180 ~ 180</td>
</tr><tr><td>name</td>
<td>标注点名</td>
<td>String</td>
<td>是</td>
<td></td>
</tr><tr><td>desc</td>
<td>标注点详细描述</td>
<td>String</td>
<td>否</td>
<td></td>
</tr></tbody></table>

<h5 id="component/map.html?t=20161107#覆盖物">覆盖物</h5><p>覆盖物用于在地图上显示自定义图标，可自定义图标和样式</p><table>
<thead>
<tr><th>属性</th>
<th>说明</th>
<th>类型</th>
<th>必填</th>
<th>备注</th>
</tr></thead><tbody>
<tr><td>latitude</td>
<td>纬度</td>
<td>Number</td>
<td>是</td>
<td>浮点数，范围 -90 ~ 90</td>
</tr><tr><td>longitude</td>
<td>经度</td>
<td>Number</td>
<td>是</td>
<td>浮点数，范围 -180 ~ 180</td>
</tr><tr><td>iconPath</td>
<td>显示的图标</td>
<td>String</td>
<td>是</td>
<td>项目目录下的图片路径，支持相对路径写法</td>
</tr><tr><td>rotate</td>
<td>旋转角度</td>
<td>Number</td>
<td>否</td>
<td>顺时针旋转的角度，范围 0 ~ 360，默认为 0</td>
</tr></tbody></table>

<p>地图组件的经纬度必填, 如果不填经纬度则默认值是北京的经纬度。
标记点markers只能在初始化的时候设置，不支持动态更新。</p><p><strong>示例：</strong></p><pre><code class="lang-html"><span class="hljs-comment">&lt;!-- map.wxml --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">map</span> <span class="hljs-attr">longitude</span>=<span class="hljs-string">"113.324520"</span> <span class="hljs-attr">latitude</span>=<span class="hljs-string">"23.099994"</span> <span class="hljs-attr">markers</span>=<span class="hljs-string">"{{markers}}"</span> <span class="hljs-attr">covers</span>=<span class="hljs-string">"{{covers}}"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"width: 375px; height: 200px;"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">map</span>&gt;</span></code></pre>
<pre><code class="lang-javascript"><span class="hljs-comment">// map.js</span>
Page({
  data: {
    markers: [{
      latitude: <span class="hljs-number">23.099994</span>,
      longitude: <span class="hljs-number">113.324520</span>,
      name: <span class="hljs-string">'T.I.T 创意园'</span>,
      desc: <span class="hljs-string">'我现在的位置'</span>
    }],
    covers: [{
      latitude: <span class="hljs-number">23.099794</span>,
      longitude: <span class="hljs-number">113.324520</span>,
      iconPath: <span class="hljs-string">'../images/car.png'</span>,
      rotate: <span class="hljs-number">10</span>
    }, {
      latitude: <span class="hljs-number">23.099298</span>,
      longitude: <span class="hljs-number">113.324129</span>,
      iconPath: <span class="hljs-string">'../images/car.png'</span>,
      rotate: <span class="hljs-number">90</span>
    }]
  }
})</code></pre>


                                </section>

    </div>
    <div class="search-results">
        <div class="has-results">

            <h1 class="search-results-title"><span class="search-results-count"></span> 个结果 "<span class="search-query"></span>"</h1>
            <ul class="search-results-list"></ul>

        </div>
        <div class="no-results">

            <h1 class="search-results-title">没有找到相关内容 "<span class="search-query"></span>"</h1>

        </div>
    </div>
</div>

                        </div>
                    </div>
<div class="page-wrapper" id="component/canvas.html?t=20161107" tabindex="-1" role="main">                        <div class="page-inner">
<h1 id=".$ulink.">画布</h1>
<div id="book-search-results">
    <div class="search-noresults">

                                <section class="normal markdown-section">

                                <h2 id="component/canvas.html?t=20161107#canvas">canvas</h2><p>画布。</p><table>
<thead>
<tr><th>属性名</th>
<th>类型</th>
<th>默认值</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>canvas-id</td>
<td>String</td>
<td></td>
<td>canvas 组件的唯一标识符</td>
</tr><tr><td>disable-scroll</td>
<td>Boolean</td>
<td>false</td>
<td>当在 canvas 中移动时，禁止屏幕滚动以及下拉刷新</td>
</tr><tr><td>bindtouchstart</td>
<td>EventHandle</td>
<td></td>
<td>手指触摸动作开始</td>
</tr><tr><td>bindtouchmove</td>
<td>EventHandle</td>
<td></td>
<td>手指触摸后移动</td>
</tr><tr><td>bindtouchend</td>
<td>EventHandle</td>
<td></td>
<td>手指触摸动作结束</td>
</tr><tr><td>bindtouchcancel</td>
<td>EventHandle</td>
<td></td>
<td>手指触摸动作被打断，如来电提醒，弹窗</td>
</tr><tr><td>binderror</td>
<td>EventHandle</td>
<td></td>
<td>当发生错误时触发 error 事件，detail = {errMsg: 'something wrong'}</td>
</tr></tbody></table>

<p><strong>注：</strong></p><ol><li><strong>canvas 标签默认宽度300px、高度225px</strong>
</li>
<li><strong>同一页面中的 canvas-id 不可重复，如果使用一个已经出现过的 canvas-id，该 canvas 标签对应的画布将被隐藏并不再正常工作</strong>
</li></ol>
<p><strong>示例代码：<a href="./demo/api-canvas.zip%3Ft=20161107">下载</a></strong></p><pre><code class="lang-html"><span class="hljs-comment">&lt;!-- canvas.wxml --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">canvas</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"width: 300px; height: 200px;"</span> <span class="hljs-attr">canvas-id</span>=<span class="hljs-string">"firstCanvas"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">canvas</span>&gt;</span>
<span class="hljs-comment">&lt;!-- 当使用绝对定位时，文档流后边的 canvas 的显示层级高于前边的 canvas --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">canvas</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"width: 400px; height: 500px;"</span> <span class="hljs-attr">canvas-id</span>=<span class="hljs-string">"secondCanvas"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">canvas</span>&gt;</span>
<span class="hljs-comment">&lt;!-- 因为 canvas-id 与前一个 canvas 重复，该 canvas 不会显示，并会发送一个错误事件到 AppService --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">canvas</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"width: 400px; height: 500px;"</span> <span class="hljs-attr">canvas-id</span>=<span class="hljs-string">"secondCanvas"</span> <span class="hljs-attr">binderror</span>=<span class="hljs-string">"canvasIdErrorCallback"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">canvas</span>&gt;</span></code></pre>
<pre><code class="lang-javascript"><span class="hljs-comment">// canvas.js</span>
Page({
  canvasIdErrorCallback: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) </span>{
    <span class="hljs-built_in">console</span>.error(e.detail.errMsg)
  },
  onReady: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) </span>{

    <span class="hljs-comment">// 使用 wx.createContext 获取绘图上下文 context</span>
    <span class="hljs-keyword">var</span> context = wx.createContext()

    context.setStrokeStyle(<span class="hljs-string">"#00ff00"</span>)
    context.setLineWidth(<span class="hljs-number">5</span>)
    context.rect(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">200</span>, <span class="hljs-number">200</span>)
    context.stroke()
    context.setStrokeStyle(<span class="hljs-string">"#ff0000"</span>)
    context.setLineWidth(<span class="hljs-number">2</span>)
    context.moveTo(<span class="hljs-number">160</span>, <span class="hljs-number">100</span>)
    context.arc(<span class="hljs-number">100</span>, <span class="hljs-number">100</span>, <span class="hljs-number">60</span>, <span class="hljs-number">0</span>, <span class="hljs-number">2</span> * <span class="hljs-built_in">Math</span>.PI, <span class="hljs-literal">true</span>)
    context.moveTo(<span class="hljs-number">140</span>, <span class="hljs-number">100</span>)
    context.arc(<span class="hljs-number">100</span>, <span class="hljs-number">100</span>, <span class="hljs-number">40</span>, <span class="hljs-number">0</span>, <span class="hljs-built_in">Math</span>.PI, <span class="hljs-literal">false</span>)
    context.moveTo(<span class="hljs-number">85</span>, <span class="hljs-number">80</span>)
    context.arc(<span class="hljs-number">80</span>, <span class="hljs-number">80</span>, <span class="hljs-number">5</span>, <span class="hljs-number">0</span>, <span class="hljs-number">2</span> * <span class="hljs-built_in">Math</span>.PI, <span class="hljs-literal">true</span>)
    context.moveTo(<span class="hljs-number">125</span>, <span class="hljs-number">80</span>)
    context.arc(<span class="hljs-number">120</span>, <span class="hljs-number">80</span>, <span class="hljs-number">5</span>, <span class="hljs-number">0</span>, <span class="hljs-number">2</span> * <span class="hljs-built_in">Math</span>.PI, <span class="hljs-literal">true</span>)
    context.stroke()

    <span class="hljs-comment">// 调用 wx.drawCanvas，通过 canvasId 指定在哪张画布上绘制，通过 actions 指定绘制行为</span>
    wx.drawCanvas({
      canvasId: <span class="hljs-string">'firstCanvas'</span>,
      actions: context.getActions() <span class="hljs-comment">// 获取绘图动作数组</span>
    })
  }
})</code></pre>
<p>相关api：<a href="#api/api-canvas.html%3Ft=20161107">wx.createContext</a>、<a href="#api/api-canvas.html%3Ft=20161107#wxdrawcanvas">wx.drawCanvas</a></p>

                                </section>

    </div>
    <div class="search-results">
        <div class="has-results">

            <h1 class="search-results-title"><span class="search-results-count"></span> 个结果 "<span class="search-query"></span>"</h1>
            <ul class="search-results-list"></ul>

        </div>
        <div class="no-results">

            <h1 class="search-results-title">没有找到相关内容 "<span class="search-query"></span>"</h1>

        </div>
    </div>
</div>

                        </div>
                    </div>
<div class="page-wrapper" id="api/index.html?t=20161107" tabindex="-1" role="main">                        <div class="page-inner">
<h1 id=".$ulink.">API</h1>
<div id="book-search-results">
    <div class="search-noresults">

                                <section class="normal markdown-section">

                                <h1 id="api">API</h1><p>框架提供丰富的微信原生API，可以方便的调起微信提供的能力，如获取用户信息，本地存储，支付功能等。</p><p><strong>说明：</strong></p><ul><li>wx.on 开头的 API 是监听某个事件发生的API接口，接受一个 CALLBACK 函数作为参数。当该事件触发时，会调用 CALLBACK 函数。
</li>
<li>如未特殊约定，其他 API 接口都接受一个OBJECT作为参数。
</li>
<li>OBJECT中可以指定<code>success</code>, <code>fail</code>, <code>complete</code>来接收接口调用结果。
</li></ul>
<table>
<thead>
<tr><th>参数名</th>
<th>类型</th>
<th>必填</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>success</td>
<td>Function</td>
<td>否</td>
<td>接口调用成功的回调函数</td>
</tr><tr><td>fail</td>
<td>Function</td>
<td>否</td>
<td>接口调用失败的回调函数</td>
</tr><tr><td>complete</td>
<td>Function</td>
<td>否</td>
<td>接口调用结束的回调函数（调用成功、失败都会执行）</td>
</tr></tbody></table>

<p><strong>API列表：</strong></p><p><strong>网络 API 列表：</strong></p><table>
<thead>
<tr><th>API</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td><a href="#api/network-request.html%3Ft=20161107">wx.request</a></td>
<td>发起网络请求</td>
</tr><tr><td><a href="#api/network-file.html%3Ft=20161107#wxuploadfileobject">wx.uploadFile</a></td>
<td>上传文件</td>
</tr><tr><td><a href="#api/network-file.html%3Ft=20161107#wxdownloadfileobject">wx.downloadFile</a></td>
<td>下载文件</td>
</tr><tr><td><a href="#api/network-socket.html%3Ft=20161107#wxconnectsocketobject">wx.connectSocket</a></td>
<td>创建 WebSocket 连接</td>
</tr><tr><td><a href="#api/network-socket.html%3Ft=20161107#wxonsocketopencallback">wx.onSocketOpen</a></td>
<td>监听 WebSocket 打开</td>
</tr><tr><td><a href="#api/network-socket.html%3Ft=20161107#wxonsocketerrorcallback">wx.onSocketError</a></td>
<td>监听 WebSocket 错误</td>
</tr><tr><td><a href="#api/network-socket.html%3Ft=20161107#wxsendsocketmessageobject">wx.sendSocketMessage</a></td>
<td>发送 WebSocket 消息</td>
</tr><tr><td><a href="#api/network-socket.html%3Ft=20161107#wxonsocketmessagecallback">wx.onSocketMessage</a></td>
<td>接受 WebSocket 消息</td>
</tr><tr><td><a href="#api/network-socket.html%3Ft=20161107#wxclosesocket">wx.closeSocket</a></td>
<td>关闭 WebSocket 连接</td>
</tr><tr><td><a href="#api/network-socket.html%3Ft=20161107#wxonsocketclosecallback">wx.onSocketClose</a></td>
<td>监听 WebSocket 关闭</td>
</tr></tbody></table>

<p><strong>媒体 API 列表：</strong></p><table>
<thead>
<tr><th>API</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td><a href="#api/media-picture.html%3Ft=20161107#wxchooseimageobject">wx.chooseImage</a></td>
<td>从相册选择图片，或者拍照</td>
</tr><tr><td><a href="#api/media-picture.html%3Ft=20161107#wxpreviewimageobject">wx.previewImage</a></td>
<td>预览图片</td>
</tr><tr><td><a href="#api/media-record.html%3Ft=20161107#wxstartrecordobject">wx.startRecord</a></td>
<td>开始录音</td>
</tr><tr><td><a href="#api/media-record.html%3Ft=20161107#wxstoprecord">wx.stopRecord</a></td>
<td>结束录音</td>
</tr><tr><td><a href="#api/media-voice.html%3Ft=20161107#wxplayvoice">wx.playVoice</a></td>
<td>播放语音</td>
</tr><tr><td><a href="#api/media-voice.html%3Ft=20161107#wxpausevoice">wx.pauseVoice</a></td>
<td>暂停播放语音</td>
</tr><tr><td><a href="#api/media-voice.html%3Ft=20161107#wxstopvoice">wx.stopVoice</a></td>
<td>结束播放语音</td>
</tr><tr><td><a href="#api/media-background-audio.html%3Ft=20161107#wxgetbackgroundaudioplayerstateobject">wx.getBackgroundAudioPlayerState</a></td>
<td>获取音乐播放状态</td>
</tr><tr><td><a href="#api/media-background-audio.html%3Ft=20161107#wxplaybackgroundaudioobject">wx.playBackgroundAudio</a></td>
<td>播放音乐</td>
</tr><tr><td><a href="#api/media-background-audio.html%3Ft=20161107#wxpausebackgroundaudio">wx.pauseBackgroundAudio</a></td>
<td>暂停播放音乐</td>
</tr><tr><td><a href="#api/media-background-audio.html%3Ft=20161107#wxstopbackgroundaudio">wx.seekBackgroundAudio</a></td>
<td>控制音乐播放进度</td>
</tr><tr><td><a href="#api/media-background-audio.html%3Ft=20161107#wxstopbackgroundaudio">wx.stopBackgroundAudio</a></td>
<td>停止播放音乐</td>
</tr><tr><td><a href="#api/media-background-audio.html%3Ft=20161107#wxonbackgroundaudioplaycallback">wx.onBackgroundAudioPlay</a></td>
<td>监听音乐开始播放</td>
</tr><tr><td><a href="#api/media-background-audio.html%3Ft=20161107#wxonbackgroundaudiopausecallback">wx.onBackgroundAudioPause</a></td>
<td>监听音乐暂停</td>
</tr><tr><td><a href="#api/media-background-audio.html%3Ft=20161107#wxonbackgroundaudiostopcallback">wx.onBackgroundAudioStop</a></td>
<td>监听音乐结束</td>
</tr><tr><td><a href="#api/media-video.html%3Ft=20161107">wx.chooseVideo</a></td>
<td>从相册选择视频，或者拍摄</td>
</tr><tr><td><a href="#api/file.html%3Ft=20161107">wx.saveFile</a></td>
<td>保存文件</td>
</tr></tbody></table>

<p><strong>数据 API 列表：</strong></p><table>
<thead>
<tr><th>API</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td><a href="api-data.md%3Ft=20161107#wxgetstorageobject">wx.getStorage</a></td>
<td>获取本地数据缓存</td>
</tr><tr><td><a href="api-data.md%3Ft=20161107#wxsetstorageobject">wx.setStorage</a></td>
<td>设置本地数据缓存</td>
</tr><tr><td><a href="api-data.md%3Ft=20161107#wxclearstorageobject">wx.clearStorage</a></td>
<td>清理本地数据缓存</td>
</tr></tbody></table>

<p><strong>位置 API 列表：</strong></p><table>
<thead>
<tr><th>API</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td><a href="#api/location.html%3Ft=20161107#wxgetlocationobject">wx.getLocation</a></td>
<td>获取当前位置</td>
</tr><tr><td><a href="#api/location.html%3Ft=20161107#wxopenlocationobject">wx.openLocation</a></td>
<td>打开内置地图</td>
</tr></tbody></table>

<p><strong>设备 API 列表：</strong></p><table>
<thead>
<tr><th>API</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td><a href="#api/device.html%3Ft=20161107#wxgetnetworktypeobject">wx.getNetworkType</a></td>
<td>获取网络类型</td>
</tr><tr><td><a href="#api/device.html%3Ft=20161107#wxgetsysteminfoobject">wx.getSystemInfo</a></td>
<td>获取系统信息</td>
</tr><tr><td><a href="#api/device.html%3Ft=20161107#wxonaccelerometerchangecallback">wx.onAccelerometerChange</a></td>
<td>监听重力感应数据</td>
</tr><tr><td><a href="#api/device.html%3Ft=20161107#wxoncompasschangecallback">wx.onCompassChange</a></td>
<td>监听罗盘数据</td>
</tr></tbody></table>

<p><strong>界面 API 列表：</strong></p><table>
<thead>
<tr><th>API</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td><a href="#api/ui.html%3Ft=20161107#wxsetnavigationbartitleobject">wx.setNavigationBarTitle</a></td>
<td>设置当前页面标题</td>
</tr><tr><td><a href="#api/ui.html%3Ft=20161107#wxshownavigationbarloading">wx.showNavigationBarLoading</a></td>
<td>显示导航条加载动画</td>
</tr><tr><td><a href="#api/ui.html%3Ft=20161107#wxhidenavigationbarloading">wx.hideNavigationBarLoading</a></td>
<td>隐藏导航条加载动画</td>
</tr><tr><td><a href="#api/ui-navigate.html%3Ft=20161107#wxnavigatetoobject">wx.navigateTo</a></td>
<td>新窗口打开页面</td>
</tr><tr><td><a href="#api/ui-navigate.html%3Ft=20161107#wxredirecttoobject">wx.redirectTo</a></td>
<td>原窗口打开页面</td>
</tr><tr><td><a href="#api/ui-navigate.html%3Ft=20161107#wxnavigateback">wx.navigateBack</a></td>
<td>退回上一个页面</td>
</tr><tr><td><a href="#api/api-animation.html%3Ft=20161107">wx.createAnimation</a></td>
<td>动画</td>
</tr><tr><td><a href="#api/api-canvas.html%3Ft=20161107#wxcreatecontext">wx.createContext</a></td>
<td>创建绘图上下文</td>
</tr><tr><td><a href="#api/api-canvas.html%3Ft=20161107#wxdrawcanvasobject">wx.drawCanvas</a></td>
<td>绘图</td>
</tr><tr><td><a href="#api/ui-other.html%3Ft=20161107#wxhidekeyboard">wx.hideKeyboard</a></td>
<td>隐藏键盘</td>
</tr><tr><td><a href="#api/ui-other.html%3Ft=20161107#wxstoppulldownrefresh">wx.stopPullDownRefresh</a></td>
<td>停止下拉刷新动画</td>
</tr></tbody></table>

<p><strong>开放接口：</strong></p><table>
<thead>
<tr><th>API</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td><a href="#api/api-login.html%3Ft=20161107">wx.login</a></td>
<td>登录</td>
</tr><tr><td><a href="#api/open.html%3Ft=20161107#wxgetuserinfoobject">wx.getUserInfo</a></td>
<td>获取用户信息</td>
</tr><tr><td><a href="#api/api-pay.html%3Ft=20161107#wxrequestpaymentobject">wx.requestPayment</a></td>
<td>发起微信支付</td>
</tr></tbody></table>



                                </section>

    </div>
    <div class="search-results">
        <div class="has-results">

            <h1 class="search-results-title"><span class="search-results-count"></span> 个结果 "<span class="search-query"></span>"</h1>
            <ul class="search-results-list"></ul>

        </div>
        <div class="no-results">

            <h1 class="search-results-title">没有找到相关内容 "<span class="search-query"></span>"</h1>

        </div>
    </div>
</div>

                        </div>
                    </div>
<div class="page-wrapper" id="api/api-network.html?t=20161107" tabindex="-1" role="main">                        <div class="page-inner">
<h1 id=".$ulink.">网络</h1>
<div id="book-search-results">
    <div class="search-noresults">

                                <section class="normal markdown-section">

                                <p>每个微信小程序需要事先设置一个通讯域名，小程序可以跟指定的域名与进行网络通信。包括普通 HTTPS 请求（wx.request）、 WebSocket 通信（wx.connectSocket）、上传文件（wx.uploadFile）和下载文件（wx.downloadFile)。</p><p><strong>网络API列表：</strong></p><table>
<thead>
<tr><th>API</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td><a href="#api/network-request.html%3Ft=20161107">wx.request</a></td>
<td>发起网络请求</td>
</tr><tr><td><a href="#api/network-file.html%3Ft=20161107#wxuploadfileobject">wx.uploadFile</a></td>
<td>上传文件</td>
</tr><tr><td><a href="#api/network-file.html%3Ft=20161107#wxdownloadfileobject">wx.downloadFile</a></td>
<td>下载文件</td>
</tr><tr><td><a href="#api/network-socket.html%3Ft=20161107#wxconnectsocketobject">wx.connectSocket</a></td>
<td>创建 WebSocket 连接</td>
</tr><tr><td><a href="#api/network-socket.html%3Ft=20161107#wxonsocketopencallback">wx.onSocketOpen</a></td>
<td>监听 WebSocket 打开</td>
</tr><tr><td><a href="#api/network-socket.html%3Ft=20161107#wxonsocketerrorcallback">wx.onSocketError</a></td>
<td>监听 WebSocket 错误</td>
</tr><tr><td><a href="#api/network-socket.html%3Ft=20161107#wxsendsocketmessageobject">wx.sendSocketMessage</a></td>
<td>发送 WebSocket 消息</td>
</tr><tr><td><a href="#api/network-socket.html%3Ft=20161107#wxonsocketmessagecallback">wx.onSocketMessage</a></td>
<td>接受 WebSocket 消息</td>
</tr><tr><td><a href="#api/network-socket.html%3Ft=20161107#wxclosesocket">wx.closeSocket</a></td>
<td>关闭 WebSocket 连接</td>
</tr><tr><td><a href="#api/network-socket.html%3Ft=20161107#wxonsocketclosecallback">wx.onSocketClose</a></td>
<td>监听 WebSocket 关闭</td>
</tr></tbody></table>



                                </section>

    </div>
    <div class="search-results">
        <div class="has-results">

            <h1 class="search-results-title"><span class="search-results-count"></span> 个结果 "<span class="search-query"></span>"</h1>
            <ul class="search-results-list"></ul>

        </div>
        <div class="no-results">

            <h1 class="search-results-title">没有找到相关内容 "<span class="search-query"></span>"</h1>

        </div>
    </div>
</div>

                        </div>
                    </div>
<div class="page-wrapper" id="api/network-request.html?t=20161107" tabindex="-1" role="main">                        <div class="page-inner">
<h1 id=".$ulink.">发起请求</h1>
<div id="book-search-results">
    <div class="search-noresults">

                                <section class="normal markdown-section">

                                <h3 id="api/network-request.html?t=20161107#wxrequestobject">wx.request(OBJECT)</h3><p><code>wx.request</code>发起的是https请求。<strong>一个微信小程序，同时只能有5个网络请求连接。</strong></p><p><strong>OBJECT参数说明：</strong></p><table>
<thead>
<tr><th>参数名</th>
<th>类型</th>
<th>必填</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>url</td>
<td>String</td>
<td>是</td>
<td>开发者服务器接口地址</td>
</tr><tr><td>data</td>
<td>Object、String</td>
<td>否</td>
<td>请求的参数</td>
</tr><tr><td>header</td>
<td>Object</td>
<td>否</td>
<td>设置请求的 header , header 中不能设置 Referer</td>
</tr><tr><td>method</td>
<td>String</td>
<td>否</td>
<td>默认为 GET，有效值：OPTIONS, GET, HEAD, POST, PUT, DELETE, TRACE, CONNECT</td>
</tr><tr><td>success</td>
<td>Function</td>
<td>否</td>
<td>收到开发者服务成功返回的回调函数，res = {data: '开发者服务器返回的内容'}</td>
</tr><tr><td>fail</td>
<td>Function</td>
<td>否</td>
<td>接口调用失败的回调函数</td>
</tr><tr><td>complete</td>
<td>Function</td>
<td>否</td>
<td>接口调用结束的回调函数（调用成功、失败都会执行）</td>
</tr></tbody></table>

<p><strong>示例代码：</strong></p><pre><code class="lang-javascript">wx.request({
  url: <span class="hljs-string">'test.php'</span>, <span class="hljs-comment">//仅为示例，并非真实的接口地址</span>
  data: {
     x: <span class="hljs-string">''</span> ,
     y: <span class="hljs-string">''</span>
  },
  header: {
      <span class="hljs-string">'Content-Type'</span>: <span class="hljs-string">'application/json'</span>
  },
  success: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">res</span>) </span>{
    <span class="hljs-built_in">console</span>.log(res.data)
  }
})</code></pre>


                                </section>

    </div>
    <div class="search-results">
        <div class="has-results">

            <h1 class="search-results-title"><span class="search-results-count"></span> 个结果 "<span class="search-query"></span>"</h1>
            <ul class="search-results-list"></ul>

        </div>
        <div class="no-results">

            <h1 class="search-results-title">没有找到相关内容 "<span class="search-query"></span>"</h1>

        </div>
    </div>
</div>

                        </div>
                    </div>
<div class="page-wrapper" id="api/network-file.html?t=20161107" tabindex="-1" role="main">                        <div class="page-inner">
<h1 id=".$ulink.">上传、下载</h1>
<div id="book-search-results">
    <div class="search-noresults">

                                <section class="normal markdown-section">

                                <h3 id="api/network-file.html?t=20161107#wxuploadfileobject">wx.uploadFile(OBJECT)</h3><p>将本地资源上传到开发者服务器。如页面通过 <a href="#api/media-picture.html%3Ft=20161107#wxchooseimageobject">wx.chooseImage</a> 等接口获取到一个本地资源的临时文件路径后，可通过此接口将本地资源上传到指定服务器。客户端发起一个 HTTPS POST 请求，其中 <code>Content-Type</code> 为 <code>multipart/form-data</code> 。</p><p><strong>OBJECT参数说明：</strong></p><table>
<thead>
<tr><th>参数</th>
<th>类型</th>
<th>必填</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>url</td>
<td>String</td>
<td>是</td>
<td>开发者服务器 url</td>
</tr><tr><td>filePath</td>
<td>String</td>
<td>是</td>
<td>要上传文件资源的路径</td>
</tr><tr><td>name</td>
<td>String</td>
<td>是</td>
<td>文件对应的 key , 开发者在服务器端通过这个 key 可以获取到文件二进制内容</td>
</tr><tr><td>header</td>
<td>Object</td>
<td>否</td>
<td>HTTP 请求 Header , header 中不能设置 Referer</td>
</tr><tr><td>formData</td>
<td>Object</td>
<td>否</td>
<td>HTTP 请求中其他额外的 form data</td>
</tr><tr><td>success</td>
<td>Function</td>
<td>否</td>
<td>接口调用成功的回调函数</td>
</tr><tr><td>fail</td>
<td>Function</td>
<td>否</td>
<td>接口调用失败的回调函数</td>
</tr><tr><td>complete</td>
<td>Function</td>
<td>否</td>
<td>接口调用结束的回调函数（调用成功、失败都会执行）</td>
</tr></tbody></table>

<p><strong>success返回参数说明：</strong></p><table>
<thead>
<tr><th>参数</th>
<th>类型</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>data</td>
<td>String</td>
<td>开发者服务器返回的数据</td>
</tr><tr><td>statusCode</td>
<td>Number</td>
<td>HTTP状态码</td>
</tr></tbody></table>

<p><strong>示例代码：</strong></p><pre><code class="lang-javascript">wx.chooseImage({
  success: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">res</span>) </span>{
    <span class="hljs-keyword">var</span> tempFilePaths = res.tempFilePaths
    wx.uploadFile({
      url: <span class="hljs-string">'http://example.weixin.qq.com/upload'</span>, <span class="hljs-comment">//仅为示例，非真实的接口地址</span>
      filePath: tempFilePaths[<span class="hljs-number">0</span>],
      name: <span class="hljs-string">'file'</span>,
      formData:{
        <span class="hljs-string">'user'</span>: <span class="hljs-string">'test'</span>
      },
      success: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">res</span>)</span>{
        <span class="hljs-keyword">var</span> data = res.data
        <span class="hljs-comment">//do something</span>
      }
    })
  }
})</code></pre>
<h3 id="api/network-file.html?t=20161107#wxdownloadfileobject">wx.downloadFile(OBJECT)</h3><p>下载文件资源到本地。客户端直接发起一个 HTTP GET 请求，返回文件的本地临时路径。</p><p><strong>OBJECT参数说明：</strong></p><table>
<thead>
<tr><th>参数</th>
<th>类型</th>
<th>必填</th>
<th>必填</th>
</tr></thead><tbody>
<tr><td>url</td>
<td>String</td>
<td>是</td>
<td>下载资源的 url</td>
</tr><tr><td>header</td>
<td>Object</td>
<td>否</td>
<td>HTTP 请求 Header</td>
</tr><tr><td>success</td>
<td>Function</td>
<td>否</td>
<td>下载成功后以 tempFilePath 的形式传给页面，res = {tempFilePath: '文件的临时路径'}</td>
</tr><tr><td>fail</td>
<td>Function</td>
<td>否</td>
<td>接口调用失败的回调函数</td>
</tr><tr><td>complete</td>
<td>Function</td>
<td>否</td>
<td>接口调用结束的回调函数（调用成功、失败都会执行）</td>
</tr></tbody></table>

<p><strong>注：文件的临时路径，在小程序本次启动期间可以正常使用，如需持久保存，需在主动调用 <a href="#api/file.html%3Ft=20161107">wx.saveFile</a>，在小程序下次启动时才能访问得到。</strong></p><p><strong>示例代码:</strong></p><pre><code class="lang-javascript">wx.downloadFile({
  url: <span class="hljs-string">'http://example.com/audio/123'</span>, <span class="hljs-comment">//仅为示例，并非真实的资源</span>
  success: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">res</span>) </span>{
    wx.playVoice({
      filePath: res.tempFilePath
    })
  }
})</code></pre>


                                </section>

    </div>
    <div class="search-results">
        <div class="has-results">

            <h1 class="search-results-title"><span class="search-results-count"></span> 个结果 "<span class="search-query"></span>"</h1>
            <ul class="search-results-list"></ul>

        </div>
        <div class="no-results">

            <h1 class="search-results-title">没有找到相关内容 "<span class="search-query"></span>"</h1>

        </div>
    </div>
</div>

                        </div>
                    </div>
<div class="page-wrapper" id="api/network-socket.html?t=20161107" tabindex="-1" role="main">                        <div class="page-inner">
<h1 id=".$ulink.">WebSocket</h1>
<div id="book-search-results">
    <div class="search-noresults">

                                <section class="normal markdown-section">

                                <h3 id="api/network-socket.html?t=20161107#wxconnectsocketobject">wx.connectSocket(OBJECT)</h3><p>创建一个 <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/WebSocket?t=20161107" target="_blank">WebSocket</a> 连接；<strong>一个微信小程序同时只能有一个 WebSocket 连接，如果当前已存在一个 WebSocket 连接，会自动关闭该连接，并重新创建一个 WebSocket 连接。</strong></p><p><strong>OBJECT参数说明：</strong></p><table>
<thead>
<tr><th>参数</th>
<th>类型</th>
<th>必填</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>url</td>
<td>String</td>
<td>是</td>
<td>开发者服务器接口地址，必须是 wss 协议，且域名必须是后台配置的合法域名</td>
</tr><tr><td>data</td>
<td>Object</td>
<td>否</td>
<td>请求的数据</td>
</tr><tr><td>header</td>
<td>Object</td>
<td>否</td>
<td>HTTP Header , header 中不能设置 Referer</td>
</tr><tr><td>method</td>
<td>String</td>
<td>否</td>
<td>默认是GET，有效值为： OPTIONS, GET, HEAD, POST, PUT, DELETE, TRACE, CONNECT</td>
</tr><tr><td>success</td>
<td>Function</td>
<td>否</td>
<td>接口调用成功的回调函数</td>
</tr><tr><td>fail</td>
<td>Function</td>
<td>否</td>
<td>接口调用失败的回调函数</td>
</tr><tr><td>complete</td>
<td>Function</td>
<td>否</td>
<td>接口调用结束的回调函数（调用成功、失败都会执行）</td>
</tr></tbody></table>

<p><strong>示例代码：</strong></p><pre><code class="lang-javascript">wx.connectSocket({
  url: <span class="hljs-string">'test.php'</span>,
  data:{
    x: <span class="hljs-string">''</span>,
    y: <span class="hljs-string">''</span>
  },
  header:{
    <span class="hljs-string">'content-type'</span>: <span class="hljs-string">'application/json'</span>
  },
  method:<span class="hljs-string">"GET"</span>
})</code></pre>
<h3 id="api/network-socket.html?t=20161107#wxonsocketopencallback">wx.onSocketOpen(CALLBACK)</h3><p>监听WebSocket连接打开事件。</p><p><strong>示例代码：</strong></p><pre><code class="lang-javascript">wx.connectSocket({
  url: <span class="hljs-string">'test.php'</span>
})
wx.onSocketOpen(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">res</span>) </span>{
  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'WebSocket连接已打开！'</span>)
})</code></pre>
<h3 id="api/network-socket.html?t=20161107#wxonsocketerrorcallback">wx.onSocketError(CALLBACK)</h3><p>监听WebSocket错误。</p><p><strong>示例代码：</strong></p><pre><code class="lang-javascript">wx.connectSocket({
  url: <span class="hljs-string">'test.php'</span>
})
wx.onSocketOpen(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">res</span>)</span>{
  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'WebSocket连接已打开！'</span>)
})
wx.onSocketError(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">res</span>)</span>{
  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'WebSocket连接打开失败，请检查！'</span>)
})</code></pre>
<h3 id="api/network-socket.html?t=20161107#wxsendsocketmessageobject">wx.sendSocketMessage(OBJECT)</h3><p>通过 WebSocket 连接发送数据，需要先 <a href="#api/network-socket.html%3Ft=20161107#wxconnectsocketobject">wx.connectSocket</a>，并在 <a href="#api/network-socket.html%3Ft=20161107#wxonsocketopencallback">wx.onSocketOpen</a> 回调之后才能发送。</p><p><strong>OBJECT参数说明：</strong></p><table>
<thead>
<tr><th>参数</th>
<th>类型</th>
<th>必填</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>data</td>
<td>String/ArrayBuffer</td>
<td>是</td>
<td>需要发送的内容</td>
</tr><tr><td>success</td>
<td>Function</td>
<td>否</td>
<td>接口调用成功的回调函数</td>
</tr><tr><td>fail</td>
<td>Function</td>
<td>否</td>
<td>接口调用失败的回调函数</td>
</tr><tr><td>complete</td>
<td>Function</td>
<td>否</td>
<td>接口调用结束的回调函数（调用成功、失败都会执行）</td>
</tr></tbody></table>

<p><strong>示例代码：</strong></p><pre><code class="lang-javascript"><span class="hljs-keyword">var</span> socketOpen = <span class="hljs-literal">false</span>
<span class="hljs-keyword">var</span> socketMsgQueue = []
wx.connectSocket({
  url: <span class="hljs-string">'test.php'</span>
})

wx.onSocketOpen(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">res</span>) </span>{
  socketOpen = <span class="hljs-literal">true</span>
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; socketMsgQueue.length; i++){
     sendSocketMessage(socketMsgQueue[i])
  }
  socketMsgQueue = []
})

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">sendSocketMessage</span>(<span class="hljs-params">msg</span>) </span>{
  <span class="hljs-keyword">if</span> (socketOpen) {
    wx.sendSocketMessage({
      data:msg
    })
  } <span class="hljs-keyword">else</span> {
     socketMsgQueue.push(msg)
  }
}</code></pre>
<h3 id="api/network-socket.html?t=20161107#wxonsocketmessagecallback">wx.onSocketMessage(CALLBACK)</h3><p>监听WebSocket接受到服务器的消息事件。</p><p><strong>CALLBACK返回参数：</strong></p><table>
<thead>
<tr><th>参数</th>
<th>类型</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>data</td>
<td>String/ArrayBuffer</td>
<td>服务器返回的消息</td>
</tr></tbody></table>

<p><strong>示例代码：</strong></p><pre><code class="lang-javascript">wx.connectSocket({
  url: <span class="hljs-string">'test.php'</span>
})

wx.onSocketMessage(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">res</span>) </span>{
  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'收到服务器内容：'</span> + res.data)
})</code></pre>
<h3 id="api/network-socket.html?t=20161107#wxclosesocket">wx.closeSocket()</h3><p>关闭WebSocket连接。</p><h3 id="api/network-socket.html?t=20161107#wxonsocketclosecallback">wx.onSocketClose(CALLBACK)</h3><p>监听WebSocket关闭。</p><pre><code class="lang-javascript">wx.connectSocket({
  url: <span class="hljs-string">'test.php'</span>
})

<span class="hljs-comment">//注意这里有时序问题，</span>
<span class="hljs-comment">//如果 wx.connectSocket 还没回调 wx.onSocketOpen，而先调用 wx.closeSocket，那么就做不到关闭 WebSocket 的目的。</span>
<span class="hljs-comment">//必须在 WebSocket 打开期间调用 wx.closeSocket 才能关闭。</span>
wx.onSocketOpen(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
  wx.closeSocket()
})

wx.onSocketClose(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">res</span>) </span>{
  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'WebSocket 已关闭！'</span>)
})</code></pre>


                                </section>

    </div>
    <div class="search-results">
        <div class="has-results">

            <h1 class="search-results-title"><span class="search-results-count"></span> 个结果 "<span class="search-query"></span>"</h1>
            <ul class="search-results-list"></ul>

        </div>
        <div class="no-results">

            <h1 class="search-results-title">没有找到相关内容 "<span class="search-query"></span>"</h1>

        </div>
    </div>
</div>

                        </div>
                    </div>
<div class="page-wrapper" id="api/media-picture.html?t=20161107" tabindex="-1" role="main">                        <div class="page-inner">
<h1 id=".$ulink.">媒体</h1>
<div id="book-search-results">
    <div class="search-noresults">

                                <section class="normal markdown-section">

                                <h3 id="api/media-picture.html?t=20161107#wxchooseimageobject">wx.chooseImage(OBJECT)</h3><p>从本地相册选择图片或使用相机拍照。</p><p><strong>OBJECT参数说明：</strong></p><table>
<thead>
<tr><th>参数</th>
<th>类型</th>
<th>必填</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>count</td>
<td>Number</td>
<td>否</td>
<td>最多可以选择的图片张数，默认9</td>
</tr><tr><td>sizeType</td>
<td>StringArray</td>
<td>否</td>
<td>original 原图，compressed 压缩图，默认二者都有</td>
</tr><tr><td>sourceType</td>
<td>StringArray</td>
<td>否</td>
<td>album 从相册选图，camera 使用相机，默认二者都有</td>
</tr><tr><td>success</td>
<td>Function</td>
<td>是</td>
<td>成功则返回图片的本地文件路径列表 tempFilePaths</td>
</tr><tr><td>fail</td>
<td>Function</td>
<td>否</td>
<td>接口调用失败的回调函数</td>
</tr><tr><td>complete</td>
<td>Function</td>
<td>否</td>
<td>接口调用结束的回调函数（调用成功、失败都会执行）</td>
</tr></tbody></table>

<p><strong>注：文件的临时路径，在小程序本次启动期间可以正常使用，如需持久保存，需在主动调用 <a href="#api/file.html%3Ft=20161107">wx.saveFile</a>，在小程序下次启动时才能访问得到。</strong></p><p><strong>示例代码：</strong></p><pre><code class="lang-javascript">wx.chooseImage({
  count: <span class="hljs-number">1</span>, <span class="hljs-comment">// 默认9</span>
  sizeType: [<span class="hljs-string">'original'</span>, <span class="hljs-string">'compressed'</span>], <span class="hljs-comment">// 可以指定是原图还是压缩图，默认二者都有</span>
  sourceType: [<span class="hljs-string">'album'</span>, <span class="hljs-string">'camera'</span>], <span class="hljs-comment">// 可以指定来源是相册还是相机，默认二者都有</span>
  success: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">res</span>) </span>{
    <span class="hljs-comment">// 返回选定照片的本地文件路径列表，tempFilePath可以作为img标签的src属性显示图片</span>
    <span class="hljs-keyword">var</span> tempFilePaths = res.tempFilePaths
  }
})</code></pre>
<h3 id="api/media-picture.html?t=20161107#wxpreviewimageobject">wx.previewImage(OBJECT)</h3><p>预览图片。</p><p><strong>OBJECT参数说明：</strong></p><table>
<thead>
<tr><th>参数</th>
<th>类型</th>
<th>必填</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>current</td>
<td>String</td>
<td>否</td>
<td>当前显示图片的链接，不填则默认为 urls 的第一张</td>
</tr><tr><td>urls</td>
<td>StringArray</td>
<td>是</td>
<td>需要预览的图片链接列表</td>
</tr><tr><td>success</td>
<td>Function</td>
<td>否</td>
<td>接口调用成功的回调函数</td>
</tr><tr><td>fail</td>
<td>Function</td>
<td>否</td>
<td>接口调用失败的回调函数</td>
</tr><tr><td>complete</td>
<td>Function</td>
<td>否</td>
<td>接口调用结束的回调函数（调用成功、失败都会执行）</td>
</tr></tbody></table>

<p><strong>示例代码：</strong></p><pre><code class="lang-javascript">wx.previewImage({
  current: <span class="hljs-string">''</span>, <span class="hljs-comment">// 当前显示图片的http链接</span>
  urls: [] <span class="hljs-comment">// 需要预览的图片http链接列表</span>
})</code></pre>
<h3 id="api/media-picture.html?t=20161107#wxgetimageinfoobject">wx.getImageInfo(OBJECT)</h3><p>获取图片信息</p><p><strong>OBJECT参数说明：</strong></p><table>
<thead>
<tr><th>参数</th>
<th>类型</th>
<th>必填</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>src</td>
<td>String</td>
<td>是</td>
<td>图片的路径，可以是相对路径，临时文件路径，存储文件路径</td>
</tr><tr><td>success</td>
<td>Function</td>
<td>否</td>
<td>接口调用成功的回调函数</td>
</tr><tr><td>fail</td>
<td>Function</td>
<td>否</td>
<td>接口调用失败的回调函数</td>
</tr><tr><td>complete</td>
<td>Function</td>
<td>否</td>
<td>接口调用结束的回调函数（调用成功、失败都会执行）</td>
</tr></tbody></table>

<p><strong>success返回参数说明：</strong></p><table>
<thead>
<tr><th>参数</th>
<th>类型</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>width</td>
<td>Number</td>
<td>图片宽度，单位px</td>
</tr><tr><td>height</td>
<td>Number</td>
<td>图片高度 单位px</td>
</tr></tbody></table>

<p><strong>示例代码：</strong></p><pre><code class="lang-javascript">wx.getImageInfo({
  src: <span class="hljs-string">'images/a.jpg'</span>,
  success: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">res</span>) </span>{
    <span class="hljs-built_in">console</span>.log(res.width)
    <span class="hljs-built_in">console</span>.log(res.height)
  }
})

wx.chooseImage({
  success: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">res</span>) </span>{
    wx.getImageInfo({
      src: res.tempFilePaths[<span class="hljs-number">0</span>],
      success: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">res</span>) </span>{
        <span class="hljs-built_in">console</span>.log(res.width)
        <span class="hljs-built_in">console</span>.log(res.height)
      }
    })
  }
})</code></pre>


                                </section>

    </div>
    <div class="search-results">
        <div class="has-results">

            <h1 class="search-results-title"><span class="search-results-count"></span> 个结果 "<span class="search-query"></span>"</h1>
            <ul class="search-results-list"></ul>

        </div>
        <div class="no-results">

            <h1 class="search-results-title">没有找到相关内容 "<span class="search-query"></span>"</h1>

        </div>
    </div>
</div>

                        </div>
                    </div>
<div class="page-wrapper" id="api/media-record.html?t=20161107" tabindex="-1" role="main">                        <div class="page-inner">
<h1 id=".$ulink.">录音</h1>
<div id="book-search-results">
    <div class="search-noresults">

                                <section class="normal markdown-section">

                                <h3 id="api/media-record.html?t=20161107#wxstartrecordobject">wx.startRecord(OBJECT)</h3><p>开始录音。当主动调用<code>wx.stopRecord</code>，或者录音超过1分钟时自动结束录音，返回录音文件的临时文件路径。</p><p><strong>OBJECT参数说明：</strong></p><table>
<thead>
<tr><th>参数</th>
<th>类型</th>
<th>必填</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>success</td>
<td>Function</td>
<td>否</td>
<td>录音成功后调用，返回录音文件的临时文件路径，res = {tempFilePath: '录音文件的临时路径'}</td>
</tr><tr><td>fail</td>
<td>Function</td>
<td>否</td>
<td>接口调用失败的回调函数</td>
</tr><tr><td>complete</td>
<td>Function</td>
<td>否</td>
<td>接口调用结束的回调函数（调用成功、失败都会执行）</td>
</tr></tbody></table>

<p><strong>注：文件的临时路径，在小程序本次启动期间可以正常使用，如需持久保存，需在主动调用<a href="#api/file.html%3Ft=20161107">wx.saveFile</a>，在小程序下次启动时才能访问得到。</strong></p><h3 id="api/media-record.html?t=20161107#wxstoprecord">wx.stopRecord()</h3><p>​    主动调用停止录音。</p><p><strong>示例代码：</strong></p><pre><code class="lang-javascript">wx.startRecord({
  success: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">res</span>) </span>{
    <span class="hljs-keyword">var</span> tempFilePath = res.tempFilePath
  },
  fail: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">res</span>) </span>{
     <span class="hljs-comment">//录音失败</span>
  }
})
setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-comment">//结束录音  </span>
  wx.stopRecord()
}, <span class="hljs-number">10000</span>)</code></pre>


                                </section>

    </div>
    <div class="search-results">
        <div class="has-results">

            <h1 class="search-results-title"><span class="search-results-count"></span> 个结果 "<span class="search-query"></span>"</h1>
            <ul class="search-results-list"></ul>

        </div>
        <div class="no-results">

            <h1 class="search-results-title">没有找到相关内容 "<span class="search-query"></span>"</h1>

        </div>
    </div>
</div>

                        </div>
                    </div>
<div class="page-wrapper" id="api/media-voice.html?t=20161107" tabindex="-1" role="main">                        <div class="page-inner">
<h1 id=".$ulink.">音频播放控制</h1>
<div id="book-search-results">
    <div class="search-noresults">

                                <section class="normal markdown-section">

                                <h3 id="api/media-voice.html?t=20161107#wxplayvoiceobject">wx.playVoice(OBJECT)</h3><p>开始播放语音，同时只允许一个语音文件正在播放，如果前一个语音文件还没播放完，将中断前一个语音播放。</p><p><strong>OBJECT参数说明：</strong></p><table>
<thead>
<tr><th>参数</th>
<th>类型</th>
<th>必填</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>filePath</td>
<td>String</td>
<td>是</td>
<td>需要播放的语音文件的文件路径</td>
</tr><tr><td>success</td>
<td>Function</td>
<td>否</td>
<td>接口调用成功的回调函数</td>
</tr><tr><td>fail</td>
<td>Function</td>
<td>否</td>
<td>接口调用失败的回调函数</td>
</tr><tr><td>complete</td>
<td>Function</td>
<td>否</td>
<td>接口调用结束的回调函数（调用成功、失败都会执行）</td>
</tr></tbody></table>

<p><strong>示例代码：</strong></p><pre><code class="lang-javascript">wx.startRecord({
  success: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">res</span>) </span>{
    <span class="hljs-keyword">var</span> tempFilePath = res.tempFilePath
    wx.playVoice({
      filePath: tempFilePath,
      complete: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
      }
    })
  }
})</code></pre>
<h3 id="api/media-voice.html?t=20161107#wxpausevoice">wx.pauseVoice()</h3><p>暂停正在播放的语音。再次调用wx.playVoice播放同一个文件时，会从暂停处开始播放。如果想从头开始播放，需要先调用 wx.stopVoice。</p><p><strong>示例代码：</strong></p><pre><code class="lang-javascript">wx.startRecord({
  success: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">res</span>) </span>{
    <span class="hljs-keyword">var</span> tempFilePath = res.tempFilePath
      wx.playVoice({
      filePath: tempFilePath
    })

    setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-comment">//暂停播放</span>
      wx.pauseVoice()
    }, <span class="hljs-number">5000</span>)
  }
})</code></pre>
<h3 id="api/media-voice.html?t=20161107#wxstopvoice">wx.stopVoice()</h3><p>结束播放语音。</p><p><strong>示例代码：</strong></p><pre><code class="lang-javascript">wx.startRecord({
  success: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">res</span>) </span>{
    <span class="hljs-keyword">var</span> tempFilePath = res.tempFilePath
    wx.playVoice({
      filePath:tempFilePath
    })

    setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
      wx.stopVoice()
    }, <span class="hljs-number">5000</span>)
  }
})</code></pre>


                                </section>

    </div>
    <div class="search-results">
        <div class="has-results">

            <h1 class="search-results-title"><span class="search-results-count"></span> 个结果 "<span class="search-query"></span>"</h1>
            <ul class="search-results-list"></ul>

        </div>
        <div class="no-results">

            <h1 class="search-results-title">没有找到相关内容 "<span class="search-query"></span>"</h1>

        </div>
    </div>
</div>

                        </div>
                    </div>
<div class="page-wrapper" id="api/media-background-audio.html?t=20161107" tabindex="-1" role="main">                        <div class="page-inner">
<h1 id=".$ulink.">音乐播放控制</h1>
<div id="book-search-results">
    <div class="search-noresults">

                                <section class="normal markdown-section">

                                <h3 id="api/media-background-audio.html?t=20161107#wxgetbackgroundaudioplayerstateobject">wx.getBackgroundAudioPlayerState(OBJECT)</h3><p>获取音乐播放状态。</p><p><strong>OBJECT参数说明：</strong></p><table>
<thead>
<tr><th>参数</th>
<th>类型</th>
<th>必填</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>success</td>
<td>Function</td>
<td>否</td>
<td>接口调用成功的回调函数</td>
</tr><tr><td>fail</td>
<td>Function</td>
<td>否</td>
<td>接口调用失败的回调函数</td>
</tr><tr><td>complete</td>
<td>Function</td>
<td>否</td>
<td>接口调用结束的回调函数（调用成功、失败都会执行）</td>
</tr></tbody></table>

<p><strong>success返回参数说明：</strong></p><table>
<thead>
<tr><th>参数</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>duration</td>
<td>选定音频的长度（单位：s），只有在当前有音乐播放时返回</td>
</tr><tr><td>currentPosition</td>
<td>选定音频的播放位置（单位：s），只有在当前有音乐播放时返回</td>
</tr><tr><td>status</td>
<td>播放状态（2：没有音乐在播放，1：播放中，0：暂停中）</td>
</tr><tr><td>downloadPercent</td>
<td>音频的下载进度（整数，80 代表 80%），只有在当前有音乐播放时返回</td>
</tr><tr><td>dataUrl</td>
<td>歌曲数据链接，只有在当前有音乐播放时返回</td>
</tr></tbody></table>

<p><strong>示例代码：</strong></p><pre><code class="lang-javascript">wx.getBackgroundAudioPlayerState({
    success: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">res</span>) </span>{
        <span class="hljs-keyword">var</span> status = res.status
        <span class="hljs-keyword">var</span> dataUrl = res.dataUrl
        <span class="hljs-keyword">var</span> currentPosition = res.currentPosition
        <span class="hljs-keyword">var</span> duration = res.duration
        <span class="hljs-keyword">var</span> downloadPercent = res.downloadPercent
    }
})</code></pre>
<h3 id="api/media-background-audio.html?t=20161107#wxplaybackgroundaudioobject">wx.playBackgroundAudio(OBJECT)</h3><p>播放音乐，同时只能有一首音乐正在播放。</p><p><strong>OBJECT参数说明</strong></p><table>
<thead>
<tr><th>参数</th>
<th>类型</th>
<th>必填</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>dataUrl</td>
<td>String</td>
<td>是</td>
<td>音乐链接</td>
</tr><tr><td>title</td>
<td>String</td>
<td>否</td>
<td>音乐标题</td>
</tr><tr><td>coverImgUrl</td>
<td>String</td>
<td>否</td>
<td>封面URL</td>
</tr><tr><td>success</td>
<td>Function</td>
<td>否</td>
<td>接口调用成功的回调函数</td>
</tr><tr><td>fail</td>
<td>Function</td>
<td>否</td>
<td>接口调用失败的回调函数</td>
</tr><tr><td>complete</td>
<td>Function</td>
<td>否</td>
<td>接口调用结束的回调函数（调用成功、失败都会执行）</td>
</tr></tbody></table>

<p><strong>示例代码</strong></p><pre><code class="lang-javascript">wx.playBackgroundAudio({
    dataUrl: <span class="hljs-string">''</span>,
    title: <span class="hljs-string">''</span>,
    coverImgUrl: <span class="hljs-string">''</span>
})</code></pre>
<h3 id="api/media-background-audio.html?t=20161107#wxpausebackgroundaudio">wx.pauseBackgroundAudio()</h3><p>暂停播放音乐。</p><p><strong>示例代码</strong></p><pre><code class="lang-javascript">wx.pauseBackgroundAudio()</code></pre>
<h3 id="api/media-background-audio.html?t=20161107#wxseekbackgroundaudioobject">wx.seekBackgroundAudio(OBJECT)</h3><p>控制音乐播放进度。</p><p><strong>OBJECT参数说明</strong></p><table>
<thead>
<tr><th>参数</th>
<th>类型</th>
<th>必填</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>position</td>
<td>Number</td>
<td>是</td>
<td>音乐位置，单位：秒</td>
</tr><tr><td>success</td>
<td>Function</td>
<td>否</td>
<td>接口调用成功的回调函数</td>
</tr><tr><td>fail</td>
<td>Function</td>
<td>否</td>
<td>接口调用失败的回调函数</td>
</tr><tr><td>complete</td>
<td>Function</td>
<td>否</td>
<td>接口调用结束的回调函数（调用成功、失败都会执行）</td>
</tr></tbody></table>

<p><strong>示例代码</strong></p><pre><code class="lang-javascript">wx.seekBackgroundAudio({
    position: <span class="hljs-number">30</span>
})</code></pre>
<h3 id="api/media-background-audio.html?t=20161107#wxstopbackgroundaudio">wx.stopBackgroundAudio()</h3><p>停止播放音乐。</p><p><strong>示例代码</strong></p><pre><code class="lang-javascript">wx.stopBackgroundAudio()</code></pre>
<h3 id="api/media-background-audio.html?t=20161107#wxonbackgroundaudioplaycallback">wx.onBackgroundAudioPlay(CALLBACK)</h3><p>监听音乐播放。</p><h3 id="api/media-background-audio.html?t=20161107#wxonbackgroundaudiopausecallback">wx.onBackgroundAudioPause(CALLBACK)</h3><p>监听音乐暂停。</p><h3 id="api/media-background-audio.html?t=20161107#wxonbackgroundaudiostopcallback">wx.onBackgroundAudioStop(CALLBACK)</h3><p>监听音乐停止。</p>

                                </section>

    </div>
    <div class="search-results">
        <div class="has-results">

            <h1 class="search-results-title"><span class="search-results-count"></span> 个结果 "<span class="search-query"></span>"</h1>
            <ul class="search-results-list"></ul>

        </div>
        <div class="no-results">

            <h1 class="search-results-title">没有找到相关内容 "<span class="search-query"></span>"</h1>

        </div>
    </div>
</div>

                        </div>
                    </div>
<div class="page-wrapper" id="api/file.html?t=20161107" tabindex="-1" role="main">                        <div class="page-inner">
<h1 id=".$ulink.">文件</h1>
<div id="book-search-results">
    <div class="search-noresults">

                                <section class="normal markdown-section">

                                <h3 id="api/file.html?t=20161107#wxsavefileobject">wx.saveFile(OBJECT)</h3><p>保存文件到本地。</p><p><strong>OBJECT参数说明：</strong></p><table>
<thead>
<tr><th>参数</th>
<th>类型</th>
<th>必填</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>tempFilePath</td>
<td>String</td>
<td>是</td>
<td>需要保存的文件的临时路径</td>
</tr><tr><td>success</td>
<td>Function</td>
<td>否</td>
<td>返回文件的保存路径，res = {savedFilePath: '文件的保存路径'}</td>
</tr><tr><td>fail</td>
<td>Function</td>
<td>否</td>
<td>接口调用失败的回调函数</td>
</tr><tr><td>complete</td>
<td>Function</td>
<td>否</td>
<td>接口调用结束的回调函数（调用成功、失败都会执行）</td>
</tr></tbody></table>

<p><strong>示例代码：</strong></p><pre><code class="lang-javascript">wx.startRecord({
  success: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">res</span>) </span>{
    <span class="hljs-keyword">var</span> tempFilePath = res.tempFilePath
    wx.saveFile({
      tempFilePath: tempFilePath,
      success: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">res</span>) </span>{
        <span class="hljs-keyword">var</span> savedFilePath = res.savedFilePath
      }
    })
  }
})</code></pre>
<h3 id="api/file.html?t=20161107#wxgetsavedfilelistobject">wx.getSavedFileList(OBJECT)</h3><p>获取本地已保存的文件列表</p><p><strong>OBJECT参数说明：</strong></p><table>
<thead>
<tr><th>参数</th>
<th>类型</th>
<th>必填</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>success</td>
<td>Function</td>
<td>否</td>
<td>接口调用成功的回调函数，返回结果见<code>success返回参数说明</code></td>
</tr><tr><td>fail</td>
<td>Function</td>
<td>否</td>
<td>接口调用失败的回调函数</td>
</tr><tr><td>complete</td>
<td>Function</td>
<td>否</td>
<td>接口调用结束的回调函数（调用成功、失败都会执行）</td>
</tr></tbody></table>

<p><strong>success返回参数说明：</strong></p><table>
<thead>
<tr><th>参数</th>
<th>类型</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>errMsg</td>
<td>String</td>
<td>接口调用结果</td>
</tr><tr><td>fileList</td>
<td>Object Array</td>
<td>文件列表</td>
</tr></tbody></table>

<p><strong>fileList中的项目说明：</strong></p><table>
<thead>
<tr><th>键</th>
<th>类型</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>filePath</td>
<td>String</td>
<td>文件的本地路径</td>
</tr><tr><td>createTime</td>
<td>Number</td>
<td>文件的保存时的时间戳，从1970/01/01 08:00:00 到当前时间的秒数</td>
</tr><tr><td>size</td>
<td>Number</td>
<td>文件大小，单位B</td>
</tr></tbody></table>

<p><strong>示例代码：</strong></p><pre><code class="lang-javascript">wx.getSavedFileList({
  success: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">res</span>) </span>{
    <span class="hljs-built_in">console</span>.log(res.fileList)
  }
})</code></pre>
<h3 id="api/file.html?t=20161107#wxgetsavedfileinfoobject">wx.getSavedFileInfo(OBJECT)</h3><p>获取本地文件的文件信息</p><p><strong>OBJECT参数说明：</strong></p><table>
<thead>
<tr><th>参数</th>
<th>类型</th>
<th>必填</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>filePath</td>
<td>String</td>
<td>是</td>
<td>文件路径</td>
</tr><tr><td>success</td>
<td>Function</td>
<td>否</td>
<td>接口调用成功的回调函数，返回结果见<code>success返回参数说明</code></td>
</tr><tr><td>fail</td>
<td>Function</td>
<td>否</td>
<td>接口调用失败的回调函数</td>
</tr><tr><td>complete</td>
<td>Function</td>
<td>否</td>
<td>接口调用结束的回调函数（调用成功、失败都会执行）</td>
</tr></tbody></table>

<p><strong>success返回参数说明：</strong></p><table>
<thead>
<tr><th>参数</th>
<th>类型</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>errMsg</td>
<td>String</td>
<td>接口调用结果</td>
</tr><tr><td>size</td>
<td>Number</td>
<td>文件大小，单位B</td>
</tr><tr><td>createTime</td>
<td>Number</td>
<td>文件的保存是的时间戳，从1970/01/01 08:00:00 到当前时间的秒数</td>
</tr></tbody></table>

<p><strong>示例代码：</strong></p><pre><code class="lang-javascript">wx.getSavedFileInfo({
  filePath: <span class="hljs-string">'wxfile://somefile'</span>, <span class="hljs-comment">//仅做示例用，非真正的文件路径</span>
  success: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">res</span>) </span>{
    <span class="hljs-built_in">console</span>.log(res.size)
    <span class="hljs-built_in">console</span>.log(res.createTime)
  }
})</code></pre>
<h3 id="api/file.html?t=20161107#wxremovesavedfileobject">wx.removeSavedFile(OBJECT)</h3><p>删除本地存储的文件</p><p><strong>OBJECT参数说明：</strong></p><table>
<thead>
<tr><th>参数</th>
<th>类型</th>
<th>必填</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>filePath</td>
<td>String</td>
<td>是</td>
<td>需要删除的文件路径</td>
</tr><tr><td>success</td>
<td>Function</td>
<td>否</td>
<td>接口调用成功的回调函数</td>
</tr><tr><td>fail</td>
<td>Function</td>
<td>否</td>
<td>接口调用失败的回调函数</td>
</tr><tr><td>complete</td>
<td>Function</td>
<td>否</td>
<td>接口调用结束的回调函数（调用成功、失败都会执行）</td>
</tr></tbody></table>

<p><strong>示例代码：</strong></p><pre><code class="lang-javascript">wx.getSavedFileList({
  success: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">res</span>) </span>{
    <span class="hljs-keyword">if</span> (res.fileList.length &gt; <span class="hljs-number">0</span>){
      wx.removeSavedFile({
        filePath: res.fileList[<span class="hljs-number">0</span>].filePath,
        complete: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">res</span>) </span>{
          <span class="hljs-built_in">console</span>.log(res)
        }
      })
    }
  }
})</code></pre>
<h3 id="api/file.html?t=20161107#wxopendocumentobject">wx.openDocument(OBJECT)</h3><p>新开页面打开文档，支持格式：doc, xls, ppt, pdf, docx, xlsx, pptx</p><p><strong>OBJECT参数说明：</strong></p><table>
<thead>
<tr><th>参数</th>
<th>说明</th>
<th>必填</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>filePath</td>
<td>String</td>
<td>是</td>
<td>文件路径，可通过 downFile 获得</td>
</tr><tr><td>success</td>
<td>Function</td>
<td>否</td>
<td>接口调用成功的回调函数</td>
</tr><tr><td>fail</td>
<td>Function</td>
<td>否</td>
<td>接口调用失败的回调函数</td>
</tr><tr><td>complete</td>
<td>Function</td>
<td>否</td>
<td>接口调用结束的回调函数（调用成功、失败都会执行）</td>
</tr></tbody></table>

<h4 id="api/file.html?t=20161107#示例代码">示例代码</h4><pre><code class="lang-javascript">wx.downloadFile({
  url: <span class="hljs-string">'http://example.com/somefile.pdf'</span>,
  success: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">res</span>) </span>{
    <span class="hljs-keyword">var</span> filePath = res.tempFilePath
    wx.openDocument({
      filePath: filePath,
      success: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">res</span>) </span>{
        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'打开文档成功'</span>)
      }
    })
  }
})</code></pre>


                                </section>

    </div>
    <div class="search-results">
        <div class="has-results">

            <h1 class="search-results-title"><span class="search-results-count"></span> 个结果 "<span class="search-query"></span>"</h1>
            <ul class="search-results-list"></ul>

        </div>
        <div class="no-results">

            <h1 class="search-results-title">没有找到相关内容 "<span class="search-query"></span>"</h1>

        </div>
    </div>
</div>

                        </div>
                    </div>
<div class="page-wrapper" id="api/media-video.html?t=20161107" tabindex="-1" role="main">                        <div class="page-inner">
<h1 id=".$ulink.">视频</h1>
<div id="book-search-results">
    <div class="search-noresults">

                                <section class="normal markdown-section">

                                <h3 id="api/media-video.html?t=20161107#wxchoosevideoobject">wx.chooseVideo(OBJECT)</h3><p>拍摄视频或从手机相册中选视频，返回视频的临时文件路径。</p><p><strong>OBJECT参数说明：</strong></p><table>
<thead>
<tr><th>参数</th>
<th>类型</th>
<th>必填</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>sourceType</td>
<td>StringArray</td>
<td>否</td>
<td>album 从相册选视频，camera 使用相机拍摄，默认为：['album', 'camera']</td>
</tr><tr><td>maxDuration</td>
<td>Number</td>
<td>否</td>
<td>拍摄视频最长拍摄时间，单位秒。最长支持60秒</td>
</tr><tr><td>camera</td>
<td>StringArray</td>
<td>否</td>
<td>前置或者后置摄像头，默认为前后都有，即：['front', 'back']</td>
</tr><tr><td>success</td>
<td>Function</td>
<td>否</td>
<td>接口调用成功，返回视频文件的临时文件路径，详见返回参数说明</td>
</tr><tr><td>fail</td>
<td>Function</td>
<td>否</td>
<td>接口调用失败的回调函数</td>
</tr><tr><td>complete</td>
<td>Function</td>
<td>否</td>
<td>接口调用结束的回调函数（调用成功、失败都会执行）</td>
</tr></tbody></table>

<p><strong>返回参数说明：</strong></p><table>
<thead>
<tr><th>参数</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>tempFilePath</td>
<td>选定视频的临时文件路径</td>
</tr><tr><td>duration</td>
<td>选定视频的时间长度</td>
</tr><tr><td>size</td>
<td>选定视频的数据量大小</td>
</tr><tr><td>height</td>
<td>返回选定视频的长</td>
</tr><tr><td>width</td>
<td>返回选定视频的宽</td>
</tr></tbody></table>

<p><strong>注：文件的临时路径，在小程序本次启动期间可以正常使用，如需持久保存，需在主动调用 <a href="#api/file.html%3Ft=20161107">wx.saveFile</a>，在小程序下次启动时才能访问得到。</strong></p><p><strong>示例代码：</strong></p><pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"container"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">video</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"{{src}}"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">video</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">bindtap</span>=<span class="hljs-string">"bindButtonTap"</span>&gt;</span>获取视频<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span></code></pre>
<pre><code class="lang-javascript">Page({
    bindButtonTap: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> that = <span class="hljs-keyword">this</span>
        wx.chooseVideo({
            sourceType: [<span class="hljs-string">'album'</span>,<span class="hljs-string">'camera'</span>],
            maxDuration: <span class="hljs-number">60</span>,
            camera: [<span class="hljs-string">'front'</span>,<span class="hljs-string">'back'</span>],
            success: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">res</span>) </span>{
                that.setData({
                    src: res.tempFilePath
                })
            }
        })
    }
})</code></pre>


                                </section>

    </div>
    <div class="search-results">
        <div class="has-results">

            <h1 class="search-results-title"><span class="search-results-count"></span> 个结果 "<span class="search-query"></span>"</h1>
            <ul class="search-results-list"></ul>

        </div>
        <div class="no-results">

            <h1 class="search-results-title">没有找到相关内容 "<span class="search-query"></span>"</h1>

        </div>
    </div>
</div>

                        </div>
                    </div>
<div class="page-wrapper" id="api/api-audio.html?t=20161107" tabindex="-1" role="main">                        <div class="page-inner">
<h1 id=".$ulink.">音频组件控制</h1>
<div id="book-search-results">
    <div class="search-noresults">

                                <section class="normal markdown-section">

                                <h3 id="api/api-audio.html?t=20161107#wxcreateaudiocontextaudioid">wx.createAudioContext(audioId)</h3><p>创建并返回 audio 上下文 <code>audioContext</code> 对象</p><h4 id="api/api-audio.html?t=20161107#audiocontext">audioContext</h4><p><code>audioContext</code> 通过 audioId 跟一个 audio 组件绑定，通过它可以操作一个 audio 组件。</p><p><strong>audioContext对象的方法列表：</strong></p><table>
<thead>
<tr><th>方法</th>
<th>参数</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>play</td>
<td>无</td>
<td>播放</td>
</tr><tr><td>pause</td>
<td>无</td>
<td>暂停</td>
</tr><tr><td>seek</td>
<td>position</td>
<td>跳转到指定位置，单位 s</td>
</tr></tbody></table>

<p><strong>示例代码：</strong></p><pre><code class="lang-html"><span class="hljs-comment">&lt;!-- audio.wxml --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">audio</span>  <span class="hljs-attr">src</span>=<span class="hljs-string">"{{src}}"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"myAudio"</span> &gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">audio</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"primary"</span> <span class="hljs-attr">bindtap</span>=<span class="hljs-string">"audioPlay"</span>&gt;</span>播放<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"primary"</span> <span class="hljs-attr">bindtap</span>=<span class="hljs-string">"audioPause"</span>&gt;</span>暂停<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"primary"</span> <span class="hljs-attr">bindtap</span>=<span class="hljs-string">"audio14"</span>&gt;</span>设置当前播放时间为14秒<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"primary"</span> <span class="hljs-attr">bindtap</span>=<span class="hljs-string">"audioStart"</span>&gt;</span>回到开头<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></code></pre>
<pre><code class="lang-javascript"><span class="hljs-comment">// audio.js</span>
Page({
  onReady: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) </span>{
    <span class="hljs-comment">// 使用 wx.createAudioContext 获取 audio 上下文 context</span>
    <span class="hljs-keyword">this</span>.audioCtx = wx.createAudioContext(<span class="hljs-string">'myAudio'</span>)
  },
  data: {
    src: <span class="hljs-string">'http://ws.stream.qqmusic.qq.com/M500001VfvsJ21xFqb.mp3?guid=ffffffff82def4af4b12b3cd9337d5e7&amp;uin=346897220&amp;vkey=6292F51E1E384E06DCBDC9AB7C49FD713D632D313AC4858BACB8DDD29067D3C601481D36E62053BF8DFEAF74C0A5CCFADD6471160CAF3E6A&amp;fromtag=46'</span>,
  },
  audioPlay: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">this</span>.audioCtx.play()
  },
  audioPause: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">this</span>.audioCtx.pause()
  },
  audio14: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">this</span>.audioCtx.seek(<span class="hljs-number">14</span>)
  },
  audioStart: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">this</span>.audioCtx.seek(<span class="hljs-number">0</span>)
  }
})</code></pre>


                                </section>

    </div>
    <div class="search-results">
        <div class="has-results">

            <h1 class="search-results-title"><span class="search-results-count"></span> 个结果 "<span class="search-query"></span>"</h1>
            <ul class="search-results-list"></ul>

        </div>
        <div class="no-results">

            <h1 class="search-results-title">没有找到相关内容 "<span class="search-query"></span>"</h1>

        </div>
    </div>
</div>

                        </div>
                    </div>
<div class="page-wrapper" id="api/api-video.html?t=20161107" tabindex="-1" role="main">                        <div class="page-inner">
<h1 id=".$ulink.">视频组件控制</h1>
<div id="book-search-results">
    <div class="search-noresults">

                                <section class="normal markdown-section">

                                <h3 id="api/api-video.html?t=20161107#wxcreatevideocontextvideoid">wx.createVideoContext(videoId)</h3><p>创建并返回 video 上下文 <code>videoContext</code> 对象</p><h4 id="api/api-video.html?t=20161107#videocontext">videoContext</h4><p><code>videoContext</code> 通过 videoId 跟一个 video 组件绑定，通过它可以操作一个 video 组件。</p><p><strong>videoContext对象的方法列表：</strong></p><table>
<thead>
<tr><th>方法</th>
<th>参数</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>play</td>
<td>无</td>
<td>播放</td>
</tr><tr><td>pause</td>
<td>无</td>
<td>暂停</td>
</tr><tr><td>seek</td>
<td>position</td>
<td>跳转到指定位置，单位 s</td>
</tr><tr><td>sendDanmu</td>
<td>danmu</td>
<td>发送弹幕，danmu 包含两个属性 text, color。</td>
</tr></tbody></table>

<p><strong>示例代码：</strong></p><pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"section tc"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">video</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"myVideo"</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"http://wxsnsdy.tc.qq.com/105/20210/snsdyvideodownload?filekey=30280201010421301f0201690402534804102ca905ce620b1241b726bc41dcff44e00204012882540400&amp;bizid=1023&amp;hy=SH&amp;fileparam=302c020101042530230204136ffd93020457e3c4ff02024ef202031e8d7f02030f42400204045a320a0201000400"</span>   <span class="hljs-attr">enable-danmu</span> <span class="hljs-attr">danmu-btn</span> <span class="hljs-attr">controls</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">video</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn-area"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">bindblur</span>=<span class="hljs-string">"bindInputBlur"</span>/&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">bindtap</span>=<span class="hljs-string">"bindSendDanmu"</span>&gt;</span>发送弹幕<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span></code></pre>
<pre><code class="lang-javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getRandomColor</span> (<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">let</span> rgb = []
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span> ; i &lt; <span class="hljs-number">3</span>; ++i){
    <span class="hljs-keyword">let</span> color = <span class="hljs-built_in">Math</span>.floor(<span class="hljs-built_in">Math</span>.random() * <span class="hljs-number">256</span>).toString(<span class="hljs-number">16</span>)
    color = color.length == <span class="hljs-number">1</span> ? <span class="hljs-string">'0'</span> + color : color
    rgb.push(color)
  }
  <span class="hljs-keyword">return</span> <span class="hljs-string">'#'</span> + rgb.join(<span class="hljs-string">''</span>)
}

Page({
  onReady: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">res</span>) </span>{
    <span class="hljs-keyword">this</span>.videoContext = wx.createVideoContext(<span class="hljs-string">'myVideo'</span>)
  },
  inputValue: <span class="hljs-string">''</span>,
  bindInputBlur: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
    <span class="hljs-keyword">this</span>.inputValue = e.detail.value
  },
  bindSendDanmu: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">this</span>.videoContext.sendDanmu({
      text: <span class="hljs-keyword">this</span>.inputValue,
      color: getRandomColor()
    })
  }
})</code></pre>


                                </section>

    </div>
    <div class="search-results">
        <div class="has-results">

            <h1 class="search-results-title"><span class="search-results-count"></span> 个结果 "<span class="search-query"></span>"</h1>
            <ul class="search-results-list"></ul>

        </div>
        <div class="no-results">

            <h1 class="search-results-title">没有找到相关内容 "<span class="search-query"></span>"</h1>

        </div>
    </div>
</div>

                        </div>
                    </div>
<div class="page-wrapper" id="api/data.html?t=20161107" tabindex="-1" role="main">                        <div class="page-inner">
<h1 id=".$ulink.">数据</h1>
<div id="book-search-results">
    <div class="search-noresults">

                                <section class="normal markdown-section">

                                <p>每个微信小程序都可以有自己的本地缓存，可以通过 wx.setStorage（wx.setStorageSync）、wx.getStorage（wx.getStorageSync）、wx.clearStorage（wx.clearStorageSync）可以对本地缓存进行设置、获取和清理。本地缓存最大为10MB。</p><p><strong>注意：</strong> localStorage 是永久存储的，但是我们不建议将关键信息全部存在 localStorage，以防用户换设备的情况。</p><h3 id="api/data.html?t=20161107#wxsetstorageobject">wx.setStorage(OBJECT)</h3><p>将数据存储在本地缓存中指定的 key 中，会覆盖掉原来该 key 对应的内容，这是一个异步接口。</p><p><strong>OBJECT参数说明：</strong></p><table>
<thead>
<tr><th>参数</th>
<th>类型</th>
<th>必填</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>key</td>
<td>String</td>
<td>是</td>
<td>本地缓存中的指定的 key</td>
</tr><tr><td>data</td>
<td>Object/String</td>
<td>是</td>
<td>需要存储的内容</td>
</tr><tr><td>success</td>
<td>Function</td>
<td>否</td>
<td>接口调用成功的回调函数</td>
</tr><tr><td>fail</td>
<td>Function</td>
<td>否</td>
<td>接口调用失败的回调函数</td>
</tr><tr><td>complete</td>
<td>Function</td>
<td>否</td>
<td>接口调用结束的回调函数（调用成功、失败都会执行）</td>
</tr></tbody></table>

<p><strong>示例代码</strong></p><pre><code class="lang-javascript">wx.setStorage({
  key:<span class="hljs-string">"key"</span>
  data:<span class="hljs-string">"value"</span>
})</code></pre>
<h3 id="api/data.html?t=20161107#wxsetstoragesynckeydata">wx.setStorageSync(KEY,DATA)</h3><p>将 data 存储在本地缓存中指定的 key 中，会覆盖掉原来该 key 对应的内容，这是一个同步接口。</p><p><strong>参数说明：</strong></p><table>
<thead>
<tr><th>参数</th>
<th>类型</th>
<th>必填</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>key</td>
<td>String</td>
<td>是</td>
<td>本地缓存中的指定的 key</td>
</tr><tr><td>data</td>
<td>Object/String</td>
<td>是</td>
<td>需要存储的内容</td>
</tr></tbody></table>

<p><strong>示例代码</strong></p><pre><code class="lang-javascript"><span class="hljs-keyword">try</span> {
    wx.setStorageSync(<span class="hljs-string">'key'</span>, <span class="hljs-string">'value'</span>)
} <span class="hljs-keyword">catch</span> (e) {
}</code></pre>
<h3 id="api/data.html?t=20161107#wxgetstorageobject">wx.getStorage(OBJECT)</h3><p>从本地缓存中异步获取指定 key 对应的内容。</p><p><strong>OBJECT参数说明：</strong></p><table>
<thead>
<tr><th>参数</th>
<th>类型</th>
<th>必填</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>key</td>
<td>String</td>
<td>是</td>
<td>本地缓存中的指定的 key</td>
</tr><tr><td>success</td>
<td>Function</td>
<td>是</td>
<td>接口调用的回调函数,res = {data: key对应的内容}</td>
</tr><tr><td>fail</td>
<td>Function</td>
<td>否</td>
<td>接口调用失败的回调函数</td>
</tr><tr><td>complete</td>
<td>Function</td>
<td>否</td>
<td>接口调用结束的回调函数（调用成功、失败都会执行）</td>
</tr></tbody></table>

<p><strong>示例代码：</strong></p><pre><code class="lang-javascript">wx.getStorage({
  key: <span class="hljs-string">'key'</span>,
  success: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">res</span>) </span>{
      <span class="hljs-built_in">console</span>.log(res.data)
  }
})</code></pre>
<h3 id="api/data.html?t=20161107#wxgetstoragesynckey">wx.getStorageSync(KEY)</h3><p>从本地缓存中同步获取指定 key 对应的内容。</p><p><strong>参数说明：</strong></p><table>
<thead>
<tr><th>参数</th>
<th>类型</th>
<th>必填</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>key</td>
<td>String</td>
<td>是</td>
<td>本地缓存中的指定的 key</td>
</tr></tbody></table>

<p><strong>示例代码：</strong></p><pre><code class="lang-javascript"><span class="hljs-keyword">try</span> {
  <span class="hljs-keyword">var</span> value = wx.getStorageSync(<span class="hljs-string">'key'</span>)
  <span class="hljs-keyword">if</span> (value) {
      <span class="hljs-comment">// Do something with return value</span>
  }
} <span class="hljs-keyword">catch</span> (e) {
  <span class="hljs-comment">// Do something when catch error</span>
}</code></pre>
<h3 id="api/data.html?t=20161107#wxgetstorageinfoobject">wx.getStorageInfo(OBJECT)</h3><p>异步获取当前storage的相关信息</p><p><strong>OBJECT参数说明：</strong></p><table>
<thead>
<tr><th>参数</th>
<th>类型</th>
<th>必填</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>success</td>
<td>Function</td>
<td>是</td>
<td>接口调用的回调函数，详见返回参数说明</td>
</tr><tr><td>fail</td>
<td>Function</td>
<td>否</td>
<td>接口调用失败的回调函数</td>
</tr><tr><td>complete</td>
<td>Function</td>
<td>否</td>
<td>接口调用结束的回调函数（调用成功、失败都会执行）</td>
</tr></tbody></table>

<p><strong>success返回参数说明：</strong></p><table>
<thead>
<tr><th>参数</th>
<th>类型</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>keys</td>
<td>String Array</td>
<td>当前storage中所有的key</td>
</tr><tr><td>currentSize</td>
<td>Number</td>
<td>当前占用的空间大小, 单位kb</td>
</tr><tr><td>limitSize</td>
<td>Number</td>
<td>限制的空间大小，单位kb</td>
</tr></tbody></table>

<p><strong>示例代码：</strong></p><pre><code class="lang-javascript">wx.getStorageInfo({
  success: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">res</span>) </span>{
    <span class="hljs-built_in">console</span>.log(res.keys)
    <span class="hljs-built_in">console</span>.log(res.currentSize)
    <span class="hljs-built_in">console</span>.log(res.limitSize)
  }
})</code></pre>
<h3 id="api/data.html?t=20161107#wxgetstorageinfosync">wx.getStorageInfoSync</h3><p>同步获取当前storage的相关信息</p><p><strong>示例代码：</strong></p><pre><code class="lang-javascript"><span class="hljs-keyword">try</span> {
  <span class="hljs-keyword">var</span> res = wx.getStorageInfoSync()
  <span class="hljs-built_in">console</span>.log(res.keys)
  <span class="hljs-built_in">console</span>.log(res.currentSize)
  <span class="hljs-built_in">console</span>.log(res.limitSize)
} <span class="hljs-keyword">catch</span> (e) {
  <span class="hljs-comment">// Do something when catch error</span>
}
</code></pre>
<h3 id="api/data.html?t=20161107#wxremovestorageobject">wx.removeStorage(OBJECT)</h3><p>从本地缓存中异步移除指定 key 。</p><p><strong>OBJECT参数说明：</strong></p><table>
<thead>
<tr><th>参数</th>
<th>类型</th>
<th>必填</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>key</td>
<td>String</td>
<td>是</td>
<td>本地缓存中的指定的 key</td>
</tr><tr><td>success</td>
<td>Function</td>
<td>是</td>
<td>接口调用的回调函数</td>
</tr><tr><td>fail</td>
<td>Function</td>
<td>否</td>
<td>接口调用失败的回调函数</td>
</tr><tr><td>complete</td>
<td>Function</td>
<td>否</td>
<td>接口调用结束的回调函数（调用成功、失败都会执行）</td>
</tr></tbody></table>

<p><strong>示例代码：</strong></p><pre><code class="lang-javascript">wx.removeStorage({
  key: <span class="hljs-string">'key'</span>,
  success: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">res</span>) </span>{
    <span class="hljs-built_in">console</span>.log(res.data)
  }
})</code></pre>
<h3 id="api/data.html?t=20161107#wxremovestoragesynckey">wx.removeStorageSync(KEY)</h3><p>从本地缓存中同步移除指定 key 。</p><p><strong>参数说明：</strong></p><table>
<thead>
<tr><th>参数</th>
<th>类型</th>
<th>必填</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>key</td>
<td>String</td>
<td>是</td>
<td>本地缓存中的指定的 key</td>
</tr></tbody></table>

<p><strong>示例代码：</strong></p><pre><code class="lang-javascript"><span class="hljs-keyword">try</span> {
  wx.removeStorageSync(<span class="hljs-string">'key'</span>)
} <span class="hljs-keyword">catch</span> (e) {
  <span class="hljs-comment">// Do something when catch error</span>
}</code></pre>
<h3 id="api/data.html?t=20161107#wxclearstorage">wx.clearStorage()</h3><p>清理本地数据缓存。</p><p><strong>示例代码：</strong></p><pre><code class="lang-javascript">wx.clearStorage()</code></pre>
<h3 id="api/data.html?t=20161107#wxclearstoragesync">wx.clearStorageSync()</h3><p>同步清理本地数据缓存</p><p><strong>示例代码：</strong></p><pre><code class="lang-javascript"><span class="hljs-keyword">try</span> {
    wx.clearStorageSync()
} <span class="hljs-keyword">catch</span>(e) {
  <span class="hljs-comment">// Do something when catch error</span>
}</code></pre>


                                </section>

    </div>
    <div class="search-results">
        <div class="has-results">

            <h1 class="search-results-title"><span class="search-results-count"></span> 个结果 "<span class="search-query"></span>"</h1>
            <ul class="search-results-list"></ul>

        </div>
        <div class="no-results">

            <h1 class="search-results-title">没有找到相关内容 "<span class="search-query"></span>"</h1>

        </div>
    </div>
</div>

                        </div>
                    </div>
<div class="page-wrapper" id="api/location.html?t=20161107" tabindex="-1" role="main">                        <div class="page-inner">
<h1 id=".$ulink.">位置</h1>
<div id="book-search-results">
    <div class="search-noresults">

                                <section class="normal markdown-section">

                                <h3 id="api/location.html?t=20161107#wxgetlocationobject">wx.getLocation(OBJECT)</h3><p>获取当前的地理位置、速度。</p><p><strong>OBJECT参数说明：</strong></p><table>
<thead>
<tr><th>参数</th>
<th>类型</th>
<th>必填</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>type</td>
<td>String</td>
<td>否</td>
<td>默认为 wgs84 返回 gps 坐标，gcj02 返回可用于<code>wx.openLocation</code>的坐标</td>
</tr><tr><td>success</td>
<td>Function</td>
<td>是</td>
<td>接口调用成功的回调函数，返回内容详见返回参数说明。</td>
</tr><tr><td>fail</td>
<td>Function</td>
<td>否</td>
<td>接口调用失败的回调函数</td>
</tr><tr><td>complete</td>
<td>Function</td>
<td>否</td>
<td>接口调用结束的回调函数（调用成功、失败都会执行）</td>
</tr></tbody></table>

<p><strong>success返回参数说明：</strong></p><table>
<thead>
<tr><th>参数</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>latitude</td>
<td>纬度，浮点数，范围为-90~90，负数表示南纬</td>
</tr><tr><td>longitude</td>
<td>经度，浮点数，范围为-180~180，负数表示西经</td>
</tr><tr><td>speed</td>
<td>速度，浮点数，单位m/s</td>
</tr><tr><td>accuracy</td>
<td>位置的精确度</td>
</tr></tbody></table>

<p><strong>示例代码：</strong></p><pre><code class="lang-javascript">wx.getLocation({
  type: <span class="hljs-string">'wgs84'</span>,
  success: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">res</span>) </span>{
    <span class="hljs-keyword">var</span> latitude = res.latitude
    <span class="hljs-keyword">var</span> longitude = res.longitude
    <span class="hljs-keyword">var</span> speed = res.speed
    <span class="hljs-keyword">var</span> accuracy = res.accuracy
  }
})</code></pre>
<h3 id="api/location.html?t=20161107#wxchooselocationobject">wx.chooseLocation(OBJECT)</h3><p>打开地图选择位置</p><p><strong>OBJECT参数说明：</strong></p><table>
<thead>
<tr><th>参数</th>
<th>类型</th>
<th>必填</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>success</td>
<td>Function</td>
<td>是</td>
<td>接口调用成功的回调函数，返回内容详见返回参数说明。</td>
</tr><tr><td>cancel</td>
<td>Function</td>
<td>否</td>
<td>用户取消时调用</td>
</tr><tr><td>fail</td>
<td>Function</td>
<td>否</td>
<td>接口调用失败的回调函数</td>
</tr><tr><td>complete</td>
<td>Function</td>
<td>否</td>
<td>接口调用结束的回调函数（调用成功、失败都会执行）</td>
</tr></tbody></table>

<p><strong>success返回参数说明：</strong></p><table>
<thead>
<tr><th>参数</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>name</td>
<td>位置名称</td>
</tr><tr><td>address</td>
<td>详细地址</td>
</tr><tr><td>latitude</td>
<td>纬度，浮点数，范围为-90~90，负数表示南纬</td>
</tr><tr><td>longitude</td>
<td>经度，浮点数，范围为-180~180，负数表示西经</td>
</tr></tbody></table>

<h3 id="api/location.html?t=20161107#wxopenlocationobject">wx.openLocation(OBJECT)</h3><p>​    使用微信内置地图查看位置</p><p><strong>OBEJCT参数说明：</strong></p><table>
<thead>
<tr><th>参数</th>
<th>类型</th>
<th>必填</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>latitude</td>
<td>Float</td>
<td>是</td>
<td>纬度，范围为-90~90，负数表示南纬</td>
</tr><tr><td>longitude</td>
<td>Float</td>
<td>是</td>
<td>经度，范围为-180~180，负数表示西经</td>
</tr><tr><td>scale</td>
<td>INT</td>
<td>否</td>
<td>缩放比例，范围1~28，默认为28</td>
</tr><tr><td>name</td>
<td>String</td>
<td>否</td>
<td>位置名</td>
</tr><tr><td>address</td>
<td>String</td>
<td>否</td>
<td>地址的详细说明</td>
</tr><tr><td>success</td>
<td>Function</td>
<td>否</td>
<td>接口调用成功的回调函数</td>
</tr><tr><td>fail</td>
<td>Function</td>
<td>否</td>
<td>接口调用失败的回调函数</td>
</tr><tr><td>complete</td>
<td>Function</td>
<td>否</td>
<td>接口调用结束的回调函数（调用成功、失败都会执行）</td>
</tr></tbody></table>

<p><strong>示例代码：</strong></p><pre><code class="lang-javascript">wx.getLocation({
  type: <span class="hljs-string">'gcj02'</span>, <span class="hljs-comment">//返回可以用于wx.openLocation的经纬度</span>
  success: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">res</span>) </span>{
    <span class="hljs-keyword">var</span> latitude = res.latitude
    <span class="hljs-keyword">var</span> longitude = res.longitude
    wx.openLocation({
      latitude: latitude,
      longitude: longitude,
      scale: <span class="hljs-number">28</span>
    })
  }
})</code></pre>


                                </section>

    </div>
    <div class="search-results">
        <div class="has-results">

            <h1 class="search-results-title"><span class="search-results-count"></span> 个结果 "<span class="search-query"></span>"</h1>
            <ul class="search-results-list"></ul>

        </div>
        <div class="no-results">

            <h1 class="search-results-title">没有找到相关内容 "<span class="search-query"></span>"</h1>

        </div>
    </div>
</div>

                        </div>
                    </div>
<div class="page-wrapper" id="api/device.html?t=20161107" tabindex="-1" role="main">                        <div class="page-inner">
<h1 id=".$ulink.">设备</h1>
<div id="book-search-results">
    <div class="search-noresults">

                                <section class="normal markdown-section">

                                <h3 id="api/device.html?t=20161107#wxgetnetworktypeobject">wx.getNetworkType(OBJECT)</h3><p>获取网络类型。</p><p><strong>OBJECT参数说明：</strong></p><table>
<thead>
<tr><th>参数</th>
<th>类型</th>
<th>必填</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>success</td>
<td>Function</td>
<td>是</td>
<td>接口调用成功，返回网络类型 networkType</td>
</tr><tr><td>fail</td>
<td>Function</td>
<td>否</td>
<td>接口调用失败的回调函数</td>
</tr><tr><td>complete</td>
<td>Function</td>
<td>否</td>
<td>接口调用结束的回调函数（调用成功、失败都会执行）</td>
</tr></tbody></table>

<pre><code class="lang-javascript">wx.getNetworkType({
  success: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">res</span>) </span>{
    <span class="hljs-keyword">var</span> networkType = res.networkType <span class="hljs-comment">// 返回网络类型2g，3g，4g，wifi</span>
  }
})</code></pre>
<h3 id="api/device.html?t=20161107#wxgetsysteminfoobject">wx.getSystemInfo(OBJECT)</h3><p>获取系统信息。</p><p><strong>OBJECT参数说明：</strong></p><table>
<thead>
<tr><th>参数</th>
<th>类型</th>
<th>必填</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>success</td>
<td>Function</td>
<td>是</td>
<td>接口调用成功的回调</td>
</tr><tr><td>fail</td>
<td>Function</td>
<td>否</td>
<td>接口调用失败的回调函数</td>
</tr><tr><td>complete</td>
<td>Function</td>
<td>否</td>
<td>接口调用结束的回调函数（调用成功、失败都会执行）</td>
</tr></tbody></table>

<p><strong>success回调参数说明：</strong></p><table>
<thead>
<tr><th>属性</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>model</td>
<td>手机型号</td>
</tr><tr><td>pixelRatio</td>
<td>设备像素比</td>
</tr><tr><td>windowWidth</td>
<td>窗口宽度</td>
</tr><tr><td>windowHeight</td>
<td>窗口高度</td>
</tr><tr><td>language</td>
<td>微信设置的语言</td>
</tr><tr><td>version</td>
<td>微信版本号</td>
</tr></tbody></table>

<p><strong>示例代码：</strong></p><pre><code class="lang-javascript">wx.getSystemInfo({
  success: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">res</span>) </span>{
    <span class="hljs-built_in">console</span>.log(res.model)
    <span class="hljs-built_in">console</span>.log(res.pixelRatio)
    <span class="hljs-built_in">console</span>.log(res.windowWidth)
    <span class="hljs-built_in">console</span>.log(res.windowHeight)
    <span class="hljs-built_in">console</span>.log(res.language)
    <span class="hljs-built_in">console</span>.log(res.version)
  }
})</code></pre>
<h3 id="api/device.html?t=20161107#wxgetsysteminfosync">wx.getSystemInfoSync()</h3><p>获取系统信息同步接口</p><p><strong>示例代码：</strong></p><pre><code class="lang-javascript"><span class="hljs-keyword">try</span> {
  <span class="hljs-keyword">var</span> res = wx.getSystemInfoSync()
  <span class="hljs-built_in">console</span>.log(res.model)
  <span class="hljs-built_in">console</span>.log(res.pixelRatio)
  <span class="hljs-built_in">console</span>.log(res.windowWidth)
  <span class="hljs-built_in">console</span>.log(res.windowHeight)
  <span class="hljs-built_in">console</span>.log(res.language)
  <span class="hljs-built_in">console</span>.log(res.version)
} <span class="hljs-keyword">catch</span> (e) {
  <span class="hljs-comment">// Do something when catch error</span>
} </code></pre>
<h3 id="api/device.html?t=20161107#wxonaccelerometerchangecallback">wx.onAccelerometerChange(CALLBACK)</h3><p>监听重力感应数据，频率：5次/秒</p><p><strong>CALLBACK返回参数：</strong></p><table>
<thead>
<tr><th>参数</th>
<th>类型</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>x</td>
<td>Number</td>
<td>X 轴</td>
</tr><tr><td>y</td>
<td>Number</td>
<td>Y 轴</td>
</tr><tr><td>z</td>
<td>Number</td>
<td>Z 轴</td>
</tr></tbody></table>

<p><strong>示例代码：</strong></p><pre><code class="lang-javascript">wx.onAccelerometerChange(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">res</span>) </span>{
  <span class="hljs-built_in">console</span>.log(res.x)
  <span class="hljs-built_in">console</span>.log(res.y)
  <span class="hljs-built_in">console</span>.log(res.z)
})</code></pre>
<h3 id="api/device.html?t=20161107#wxoncompasschangecallback">wx.onCompassChange(CALLBACK)</h3><p>监听罗盘数据，频率：5次/秒</p><p><strong>CALLBACK返回参数：</strong></p><table>
<thead>
<tr><th>参数</th>
<th>类型</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>direction</td>
<td>Number</td>
<td>面对的方向度数</td>
</tr></tbody></table>

<p><strong>示例代码：</strong></p><pre><code class="lang-javascript">wx.onCompassChange(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">res</span>) </span>{
  <span class="hljs-built_in">console</span>.log(res.direction)
})</code></pre>
<h3 id="api/device.html?t=20161107#wxmakephonecallobject">wx.makePhoneCall(OBJECT)</h3><p><strong>OBJECT参数说明：</strong></p><table>
<thead>
<tr><th>参数</th>
<th>类型</th>
<th>必填</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>phoneNumber</td>
<td>String</td>
<td>是</td>
<td>需要拨打的电话号码</td>
</tr><tr><td>success</td>
<td>Function</td>
<td>否</td>
<td>接口调用成功的回调</td>
</tr><tr><td>fail</td>
<td>Function</td>
<td>否</td>
<td>接口调用失败的回调函数</td>
</tr><tr><td>complete</td>
<td>Function</td>
<td>否</td>
<td>接口调用结束的回调函数（调用成功、失败都会执行）</td>
</tr></tbody></table>

<p><strong>示例代码：</strong></p><pre><code class="lang-javascript">wx.makePhoneCall({
  phoneNumber: <span class="hljs-string">'1340000'</span> <span class="hljs-comment">//仅为示例，并非真实的电话号码</span>
})</code></pre>


                                </section>

    </div>
    <div class="search-results">
        <div class="has-results">

            <h1 class="search-results-title"><span class="search-results-count"></span> 个结果 "<span class="search-query"></span>"</h1>
            <ul class="search-results-list"></ul>

        </div>
        <div class="no-results">

            <h1 class="search-results-title">没有找到相关内容 "<span class="search-query"></span>"</h1>

        </div>
    </div>
</div>

                        </div>
                    </div>
<div class="page-wrapper" id="api/api-react.html?t=20161107" tabindex="-1" role="main">                        <div class="page-inner">
<h1 id=".$ulink.">界面</h1>
<div id="book-search-results">
    <div class="search-noresults">

                                <section class="normal markdown-section">

                                <h3 id="api/api-react.html?t=20161107#wxshowtoastobject">wx.showToast(OBJECT)</h3><p>显示消息提示框</p><p><strong>OBJECT参数说明：</strong></p><table>
<thead>
<tr><th>参数</th>
<th>类型</th>
<th>必填</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>title</td>
<td>String</td>
<td>是</td>
<td>提示的内容</td>
</tr><tr><td>icon</td>
<td>String</td>
<td>否</td>
<td>图标，只支持"success"、"loading"</td>
</tr><tr><td>duration</td>
<td>Number</td>
<td>否</td>
<td>提示的延迟时间，单位毫秒，默认：1500, 最大为10000</td>
</tr><tr><td>success</td>
<td>Function</td>
<td>否</td>
<td>接口调用成功的回调函数</td>
</tr><tr><td>fail</td>
<td>Function</td>
<td>否</td>
<td>接口调用失败的回调函数</td>
</tr><tr><td>complete</td>
<td>Function</td>
<td>否</td>
<td>接口调用结束的回调函数（调用成功、失败都会执行）</td>
</tr></tbody></table>

<p><strong>示例代码：</strong></p><pre><code class="lang-javascript">wx.showToast({
  title: <span class="hljs-string">'成功'</span>,
  icon: <span class="hljs-string">'success'</span>,
  duration: <span class="hljs-number">2000</span>
})</code></pre>
<h3 id="api/api-react.html?t=20161107#wxhidetoast">wx.hideToast()</h3><p>隐藏消息提示框</p><pre><code class="lang-javascript">wx.showToast({
  title: <span class="hljs-string">'加载中'</span>,
  icon: <span class="hljs-string">'loading'</span>,
  duration: <span class="hljs-number">10000</span>
})

setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
  wx.hideToast()
},<span class="hljs-number">2000</span>)</code></pre>
<h3 id="api/api-react.html?t=20161107#wxshowmodalobject">wx.showModal(OBJECT)</h3><p>​显示模态弹窗</p><p><strong>OBJECT参数说明：</strong></p><table>
<thead>
<tr><th>参数</th>
<th>类型</th>
<th>必填</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>title</td>
<td>String</td>
<td>是</td>
<td>提示的标题</td>
</tr><tr><td>content</td>
<td>String</td>
<td>是</td>
<td>提示的内容</td>
</tr><tr><td>showCancel</td>
<td>Boolean</td>
<td>否</td>
<td>是否显示取消按钮，默认为 true</td>
</tr><tr><td>cancelText</td>
<td>String</td>
<td>否</td>
<td>取消按钮的文字，默认为"取消"</td>
</tr><tr><td>cancelColor</td>
<td>HexColor</td>
<td>否</td>
<td>取消按钮的文字颜色，默认为"#000000"</td>
</tr><tr><td>confirmText</td>
<td>String</td>
<td>否</td>
<td>确定按钮的文字，默认为"确定"</td>
</tr><tr><td>confirmColor</td>
<td>HexColor</td>
<td>否</td>
<td>确定按钮的文字颜色，默认为"#3CC51F"</td>
</tr><tr><td>success</td>
<td>Function</td>
<td>否</td>
<td>接口调用成功的回调函数，返回res.confirm==1时，表示用户点击确定按钮</td>
</tr><tr><td>fail</td>
<td>Function</td>
<td>否</td>
<td>接口调用失败的回调函数</td>
</tr><tr><td>complete</td>
<td>Function</td>
<td>否</td>
<td>接口调用结束的回调函数（调用成功、失败都会执行）</td>
</tr></tbody></table>

<p><strong>示例代码：</strong></p><pre><code class="lang-javascript">wx.showModal({
  title: <span class="hljs-string">'提示'</span>,
  content: <span class="hljs-string">'这是一个模态弹窗'</span>,
  success: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">res</span>) </span>{
    <span class="hljs-keyword">if</span> (res.confirm) {
      <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'用户点击确定'</span>)
    }
  }
})</code></pre>
<h3 id="api/api-react.html?t=20161107#wxshowactionsheetobject">wx.showActionSheet(OBJECT)</h3><p>​显示操作菜单</p><p><strong>OBJECT参数说明：</strong></p><table>
<thead>
<tr><th>参数</th>
<th>类型</th>
<th>必填</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>itemList</td>
<td>String Array</td>
<td>是</td>
<td>按钮的文字数组，数组长度最大为6个</td>
</tr><tr><td>itemColor</td>
<td>HexColor</td>
<td>否</td>
<td>按钮的文字颜色，默认为"#000000"</td>
</tr><tr><td>success</td>
<td>Function</td>
<td>否</td>
<td>接口调用成功的回调函数，详见返回参数说明</td>
</tr><tr><td>fail</td>
<td>Function</td>
<td>否</td>
<td>接口调用失败的回调函数</td>
</tr><tr><td>complete</td>
<td>Function</td>
<td>否</td>
<td>接口调用结束的回调函数（调用成功、失败都会执行）</td>
</tr></tbody></table>

<p><strong>success返回参数说明：</strong></p><table>
<thead>
<tr><th>参数</th>
<th>类型</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>cancel</td>
<td>Boolean</td>
<td>用户是否取消选择</td>
</tr><tr><td>tapIndex</td>
<td>Number</td>
<td>用户点击的按钮，从上到下的顺序，从0开始</td>
</tr></tbody></table>

<p><strong>示例代码：</strong></p><pre><code class="lang-javascript">wx.showActionSheet({
  itemList: [<span class="hljs-string">'A'</span>, <span class="hljs-string">'B'</span>, <span class="hljs-string">'C'</span>],
  success: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">res</span>) </span>{
    <span class="hljs-keyword">if</span> (!res.cancel) {
      <span class="hljs-built_in">console</span>.log(res.tapIndex)
    }
  }
})</code></pre>


                                </section>

    </div>
    <div class="search-results">
        <div class="has-results">

            <h1 class="search-results-title"><span class="search-results-count"></span> 个结果 "<span class="search-query"></span>"</h1>
            <ul class="search-results-list"></ul>

        </div>
        <div class="no-results">

            <h1 class="search-results-title">没有找到相关内容 "<span class="search-query"></span>"</h1>

        </div>
    </div>
</div>

                        </div>
                    </div>
<div class="page-wrapper" id="api/ui.html?t=20161107" tabindex="-1" role="main">                        <div class="page-inner">
<h1 id=".$ulink.">设置导航条</h1>
<div id="book-search-results">
    <div class="search-noresults">

                                <section class="normal markdown-section">

                                <h3 id="api/ui.html?t=20161107#wxsetnavigationbartitleobject">wx.setNavigationBarTitle(OBJECT)</h3><p>动态设置当前页面的标题。</p><p><strong>OBJECT参数说明：</strong></p><table>
<thead>
<tr><th>参数</th>
<th>类型</th>
<th>必填</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>title</td>
<td>String</td>
<td>是</td>
<td>页面标题</td>
</tr><tr><td>success</td>
<td>Function</td>
<td>否</td>
<td>接口调用成功的回调函数</td>
</tr><tr><td>fail</td>
<td>Function</td>
<td>否</td>
<td>接口调用失败的回调函数</td>
</tr><tr><td>complete</td>
<td>Function</td>
<td>否</td>
<td>接口调用结束的回调函数（调用成功、失败都会执行）</td>
</tr></tbody></table>

<p><strong>示例代码：</strong></p><pre><code class="lang-javascript">wx.setNavigationBarTitle({
  title: <span class="hljs-string">'当前页面'</span>
})</code></pre>
<h3 id="api/ui.html?t=20161107#wxshownavigationbarloading">wx.showNavigationBarLoading()</h3><p>在当前页面显示导航条加载动画。</p><h3 id="api/ui.html?t=20161107#wxhidenavigationbarloading">wx.hideNavigationBarLoading()</h3><p>隐藏导航条加载动画。</p>

                                </section>

    </div>
    <div class="search-results">
        <div class="has-results">

            <h1 class="search-results-title"><span class="search-results-count"></span> 个结果 "<span class="search-query"></span>"</h1>
            <ul class="search-results-list"></ul>

        </div>
        <div class="no-results">

            <h1 class="search-results-title">没有找到相关内容 "<span class="search-query"></span>"</h1>

        </div>
    </div>
</div>

                        </div>
                    </div>
<div class="page-wrapper" id="api/ui-navigate.html?t=20161107" tabindex="-1" role="main">                        <div class="page-inner">
<h1 id=".$ulink.">导航</h1>
<div id="book-search-results">
    <div class="search-noresults">

                                <section class="normal markdown-section">

                                <h3 id="api/ui-navigate.html?t=20161107#wxnavigatetoobject">wx.navigateTo(OBJECT)</h3><p>保留当前页面，跳转到应用内的某个页面，使用<code>wx.navigateBack</code>可以返回到原页面。</p><p><strong>OBJECT参数说明：</strong></p><table>
<thead>
<tr><th>参数</th>
<th>类型</th>
<th>必填</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>url</td>
<td>String</td>
<td>是</td>
<td>需要跳转的应用内页面的路径 , 路径后可以带参数。参数与路径之间使用<code>?</code>分隔，参数键与参数值用<code>=</code>相连，不同参数用<code>&amp;</code>分隔；如 'path?key=value&amp;key2=value2'</td>
</tr><tr><td>success</td>
<td>Function</td>
<td>否</td>
<td>接口调用成功的回调函数</td>
</tr><tr><td>fail</td>
<td>Function</td>
<td>否</td>
<td>接口调用失败的回调函数</td>
</tr><tr><td>complete</td>
<td>Function</td>
<td>否</td>
<td>接口调用结束的回调函数（调用成功、失败都会执行）</td>
</tr></tbody></table>

<p><strong>示例代码：</strong></p><pre><code class="lang-javascript">wx.navigateTo({
  url: <span class="hljs-string">'test?id=1'</span>
})</code></pre>
<pre><code class="lang-javascript"><span class="hljs-comment">//test.js</span>
Page({
  onLoad: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">option</span>)</span>{
    <span class="hljs-built_in">console</span>.log(option.query)
  }
})</code></pre>
<p><strong>注意：为了不让用户在使用小程序时造成困扰，我们规定页面路径只能是五层，请尽量避免多层级的交互方式。</strong></p><h3 id="api/ui-navigate.html?t=20161107#wxredirecttoobject">wx.redirectTo(OBJECT)</h3><p>关闭当前页面，跳转到应用内的某个页面。</p><p><strong>OBJECT参数说明：</strong></p><table>
<thead>
<tr><th>参数</th>
<th>类型</th>
<th>必填</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>url</td>
<td>String</td>
<td>是</td>
<td>需要跳转的应用内页面的路径</td>
</tr><tr><td>success</td>
<td>Function</td>
<td>否</td>
<td>接口调用成功的回调函数</td>
</tr><tr><td>fail</td>
<td>Function</td>
<td>否</td>
<td>接口调用失败的回调函数</td>
</tr><tr><td>complete</td>
<td>Function</td>
<td>否</td>
<td>接口调用结束的回调函数（调用成功、失败都会执行）</td>
</tr></tbody></table>

<p><strong>示例代码：</strong></p><pre><code class="lang-javascript">wx.redirectTo({
  url: <span class="hljs-string">'test?id=1'</span>
})</code></pre>
<h3 id="api/ui-navigate.html?t=20161107#wxnavigatebackobject">wx.navigateBack(OBJECT)</h3><p>关闭当前页面，返回上一页面或多级页面。可通过 <a href="#framework/app-service/page.html%3Ft=20161107#getcurrentpages"><code>getCurrentPages()</code></a>) 获取当前的页面栈，决定需要返回几层。</p><p><strong>OBJECT参数说明：</strong></p><table>
<thead>
<tr><th>参数</th>
<th>类型</th>
<th>默认值</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>delta</td>
<td>Number</td>
<td>1</td>
<td>返回的页面数，如果 delta 大于现有页面数，则返回到首页。</td>
</tr></tbody></table>



                                </section>

    </div>
    <div class="search-results">
        <div class="has-results">

            <h1 class="search-results-title"><span class="search-results-count"></span> 个结果 "<span class="search-query"></span>"</h1>
            <ul class="search-results-list"></ul>

        </div>
        <div class="no-results">

            <h1 class="search-results-title">没有找到相关内容 "<span class="search-query"></span>"</h1>

        </div>
    </div>
</div>

                        </div>
                    </div>
<div class="page-wrapper" id="api/api-animation.html?t=20161107" tabindex="-1" role="main">                        <div class="page-inner">
<h1 id=".$ulink.">动画</h1>
<div id="book-search-results">
    <div class="search-noresults">

                                <section class="normal markdown-section">

                                <h3 id="api/api-animation.html?t=20161107#wxcreateanimationobject">wx.createAnimation(OBJECT)</h3><p>创建一个动画实例<a href="#api/api-animation.html%3Ft=20161107#animation">animation</a>。调用实例的方法来描述动画。最后通过动画实例的<code>export</code>方法导出动画数据传递给组件的<code>animation</code>属性。</p><p><strong>注意: <code>export</code> 方法每次调用后会清掉之前的动画操作 </strong></p><p><strong>OBJECT参数说明：</strong></p><table>
<thead>
<tr><th>参数</th>
<th>类型</th>
<th>必填</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>duration</td>
<td>Integer</td>
<td>否</td>
<td>动画持续时间，单位ms，默认值 400</td>
</tr><tr><td>timingFunction</td>
<td>String</td>
<td>否</td>
<td>定义动画的效果，默认值"linear"，有效值："linear","ease","ease-in","ease-in-out","ease-out","step-start","step-end"</td>
</tr><tr><td>delay</td>
<td>Integer</td>
<td>否</td>
<td>动画延迟时间，单位 ms，默认值 0</td>
</tr><tr><td>transformOrigin</td>
<td>String</td>
<td>否</td>
<td>设置transform-origin，默认为"50% 50% 0"</td>
</tr></tbody></table>

<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> animation = wx.createAnimation({
  transformOrigin: <span class="hljs-string">"50% 50%"</span>,
  duration: <span class="hljs-number">1000</span>,
  timingFunction: <span class="hljs-string">"ease"</span>,
  delay: <span class="hljs-number">0</span>
})</code></pre>
<h3 id="api/api-animation.html?t=20161107#animation">animation</h3><p>动画实例可以调用以下方法来描述动画，调用结束后会返回自身，支持链式调用的写法。</p><p>样式：</p><table>
<thead>
<tr><th>方法</th>
<th>参数</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>opacity</td>
<td>value</td>
<td>透明度，参数范围 0~1</td>
</tr><tr><td>backgroundColor</td>
<td>color</td>
<td>颜色值</td>
</tr><tr><td>width</td>
<td>length</td>
<td>长度值，如果传入 Number 则默认使用 px，可传入其他自定义单位的长度值</td>
</tr><tr><td>height</td>
<td>length</td>
<td>长度值，如果传入 Number 则默认使用 px，可传入其他自定义单位的长度值</td>
</tr><tr><td>top</td>
<td>length</td>
<td>长度值，如果传入 Number 则默认使用 px，可传入其他自定义单位的长度值</td>
</tr><tr><td>left</td>
<td>length</td>
<td>长度值，如果传入 Number 则默认使用 px，可传入其他自定义单位的长度值</td>
</tr><tr><td>bottom</td>
<td>length</td>
<td>长度值，如果传入 Number 则默认使用 px，可传入其他自定义单位的长度值</td>
</tr><tr><td>right</td>
<td>length</td>
<td>长度值，如果传入 Number 则默认使用 px，可传入其他自定义单位的长度值</td>
</tr></tbody></table>

<p>旋转：</p><table>
<thead>
<tr><th>方法</th>
<th>参数</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>rotate</td>
<td>deg</td>
<td>deg的范围-180~180，从原点顺时针旋转一个deg角度</td>
</tr><tr><td>rotateX</td>
<td>deg</td>
<td>deg的范围-180~180，在X轴旋转一个deg角度</td>
</tr><tr><td>rotateY</td>
<td>deg</td>
<td>deg的范围-180~180，在Y轴旋转一个deg角度</td>
</tr><tr><td>rotateZ</td>
<td>deg</td>
<td>deg的范围-180~180，在Z轴旋转一个deg角度</td>
</tr><tr><td>rotate3d</td>
<td>(x,y,z,deg)</td>
<td>同<a href="https://developer.mozilla.org/en-US/docs/Web/CSS/transform-function/rotate3d?t=20161107" target="_blank">transform-function rotate3d</a></td>
</tr></tbody></table>

<p>缩放：</p><table>
<thead>
<tr><th style="text-align:left">方法</th>
<th>参数</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td style="text-align:left">scale</td>
<td>sx,[sy]</td>
<td>一个参数时，表示在X轴、Y轴同时缩放sx倍数；两个参数时表示在X轴缩放sx倍数，在Y轴缩放sy倍数</td>
</tr><tr><td style="text-align:left">scaleX</td>
<td>sx</td>
<td>在X轴缩放sx倍数</td>
</tr><tr><td style="text-align:left">scaleY</td>
<td>sy</td>
<td>在Y轴缩放sy倍数</td>
</tr><tr><td style="text-align:left">scaleZ</td>
<td>sz</td>
<td>在Z轴缩放sy倍数</td>
</tr><tr><td style="text-align:left">scale3d</td>
<td>(sx,sy,sz)</td>
<td>在X轴缩放sx倍数，在Y轴缩放sy倍数，在Z轴缩放sz倍数</td>
</tr></tbody></table>

<p>偏移：</p><table>
<thead>
<tr><th>方法</th>
<th>参数</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>translate</td>
<td>tx,[ty]</td>
<td>一个参数时，表示在X轴偏移tx，单位px；两个参数时，表示在X轴偏移tx，在Y轴偏移ty，单位px。</td>
</tr><tr><td>translateX</td>
<td>tx</td>
<td>在X轴偏移tx，单位px</td>
</tr><tr><td>translateY</td>
<td>ty</td>
<td>在Y轴偏移tx，单位px</td>
</tr><tr><td>translateZ</td>
<td>tz</td>
<td>在Z轴偏移tx，单位px</td>
</tr><tr><td>translate3d</td>
<td>(tx,ty,tz)</td>
<td>在X轴偏移tx，在Y轴偏移ty，在Z轴偏移tz，单位px</td>
</tr></tbody></table>

<p>倾斜：</p><table>
<thead>
<tr><th>方法</th>
<th>参数</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>skew</td>
<td>ax,[ay]</td>
<td>参数范围-180~180；一个参数时，Y轴坐标不变，X轴坐标延顺时针倾斜ax度；两个参数时，分别在X轴倾斜ax度，在Y轴倾斜ay度</td>
</tr><tr><td>skewX</td>
<td>ax</td>
<td>参数范围-180~180；Y轴坐标不变，X轴坐标延顺时针倾斜ax度</td>
</tr><tr><td>skewY</td>
<td>ay</td>
<td>参数范围-180~180；X轴坐标不变，Y轴坐标延顺时针倾斜ay度</td>
</tr></tbody></table>

<p>矩阵变形：</p><table>
<thead>
<tr><th>方法</th>
<th>参数</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>matrix</td>
<td>(a,b,c,d,tx,ty)</td>
<td>同<a href="https://developer.mozilla.org/en-US/docs/Web/CSS/transform-function/matrix?t=20161107" target="_blank">transform-function matrix</a></td>
</tr><tr><td>matrix3d</td>
<td></td>
<td>同<a href="https://developer.mozilla.org/en-US/docs/Web/CSS/transform-function/matrix3d?t=20161107" target="_blank">transform-function matrix3d</a></td>
</tr></tbody></table>

<h3 id="api/api-animation.html?t=20161107#动画队列">动画队列</h3><p>调用动画操作方法后要调用 <code>step()</code> 来表示一组动画完成，可以在一组动画中调用任意多个动画方法，一组动画中的所有动画会同时开始，一组动画完成后才会进行下一组动画。step 可以传入一个跟 <code>wx.createAnimation()</code> 一样的配置参数用于指定当前组动画的配置。</p><p><strong>示例：</strong></p><pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">animation</span>=<span class="hljs-string">"{{animationData}}"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"background:red;height:100rpx;width:100rpx"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span></code></pre>
<pre><code class="lang-javascript">Page({
  data: {
    animationData: {}
  },
  onShow: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
    <span class="hljs-keyword">var</span> animation = wx.createAnimation({
      duration: <span class="hljs-number">1000</span>,
        timingFunction: <span class="hljs-string">'ease'</span>,
    })

    <span class="hljs-keyword">this</span>.animation = animation

    animation.scale(<span class="hljs-number">2</span>,<span class="hljs-number">2</span>).rotate(<span class="hljs-number">45</span>).step()

    <span class="hljs-keyword">this</span>.setData({
      animationData:animation.export()
    })

    setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
      animation.translate(<span class="hljs-number">30</span>).step()
      <span class="hljs-keyword">this</span>.setData({
        animationData:animation.export()
      })
    }.bind(<span class="hljs-keyword">this</span>), <span class="hljs-number">1000</span>)
  },
  rotateAndScale: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    <span class="hljs-comment">// 旋转同时放大</span>
    <span class="hljs-keyword">this</span>.animation.rotate(<span class="hljs-number">45</span>).scale(<span class="hljs-number">2</span>, <span class="hljs-number">2</span>).step()
    <span class="hljs-keyword">this</span>.setData({
      animationData: <span class="hljs-keyword">this</span>.animation.export()
    })
  },
  rotateThenScale: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    <span class="hljs-comment">// 先旋转后放大</span>
    <span class="hljs-keyword">this</span>.animation.rotate(<span class="hljs-number">45</span>).step()
    <span class="hljs-keyword">this</span>.animation.scale(<span class="hljs-number">2</span>, <span class="hljs-number">2</span>).step()
    <span class="hljs-keyword">this</span>.setData({
      animationData: <span class="hljs-keyword">this</span>.animation.export()
    })
  },
  rotateAndScaleThenTranslate: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    <span class="hljs-comment">// 先旋转同时放大，然后平移</span>
    <span class="hljs-keyword">this</span>.animation.rotate(<span class="hljs-number">45</span>).scale(<span class="hljs-number">2</span>, <span class="hljs-number">2</span>).step()
    <span class="hljs-keyword">this</span>.animation.translate(<span class="hljs-number">100</span>, <span class="hljs-number">100</span>).step({ duration: <span class="hljs-number">1000</span> })
    <span class="hljs-keyword">this</span>.setData({
      animationData: <span class="hljs-keyword">this</span>.animation.export()
    })
  }
})</code></pre>


                                </section>

    </div>
    <div class="search-results">
        <div class="has-results">

            <h1 class="search-results-title"><span class="search-results-count"></span> 个结果 "<span class="search-query"></span>"</h1>
            <ul class="search-results-list"></ul>

        </div>
        <div class="no-results">

            <h1 class="search-results-title">没有找到相关内容 "<span class="search-query"></span>"</h1>

        </div>
    </div>
</div>

                        </div>
                    </div>
<div class="page-wrapper" id="api/api-canvas.html?t=20161107" tabindex="-1" role="main">                        <div class="page-inner">
<h1 id=".$ulink.">绘图</h1>
<div id="book-search-results">
    <div class="search-noresults">

                                <section class="normal markdown-section">

                                <h3 id="api/api-canvas.html?t=20161107#wxcreatecontext">wx.createContext()</h3><p>创建并返回绘图上下文<code>context</code>对象。</p><h4 id="api/api-canvas.html?t=20161107#context">context</h4><p><code>context</code>只是一个记录方法调用的容器，用于生成记录绘制行为的<code>actions</code>数组。<code>context</code>跟<code>&lt;canvas/&gt;</code>不存在对应关系，一个context生成画布的绘制动作数组可以应用于多个<code>&lt;canvas/&gt;</code>。</p><pre><code class="lang-javascript"><span class="hljs-comment">// 假设页面上有3个画布</span>
<span class="hljs-keyword">var</span> canvas1Id = <span class="hljs-number">3001</span>
<span class="hljs-keyword">var</span> canvas2Id = <span class="hljs-number">3002</span>
<span class="hljs-keyword">var</span> canvas3Id = <span class="hljs-number">3003</span>

<span class="hljs-keyword">var</span> context = wx.createContext();

[canvas1Id, canvas2Id, canvas3Id].forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">id</span>) </span>{
  context.clearActions()
  <span class="hljs-comment">// 在context上调用方法</span>
  wx.drawCanvas({
    canvasId: id,
    actions: context.getActions()
  })
})</code></pre>
<p><strong>context对象的方法列表：</strong></p><table>
<thead>
<tr><th>方法</th>
<th>参数</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>getActions</td>
<td>无</td>
<td>获取当前<code>context</code>上存储的绘图动作</td>
</tr><tr><td>clearActions</td>
<td>无</td>
<td>清空当前的存储绘图动作</td>
</tr><tr><td>变形</td>
<td></td>
<td></td>
</tr><tr><td><a href="#api/api-canvas.html%3Ft=20161107#scale">scale</a></td>
<td></td>
<td>对横纵坐标进行缩放</td>
</tr><tr><td><a href="#api/api-canvas.html%3Ft=20161107#rotate">rotate</a></td>
<td></td>
<td>对坐标轴进行顺时针旋转</td>
</tr><tr><td><a href="#api/api-canvas.html%3Ft=20161107#translate">translate</a></td>
<td></td>
<td>对坐标原点进行缩放</td>
</tr><tr><td>save</td>
<td>无</td>
<td>保存当前坐标轴的缩放、旋转、平移信息</td>
</tr><tr><td>restore</td>
<td>无</td>
<td>恢复之前保存过的坐标轴的缩放、旋转、平移信息</td>
</tr><tr><td>绘制</td>
<td></td>
<td></td>
</tr><tr><td><a href="#api/api-canvas.html%3Ft=20161107#clearrect">clearRect</a></td>
<td></td>
<td>在给定的矩形区域内，清除画布上的像素</td>
</tr><tr><td><a href="#api/api-canvas.html%3Ft=20161107#filltext">fillText</a></td>
<td></td>
<td>在画布上绘制被填充的文本</td>
</tr><tr><td><a href="#api/api-canvas.html%3Ft=20161107#drawimage">drawImage</a></td>
<td></td>
<td>在画布上绘制图像</td>
</tr><tr><td>fill</td>
<td>无</td>
<td>对当前路径进行填充</td>
</tr><tr><td>stroke</td>
<td>无</td>
<td>对当前路径进行描边</td>
</tr><tr><td>路径</td>
<td></td>
<td></td>
</tr><tr><td><a href="#api/api-canvas.html%3Ft=20161107#beginpath">beginPath</a></td>
<td>无</td>
<td>开始一个路径</td>
</tr><tr><td><a href="#api/api-canvas.html%3Ft=20161107#closepath">closePath</a></td>
<td>无</td>
<td>关闭一个路径</td>
</tr><tr><td><a href="#api/api-canvas.html%3Ft=20161107#moveto">moveTo</a></td>
<td></td>
<td>把路径移动到画布中的指定点，但不创建线条。</td>
</tr><tr><td><a href="#api/api-canvas.html%3Ft=20161107#lineto">lineTo</a></td>
<td></td>
<td>添加一个新点，然后在画布中创建从该点到最后指定点的线条。</td>
</tr><tr><td><a href="#api/api-canvas.html%3Ft=20161107#rect">rect</a></td>
<td></td>
<td>添加一个矩形路径到当前路径。</td>
</tr><tr><td><a href="#api/api-canvas.html%3Ft=20161107#arc">arc</a></td>
<td></td>
<td>添加一个弧形路径到当前路径，顺时针绘制。</td>
</tr><tr><td><a href="#api/api-canvas.html%3Ft=20161107#quadraticcurveto">quadraticCurveTo</a></td>
<td></td>
<td>创建二次方贝塞尔曲线</td>
</tr><tr><td><a href="#api/api-canvas.html%3Ft=20161107#beziercurveto">bezierCurveTo</a></td>
<td></td>
<td>创建三次方贝塞尔曲线</td>
</tr><tr><td>样式</td>
<td></td>
<td></td>
</tr><tr><td><a href="#api/api-canvas.html%3Ft=20161107#setfillstyle">setFillStyle</a></td>
<td></td>
<td>设置填充样式</td>
</tr><tr><td><a href="#api/api-canvas.html%3Ft=20161107#setstrokestyle">setStrokeStyle</a></td>
<td></td>
<td>设置线条样式</td>
</tr><tr><td><a href="#api/api-canvas.html%3Ft=20161107#setglobalalpha">setGlobalAlpha</a></td>
<td></td>
<td>设置全局画笔透明度</td>
</tr><tr><td><a href="#api/api-canvas.html%3Ft=20161107#setshadow">setShadow</a></td>
<td></td>
<td>设置阴影</td>
</tr><tr><td><a href="#api/api-canvas.html%3Ft=20161107#setfontsize">setFontSize</a></td>
<td></td>
<td>设置字体大小</td>
</tr><tr><td><a href="#api/api-canvas.html%3Ft=20161107#setlinecap">setLineCap</a></td>
<td></td>
<td>设置线条端点的样式</td>
</tr><tr><td><a href="#api/api-canvas.html%3Ft=20161107#setlinejoin">setLineJoin</a></td>
<td></td>
<td>设置两线相交处的样式</td>
</tr><tr><td><a href="#api/api-canvas.html%3Ft=20161107#setlinewidth">setLineWidth</a></td>
<td></td>
<td>设置线条宽度</td>
</tr><tr><td><a href="#api/api-canvas.html%3Ft=20161107#setmiterlimit">setMiterLimit</a></td>
<td></td>
<td>设置最大倾斜</td>
</tr></tbody></table>

<p><strong>方法详解：</strong></p><h5 id="api/api-canvas.html?t=20161107#scale">scale</h5><p>在调用<code>scale</code>方法后，之后创建的路径其横纵坐标会被缩放。多次调用<code>scale</code>，倍数会相乘。</p><table>
<thead>
<tr><th>参数</th>
<th>类型</th>
<th>范围</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>scaleWidth</td>
<td>Number</td>
<td>1 = 100%，0.5 = 50%，2 = 200%，依次类推</td>
<td>横坐标缩放的倍数</td>
</tr><tr><td>scaleHeight</td>
<td>Number</td>
<td>1 = 100%，0.5 = 50%，2 = 200%，依次类推</td>
<td>纵坐标轴缩放的倍数</td>
</tr></tbody></table>

<p><strong>示例代码：<a href="demo/api-canvas.zip%3Ft=20161107">下载</a></strong></p><pre><code class="lang-html"><span class="hljs-comment">&lt;!--scale.wxml --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">canvas</span> <span class="hljs-attr">canvas-id</span>=<span class="hljs-string">"1"</span>/&gt;</span></code></pre>
<pre><code class="lang-javascript"><span class="hljs-comment">//scale.js</span>
Page({
  onReady: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
    <span class="hljs-keyword">var</span> context = wx.createContext()
    context.rect(<span class="hljs-number">5</span>, <span class="hljs-number">5</span>, <span class="hljs-number">25</span>, <span class="hljs-number">15</span>)
    context.stroke()
    context.scale(<span class="hljs-number">2</span>, <span class="hljs-number">2</span>) <span class="hljs-comment">//再放大2倍</span>
    context.rect(<span class="hljs-number">5</span>, <span class="hljs-number">5</span>, <span class="hljs-number">25</span>, <span class="hljs-number">15</span>)
    context.stroke()
    context.scale(<span class="hljs-number">2</span>, <span class="hljs-number">2</span>) <span class="hljs-comment">//再放大2倍</span>
    context.rect(<span class="hljs-number">5</span>, <span class="hljs-number">5</span>, <span class="hljs-number">25</span>, <span class="hljs-number">15</span>)
    context.stroke()
    wx.drawCanvas({
      canvasId: <span class="hljs-number">1</span>
      actions: context.getActions()
    })
  }
})</code></pre>
<p><img src="./image/scale.png%3Ft=20161107"></p><h5 id="api/api-canvas.html?t=20161107#rotate">rotate</h5><p>以原点为中心，原点可以用 <a href="#api/api-canvas.html%3Ft=20161107#translate">translate</a>方法修改。顺时针旋转当前坐标轴。多次调用<code>rotate</code>，旋转的角度会叠加。</p><table>
<thead>
<tr><th>参数</th>
<th>类型</th>
<th>范围</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>rotate</td>
<td>Number</td>
<td>degrees * Math.PI/180；degrees范围为0~360</td>
<td>旋转角度，以弧度计</td>
</tr></tbody></table>

<p><strong>示例代码：<a href="demo/api-canvas.zip%3Ft=20161107">下载</a></strong></p><pre><code class="lang-javascript"><span class="hljs-comment">//rotate.js</span>
Page({
  onReady: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
    <span class="hljs-keyword">var</span> context = wx.createContext()
    context.rect(<span class="hljs-number">50</span>, <span class="hljs-number">50</span>, <span class="hljs-number">200</span>, <span class="hljs-number">200</span>)
    context.stroke()
    context.rotate(<span class="hljs-number">5</span> * <span class="hljs-built_in">Math</span>.PI / <span class="hljs-number">180</span>)
    context.rect(<span class="hljs-number">50</span>, <span class="hljs-number">50</span>, <span class="hljs-number">200</span>, <span class="hljs-number">200</span>)
      context.stroke()
      context.rotate(<span class="hljs-number">5</span> * <span class="hljs-built_in">Math</span>.PI / <span class="hljs-number">180</span>)
      context.rect(<span class="hljs-number">50</span>, <span class="hljs-number">50</span>, <span class="hljs-number">200</span>, <span class="hljs-number">200</span>)
      context.stroke()

    wx.drawCanvas({
      canvasId: <span class="hljs-number">1</span>,
      actions: context.getActions()
    })
  }
})</code></pre>
<p><img src="./image/rotate.png%3Ft=20161107"></p><h5 id="api/api-canvas.html?t=20161107#translate">translate</h5><p>对当前坐标系的原点(0, 0)进行变换，默认的坐标系原点为页面左上角。</p><table>
<thead>
<tr><th>参数</th>
<th>类型</th>
<th>范围</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>x</td>
<td>Number</td>
<td></td>
<td>水平坐标平移量</td>
</tr><tr><td>y</td>
<td>Number</td>
<td></td>
<td>竖直坐标平移量</td>
</tr></tbody></table>

<p><strong>示例代码：<a href="demo/api-canvas.zip%3Ft=20161107">下载</a></strong></p><pre><code class="lang-javascript"><span class="hljs-comment">//translate.js</span>
Page({
  onReady: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> context = wx.createContext()

    context.rect(<span class="hljs-number">50</span>, <span class="hljs-number">50</span>, <span class="hljs-number">200</span>, <span class="hljs-number">200</span>)
    context.stroke()
    context.translate(<span class="hljs-number">50</span>, <span class="hljs-number">50</span>)
    context.rect(<span class="hljs-number">50</span>, <span class="hljs-number">50</span>, <span class="hljs-number">200</span>, <span class="hljs-number">200</span>)
    context.stroke()

    wx.drawCanvas({
      canvasId: <span class="hljs-number">1</span>,
      actions: context.getActions()
    })
  }
})</code></pre>
<p><img src="./image/translate.png%3Ft=20161107"></p><hr><h5 id="api/api-canvas.html?t=20161107#clearrect">clearRect</h5><p>清除画布上在该矩形区域内的内容。</p><table>
<thead>
<tr><th>参数</th>
<th>类型</th>
<th>范围</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>x</td>
<td>Number</td>
<td></td>
<td>矩形区域左上角的x坐标</td>
</tr><tr><td>y</td>
<td>Number</td>
<td></td>
<td>矩形区域左上角的y坐标</td>
</tr><tr><td>width</td>
<td>Number</td>
<td></td>
<td>矩形区域的宽度</td>
</tr><tr><td>height</td>
<td>Number</td>
<td></td>
<td>矩形区域的高度</td>
</tr></tbody></table>

<p><strong>示例代码：<a href="demo/api-canvas.zip%3Ft=20161107">下载</a></strong></p><pre><code class="lang-javascript"><span class="hljs-comment">//clearrect.js</span>
Page({
  onReady: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> context = wx.createContext()

    context.rect(<span class="hljs-number">50</span>, <span class="hljs-number">50</span>, <span class="hljs-number">200</span>, <span class="hljs-number">200</span>)
    context.fill()
    context.clearRect(<span class="hljs-number">100</span>, <span class="hljs-number">100</span>, <span class="hljs-number">50</span>, <span class="hljs-number">50</span>)

    wx.drawCanvas({
      canvasId: <span class="hljs-number">1</span>,
      actions: context.getActions()
    })
  }
})</code></pre>
<p><img src="./image/clearrect.png%3Ft=20161107"></p><h5 id="api/api-canvas.html?t=20161107#drawimage">drawImage</h5><p>绘制图像，图像保持原始尺寸。</p><table>
<thead>
<tr><th>参数</th>
<th>类型</th>
<th>范围</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>imageResource</td>
<td>String</td>
<td>通过<code>chooseImage</code>得到一个文件路径或者一个项目目录内的图片</td>
<td>所要绘制的图片资源</td>
</tr><tr><td>x</td>
<td>Number</td>
<td></td>
<td>图像左上角的x坐标</td>
</tr><tr><td>y</td>
<td>Number</td>
<td></td>
<td>图像左上角的y坐标</td>
</tr><tr><td>width</td>
<td>Number</td>
<td></td>
<td>图像宽度</td>
</tr><tr><td>height</td>
<td>Number</td>
<td></td>
<td>图像高度</td>
</tr></tbody></table>

<p><strong>示例：<a href="demo/api-canvas.zip%3Ft=20161107">下载</a></strong></p><pre><code class="lang-javascript"><span class="hljs-comment">//drawimage.js</span>
Page({
  onReady: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
    <span class="hljs-keyword">var</span> context = wx.createContext()
    wx.chooseImage({
      success: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">res</span>) </span>{
        context.drawImage(res.tempFilePaths[<span class="hljs-number">0</span>], <span class="hljs-number">0</span>, <span class="hljs-number">0</span>)
        wx.drawCanvas({
          canvasId: <span class="hljs-number">1</span>,
          actions: context.getActions()
        })
      }
    })
  }
})</code></pre>
<p><img src="./image/drawimage.png%3Ft=20161107"></p><h5 id="api/api-canvas.html?t=20161107#filltext">fillText</h5><p>在画布上绘制被填充的文本。</p><table>
<thead>
<tr><th>参数</th>
<th>类型</th>
<th>范围</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>text</td>
<td>String</td>
<td></td>
<td>在画布上输出的文本</td>
</tr><tr><td>x</td>
<td>Number</td>
<td></td>
<td>绘制文本的左上角x坐标位置</td>
</tr><tr><td>y</td>
<td>Number</td>
<td></td>
<td>绘制文本的左上角y坐标位置</td>
</tr></tbody></table>

<p><strong>示例代码：<a href="demo/api-canvas.zip%3Ft=20161107">下载</a></strong></p><pre><code class="lang-javascript"><span class="hljs-comment">//filltext.js</span>
Page({
  onReady:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
    <span class="hljs-keyword">var</span> context = wx.createContext()

    context.setFontSize(<span class="hljs-number">14</span>)
    context.fillText(<span class="hljs-string">"MINA"</span>, <span class="hljs-number">50</span>, <span class="hljs-number">50</span>)
    context.moveTo(<span class="hljs-number">0</span>, <span class="hljs-number">50</span>)
    context.lineTo(<span class="hljs-number">100</span>, <span class="hljs-number">50</span>)
    context.stroke()

    context.setFontSize(<span class="hljs-number">20</span>)
    context.fillText(<span class="hljs-string">"MINA"</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>)
    context.moveTo(<span class="hljs-number">0</span>, <span class="hljs-number">100</span>)
    context.lineTo(<span class="hljs-number">200</span>, <span class="hljs-number">100</span>)
    context.stroke()
    wx.drawCanvas({
      canvasId: <span class="hljs-number">1</span>,
      actions: context.getActions()
    });
  }
})</code></pre>
<p><img src="./image/filltext.png%3Ft=20161107"></p><hr><h5 id="api/api-canvas.html?t=20161107#beginpath">beginPath</h5><p>开始创建一个路径，需要调用fill或者stroke才会使用路径进行填充或描边。同一个路径内的多次<code>setFillStyle</code>、<code>setStrokeStyle</code>、<code>setLineWidth</code>等设置，以最后一次设置为准。</p><h5 id="api/api-canvas.html?t=20161107#closepage">closePage</h5><p>关闭一个路径。</p><h5 id="api/api-canvas.html?t=20161107#moveto">moveTo</h5><p>把路径移动到画布中的指定点，不创建线条。</p><table>
<thead>
<tr><th>参数</th>
<th>类型</th>
<th>范围</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>x</td>
<td>Number</td>
<td></td>
<td>目标位置的x坐标</td>
</tr><tr><td>y</td>
<td>Number</td>
<td></td>
<td>目标位置的y坐标</td>
</tr></tbody></table>

<h5 id="api/api-canvas.html?t=20161107#lineto">lineTo</h5><p>在当前位置添加一个新点，然后在画布中创建从该点到最后指定点的路径。</p><table>
<thead>
<tr><th>参数</th>
<th>类型</th>
<th>范围</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>x</td>
<td>Number</td>
<td></td>
<td>目标位置的x坐标</td>
</tr><tr><td>y</td>
<td>Number</td>
<td></td>
<td>目标位置的y坐标</td>
</tr></tbody></table>

<h5 id="api/api-canvas.html?t=20161107#rect">rect</h5><p>添加一个矩形路径到当前路径。</p><table>
<thead>
<tr><th>参数</th>
<th>类型</th>
<th>范围</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>x</td>
<td>Number</td>
<td></td>
<td>矩形路径左上角的x坐标</td>
</tr><tr><td>y</td>
<td>Number</td>
<td></td>
<td>矩形路径左上角的y坐标</td>
</tr><tr><td>width</td>
<td>Number</td>
<td></td>
<td>矩形路径的宽度</td>
</tr><tr><td>height</td>
<td>Number</td>
<td></td>
<td>矩形路径的高度</td>
</tr></tbody></table>

<h5 id="api/api-canvas.html?t=20161107#arc">arc</h5><p>添加一个弧形路径到当前路径，顺时针绘制。</p><table>
<thead>
<tr><th>参数</th>
<th>类型</th>
<th>范围</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>x</td>
<td>Number</td>
<td></td>
<td>矩形路径左上角的x坐标</td>
</tr><tr><td>y</td>
<td>Number</td>
<td></td>
<td>矩形路径左上角的y坐标</td>
</tr><tr><td>radius</td>
<td>Number</td>
<td></td>
<td>矩形路径的宽度</td>
</tr><tr><td>startAngle</td>
<td>Number</td>
<td>弧度, 0到2pi</td>
<td>起始弧度</td>
</tr><tr><td>sweepAngle</td>
<td>Number</td>
<td>弧度, 0到2pi</td>
<td>从起始弧度开始，扫过的弧度</td>
</tr></tbody></table>

<h5 id="api/api-canvas.html?t=20161107#quadraticcurveto">quadraticCurveTo</h5><p>创建二次贝塞尔曲线路径。</p><table>
<thead>
<tr><th>参数</th>
<th>类型</th>
<th>范围</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>cpx</td>
<td>Number</td>
<td></td>
<td>贝塞尔控制点的x坐标</td>
</tr><tr><td>cpy</td>
<td>Number</td>
<td></td>
<td>贝塞尔控制点的y坐标</td>
</tr><tr><td>x</td>
<td>Number</td>
<td></td>
<td>结束点的x坐标</td>
</tr><tr><td>y</td>
<td>Number</td>
<td></td>
<td>结束点的y坐标</td>
</tr></tbody></table>

<h5 id="api/api-canvas.html?t=20161107#beziercurveto">bezierCurveTo</h5><p>创建三次方贝塞尔曲线路径。</p><table>
<thead>
<tr><th>参数</th>
<th>类型</th>
<th>范围</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>cp1x</td>
<td>Number</td>
<td></td>
<td>第一个贝塞尔控制点的 x 坐标</td>
</tr><tr><td>cp1y</td>
<td>Number</td>
<td></td>
<td>第一个贝塞尔控制点的 y 坐标</td>
</tr><tr><td>cp2x</td>
<td>Number</td>
<td></td>
<td>第二个贝塞尔控制点的 x 坐标</td>
</tr><tr><td>cp2y</td>
<td>Number</td>
<td></td>
<td>第二个贝塞尔控制点的 y 坐标</td>
</tr><tr><td>x</td>
<td>Number</td>
<td></td>
<td>结束点的 x 坐标</td>
</tr><tr><td>y</td>
<td>Number</td>
<td></td>
<td>结束点的 y 坐标</td>
</tr></tbody></table>

<hr><h5 id="api/api-canvas.html?t=20161107#setfillstyle">setFillStyle</h5><p>设置纯色填充。</p><p><strong>设置颜色为填充样式</strong></p><table>
<thead>
<tr><th>参数</th>
<th>类型</th>
<th>范围</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>color</td>
<td>String</td>
<td>'rgb(255, 0, 0)'或'rgba(255, 0, 0, 0.6)'或'#ff0000'格式的颜色字符串</td>
<td>设置为填充样式的颜色</td>
</tr></tbody></table>

<h5 id="api/api-canvas.html?t=20161107#setstrokestyle">setStrokeStyle</h5><p>设置纯色描边，参数同 <a href="#api/api-canvas.html%3Ft=20161107#setfillstyle">setFillStyle</a>。</p><p><strong>示例代码：<a href="demo/api-canvas.zip%3Ft=20161107">下载</a></strong></p><pre><code class="lang-javascript"><span class="hljs-comment">//setfillstyle.js</span>
Page({
  onReady: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
    <span class="hljs-keyword">var</span> context = wx.createContext()

    context.setFillStyle(<span class="hljs-string">"#ff00ff"</span>)
    context.setStrokeStyle(<span class="hljs-string">"#00ffff"</span>)

    context.rect(<span class="hljs-number">50</span>, <span class="hljs-number">50</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>)
    context.fill()
    context.stroke()
    wx.drawCanvas({
      canvasId: <span class="hljs-number">1</span>,
      actions: context.getActions()
    });
  }
})</code></pre>
<p><img src="./image/setfillstyle.png%3Ft=20161107"></p><h5 id="api/api-canvas.html?t=20161107#setglobalalpha">setGlobalAlpha</h5><p>设置全局画笔透明度。</p><table>
<thead>
<tr><th>参数</th>
<th>类型</th>
<th>范围</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>alpha</td>
<td>Number</td>
<td>0~1</td>
<td>透明度，0 表示完全透明，1 表示完全不透明</td>
</tr></tbody></table>

<h5 id="api/api-canvas.html?t=20161107#setshadow">setShadow</h5><p>设置阴影样式。</p><table>
<thead>
<tr><th>参数</th>
<th>类型</th>
<th>范围</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>offsetX</td>
<td>Number</td>
<td></td>
<td>阴影相对于形状在水平方向的偏移</td>
</tr><tr><td>offsetY</td>
<td>Number</td>
<td></td>
<td>阴影相对于形状在竖直方向的偏移</td>
</tr><tr><td>blur</td>
<td>Number</td>
<td>0~100</td>
<td>阴影的模糊级别，数值越大越模糊</td>
</tr><tr><td>color</td>
<td>Color</td>
<td>'rgb(255, 0, 0)'或'rgba(255, 0, 0, 0.6)'或'#ff0000'格式的颜色字符串</td>
<td>阴影的颜色</td>
</tr></tbody></table>

<h5 id="api/api-canvas.html?t=20161107#setfontsize">setFontSize</h5><p>设置字体的字号。</p><table>
<thead>
<tr><th>参数</th>
<th>类型</th>
<th>范围</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>fontSize</td>
<td>Number</td>
<td></td>
<td>字体的字号</td>
</tr></tbody></table>

<h5 id="api/api-canvas.html?t=20161107#setlinewidth">setLineWidth</h5><p>设置线条的宽度。</p><table>
<thead>
<tr><th>参数</th>
<th>类型</th>
<th>范围</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>lineWidth</td>
<td>Number</td>
<td></td>
<td>线条的宽度</td>
</tr></tbody></table>

<h5 id="api/api-canvas.html?t=20161107#setlinecap">setLineCap</h5><p>设置线条的结束端点样式。</p><table>
<thead>
<tr><th>参数</th>
<th>类型</th>
<th>范围</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>lineCap</td>
<td>String</td>
<td>'butt'、'round'、'square'</td>
<td>线条的结束端点样式</td>
</tr></tbody></table>

<h5 id="api/api-canvas.html?t=20161107#setlinejoin">setLineJoin</h5><p>设置两条线相交时，所创建的拐角类型。</p><table>
<thead>
<tr><th>参数</th>
<th>类型</th>
<th>范围</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>lineJoin</td>
<td>String</td>
<td>'bevel'、'round'、'miter'</td>
<td>两条线相交时，所创建的拐角类型</td>
</tr></tbody></table>

<h5 id="api/api-canvas.html?t=20161107#setmiterlimit">setMiterLimit</h5><p>设置最大斜接长度，斜接长度指的是在两条线交汇处内角和外角之间的距离。 当 <a href="#api/api-canvas.html%3Ft=20161107#setlinejoin">setLineJoin</a>为 miter 时才有效。超过最大倾斜长度的，连接处将以 lineJoin 为 bevel 来显示</p><table>
<thead>
<tr><th>参数</th>
<th>类型</th>
<th>范围</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>miterLimit</td>
<td>Number</td>
<td></td>
<td>最大斜接长度</td>
</tr></tbody></table>

<p><strong>示例代码：<a href="demo/api-canvas.zip%3Ft=20161107">下载</a></strong></p><pre><code class="lang-javascript"><span class="hljs-comment">//line.js</span>
Page({
  onReady: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
    <span class="hljs-keyword">var</span> context = wx.createContext()

    context.setLineWidth(<span class="hljs-number">10</span>)
    context.setLineCap(<span class="hljs-string">"round"</span>)
    context.setLineJoin(<span class="hljs-string">"miter"</span>)
    context.setMiterLimit(<span class="hljs-number">10</span>)
    context.moveTo(<span class="hljs-number">20</span>, <span class="hljs-number">20</span>)
    context.lineTo(<span class="hljs-number">150</span>, <span class="hljs-number">27</span>)
    context.lineTo(<span class="hljs-number">20</span>, <span class="hljs-number">54</span>)
    context.stroke()

    context.beginPath()

    context.setMiterLimit(<span class="hljs-number">3</span>)
    context.moveTo(<span class="hljs-number">20</span>, <span class="hljs-number">70</span>)
    context.lineTo(<span class="hljs-number">150</span>, <span class="hljs-number">77</span>)
    context.lineTo(<span class="hljs-number">20</span>, <span class="hljs-number">104</span>)
    context.stroke()

    wx.drawCanvas({
      canvasId: <span class="hljs-number">1</span>,
      actions: context.getActions()
    });
  }
})</code></pre>
<p><img src="./image/line.png%3Ft=20161107"></p><hr><h3 id="api/api-canvas.html?t=20161107#wxdrawcanvasobject">wx.drawCanvas(OBJECT)</h3><p><strong>OBJECT参数说明：</strong></p><table>
<thead>
<tr><th>参数</th>
<th>类型</th>
<th>必填</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>canvasId</td>
<td>String</td>
<td>是</td>
<td>画布标识，传入 <a href="#wxml/component/canvas.md%3Ft=20161107"><code>&lt;canvas/&gt;</code></a> 的 cavas-id</td>
</tr><tr><td>actions</td>
<td>Array</td>
<td>是</td>
<td>绘图动作数组，由 wx.createContext 创建的 context，调用 getActions 方法导出绘图动作数组。</td>
</tr><tr><td>reserve</td>
<td>Boolean</td>
<td>否</td>
<td>本次绘制是否接着上一次绘制，即reserve参数为false，则在本次调用drawCanvas绘制之前native层应先清空画布再继续绘制；若reserver参数为true，则保留当前画布上的内容，本次调用drawCanvas绘制的内容覆盖在上面，默认 false</td>
</tr></tbody></table>

<p><strong>示例：<a href="demo/api-canvas.zip%3Ft=20161107">下载</a></strong></p><pre><code class="lang-html"><span class="hljs-comment">&lt;!--canvas.wxml--&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">canvas</span> <span class="hljs-attr">cavas-id</span>=<span class="hljs-string">"firstCanvas"</span>/&gt;</span></code></pre>
<pre><code class="lang-javascript"><span class="hljs-comment">// index.js</span>
Page({
  canvasIdErrorCallback: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) </span>{
    <span class="hljs-built_in">console</span>.error(e.detail.errMsg)
  },
  onReady: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
    <span class="hljs-comment">//使用wx.createContext获取绘图上下文context</span>
    <span class="hljs-keyword">var</span> context = wx.createContext()

    context.setStrokeStyle(<span class="hljs-string">"#00ff00"</span>)
    context.setLineWidth(<span class="hljs-number">5</span>)
    context.rect(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">200</span>, <span class="hljs-number">200</span>)
    context.stroke()
    context.setStrokeStyle(<span class="hljs-string">"#ff0000"</span>)
    context.setLineWidth(<span class="hljs-number">2</span>)
    context.moveTo(<span class="hljs-number">160</span>, <span class="hljs-number">100</span>)
    context.arc(<span class="hljs-number">100</span>, <span class="hljs-number">100</span>, <span class="hljs-number">60</span>, <span class="hljs-number">0</span>,<span class="hljs-number">2</span> * <span class="hljs-built_in">Math</span>.PI, <span class="hljs-literal">true</span>)
    context.moveTo(<span class="hljs-number">140</span>, <span class="hljs-number">100</span>)
    context.arc(<span class="hljs-number">100</span>, <span class="hljs-number">100</span>, <span class="hljs-number">40</span>, <span class="hljs-number">0</span>, <span class="hljs-built_in">Math</span>.PI, <span class="hljs-literal">false</span>)
    context.moveTo(<span class="hljs-number">85</span>, <span class="hljs-number">80</span>)
    context.arc(<span class="hljs-number">80</span>, <span class="hljs-number">80</span>, <span class="hljs-number">5</span>, <span class="hljs-number">0</span>,<span class="hljs-number">2</span> * <span class="hljs-built_in">Math</span>.PI, <span class="hljs-literal">true</span>)
    context.moveTo(<span class="hljs-number">125</span>, <span class="hljs-number">80</span>)
    context.arc(<span class="hljs-number">120</span>, <span class="hljs-number">80</span>, <span class="hljs-number">5</span>, <span class="hljs-number">0</span>, <span class="hljs-number">2</span> * <span class="hljs-built_in">Math</span>.PI, <span class="hljs-literal">true</span>)
    context.stroke()

    <span class="hljs-comment">// 调用 wx.drawCanvas，通过 canvasId 指定在哪张画布上绘制，通过 actions 指定绘制行为</span>
    wx.drawCanvas({
      canvasId: <span class="hljs-string">'firstCanvas'</span>,
      actions: context.getActions() <span class="hljs-comment">// 获取绘图动作数组</span>
    })
  }
})</code></pre>
<h3 id="api/api-canvas.html?t=20161107#wxcanvastotempfilepathobject">wx.canvasToTempFilePath(OBJECT)</h3><p>把当前画布的内容导出生成图片，并返回文件路径</p><p><strong>OBJECT参数说明：</strong></p><table>
<thead>
<tr><th>参数</th>
<th>类型</th>
<th>必填</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>canvasId</td>
<td>String</td>
<td>是</td>
<td>画布标识，传入 <a href="#wxml/component/canvas.md%3Ft=20161107"><code>&lt;canvas/&gt;</code></a> 的 cavas-id</td>
</tr></tbody></table>



                                </section>

    </div>
    <div class="search-results">
        <div class="has-results">

            <h1 class="search-results-title"><span class="search-results-count"></span> 个结果 "<span class="search-query"></span>"</h1>
            <ul class="search-results-list"></ul>

        </div>
        <div class="no-results">

            <h1 class="search-results-title">没有找到相关内容 "<span class="search-query"></span>"</h1>

        </div>
    </div>
</div>

                        </div>
                    </div>
<div class="page-wrapper" id="api/ui-other.html?t=20161107" tabindex="-1" role="main">                        <div class="page-inner">
<h1 id=".$ulink.">其他</h1>
<div id="book-search-results">
    <div class="search-noresults">

                                <section class="normal markdown-section">

                                <h3 id="api/ui-other.html?t=20161107#wxhidekeyboard">wx.hideKeyboard()</h3><p>收起键盘。</p><h3 id="api/ui-other.html?t=20161107#wxstoppulldownrefresh">wx.stopPullDownRefresh()</h3><p>停止当前页面下拉刷新。详见<a href="#framework/app-service/page.html%3Ft=20161107#页面相关事件处理函数">页面相关事件处理函数</a>。</p>

                                </section>

    </div>
    <div class="search-results">
        <div class="has-results">

            <h1 class="search-results-title"><span class="search-results-count"></span> 个结果 "<span class="search-query"></span>"</h1>
            <ul class="search-results-list"></ul>

        </div>
        <div class="no-results">

            <h1 class="search-results-title">没有找到相关内容 "<span class="search-query"></span>"</h1>

        </div>
    </div>
</div>

                        </div>
                    </div>
<div class="page-wrapper" id="api/api-login.html?t=20161107" tabindex="-1" role="main">                        <div class="page-inner">
<h1 id=".$ulink.">开放接口</h1>
<div id="book-search-results">
    <div class="search-noresults">

                                <section class="normal markdown-section">

                                <h3 id="api/api-login.html?t=20161107#wxloginobject">wx.login(OBJECT)</h3><p>调用接口获取<strong>登录凭证（code）</strong>进而换取用户登录态信息，包括用户的<strong>唯一标识（openid）</strong> 及本次登录的 <strong>会话密钥（session_key）</strong>。<strong>用户数据的加解密通讯</strong>需要依赖会话密钥完成。</p><p><strong>OBJECT参数说明：</strong></p><table>
<thead>
<tr><th>参数名</th>
<th>类型</th>
<th>必填</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>success</td>
<td>Function</td>
<td>否</td>
<td>接口调用成功的回调函数</td>
</tr><tr><td>fail</td>
<td>Function</td>
<td>否</td>
<td>接口调用失败的回调函数</td>
</tr><tr><td>complete</td>
<td>Function</td>
<td>否</td>
<td>接口调用结束的回调函数（调用成功、失败都会执行）</td>
</tr></tbody></table>

<p><strong>success返回参数说明：</strong></p><table>
<thead>
<tr><th>参数名</th>
<th>类型</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>errMsg</td>
<td>String</td>
<td>调用结果</td>
</tr><tr><td>code</td>
<td>String</td>
<td>用户允许登录后，回调内容会带上 code（有效期五分钟），开发者需要将 code 发送到开发者服务器后台，使用<code>code 换取 session_key</code> api，将 code 换成 openid 和 session_key</td>
</tr></tbody></table>

<p><strong>示例代码：</strong></p><pre><code class="lang-javascript"><span class="hljs-comment">//app.js</span>
App({
  onLaunch: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    wx.login({
      success: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">res</span>) </span>{
        <span class="hljs-keyword">if</span> (res.code) {
          <span class="hljs-comment">//发起网络请求</span>
          wx.request({
            url: <span class="hljs-string">'https://test.com/onLogin'</span>,
            data: {
              code: res.code
            }
          })
        } <span class="hljs-keyword">else</span> {
          <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'获取用户登录态失败！'</span> + res.errMsg)
        }
      }
    });
  }
})</code></pre>
<h3 id="api/api-login.html?t=20161107#code-换取-sessionkey">code 换取 session_key</h3><p>​    这是一个 HTTP 接口，开发者服务器使用<strong>登录凭证 code </strong>获取 session_key 和 openid。其中 session_key 是对用户数据进行<a href="#api/signature.html%3Ft=20161107">加密签名</a>的密钥。为了自身应用安全，<strong>session_key 不应该在网络上传输</strong>。</p><p><strong>接口地址：</strong></p><pre><code>https://api.weixin.qq.com/sns/jscode2session?appid=APPID&amp;secret=SECRET&amp;js_code=JSCODE&amp;grant_type=authorization_code</code></pre>
<p><strong>请求参数：</strong></p><table>
<thead>
<tr><th style="text-align:left">参数</th>
<th>必填</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td style="text-align:left">appid</td>
<td>是</td>
<td>小程序唯一标识</td>
</tr><tr><td style="text-align:left">secret</td>
<td>是</td>
<td>小程序的 app secret</td>
</tr><tr><td style="text-align:left">js_code</td>
<td>是</td>
<td>登录时获取的 code</td>
</tr><tr><td style="text-align:left">grant_type</td>
<td>是</td>
<td>填写为 authorization_code</td>
</tr></tbody></table>

<p><strong>返回参数：</strong></p><table>
<thead>
<tr><th style="text-align:left">参数</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td style="text-align:left">openid</td>
<td>用户唯一标识</td>
</tr><tr><td style="text-align:left">session_key</td>
<td>会话密钥</td>
</tr><tr><td style="text-align:left">expires_in</td>
<td>会话有效期, 以秒为单位, 例如2592000代表会话有效期为30天</td>
</tr></tbody></table>

<p><strong>返回说明：</strong></p><pre><code class="lang-javascript"><span class="hljs-comment">//正常返回的JSON数据包</span>
{
      <span class="hljs-string">"openid"</span>: <span class="hljs-string">"OPENID"</span>,
      <span class="hljs-string">"session_key"</span>: <span class="hljs-string">"SESSIONKEY"</span>
      <span class="hljs-string">"expires_in"</span>: <span class="hljs-number">2592000</span>
}
<span class="hljs-comment">//错误时返回JSON数据包(示例为Code无效)</span>
{
    <span class="hljs-string">"errcode"</span>: <span class="hljs-number">40029</span>,
    <span class="hljs-string">"errmsg"</span>: <span class="hljs-string">"invalid code"</span>
}</code></pre>
<h2 id="api/api-login.html?t=20161107#登录态维护">登录态维护</h2><p>通过 <code>wx.login()</code> 获取到用户登录态之后，需要维护登录态。开发者要注意<strong>不应该直接把 session_key、openid 等字段作为用户的标识或者 session 的标识</strong>，而应该自己派发一个 session 登录态（请参考登录时序图）。对于开发者自己生成的 session，应该保证其安全性且不应该设置较长的过期时间。session 派发到小程序客户端之后，可将其存储在 storage ，用于后续通信使用。</p><h3 id="api/api-login.html?t=20161107#登录时序图">登录时序图</h3><p><img src="./image/login.png%3Ft=20161107"></p><h3 id="api/api-login.html?t=20161107#wxchecksessionobject">wx.checkSession(OBJECT)</h3><p>检查登陆态是否过期</p><table>
<thead>
<tr><th>参数名</th>
<th>类型</th>
<th>必填</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>success</td>
<td>Function</td>
<td>否</td>
<td>接口调用成功的回调函数，登陆态未过期</td>
</tr><tr><td>fail</td>
<td>Function</td>
<td>否</td>
<td>接口调用失败的回调函数，登陆态已过期</td>
</tr><tr><td>complete</td>
<td>Function</td>
<td>否</td>
<td>接口调用结束的回调函数（调用成功、失败都会执行）</td>
</tr></tbody></table>

<p><strong>示例代码：</strong></p><pre><code class="lang-javascript">wx.checkSession({
  success: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
    <span class="hljs-comment">//登录态未过期</span>
  },
  fail: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
    <span class="hljs-comment">//登录态过期</span>
    wx.login()
  }
})</code></pre>


                                </section>

    </div>
    <div class="search-results">
        <div class="has-results">

            <h1 class="search-results-title"><span class="search-results-count"></span> 个结果 "<span class="search-query"></span>"</h1>
            <ul class="search-results-list"></ul>

        </div>
        <div class="no-results">

            <h1 class="search-results-title">没有找到相关内容 "<span class="search-query"></span>"</h1>

        </div>
    </div>
</div>

                        </div>
                    </div>
<div class="page-wrapper" id="api/signature.html?t=20161107" tabindex="-1" role="main">                        <div class="page-inner">
<h1 id=".$ulink.">签名加密</h1>
<div id="book-search-results">
    <div class="search-noresults">

                                <section class="normal markdown-section">

                                <h2 id="api/signature.html?t=20161107#用户数据的签名验证和加解密">用户数据的签名验证和加解密</h2><h3 id="api/signature.html?t=20161107#数据签名校验">数据签名校验</h3><p>为了确保 <a href="#api/open.html%3Ft=20161107">开放接口</a> 返回用户数据的安全性，微信会对明文数据进行签名。开发者可以根据业务需要对数据包进行签名校验，确保数据的完整性。</p><ol><li>签名校验算法涉及用户的session_key，通过 <a href="#api/api-login.html%3Ft=20161107#wxloginobject">wx.login</a> 登录流程获取用户session_key，并自行维护与应用自身登录态的对应关系。
</li>
<li>通过调用接口（如 <a href="#api/open.html%3Ft=20161107">wx.getUserInfo</a>）获取数据时，接口会同时返回 rawData、signature，其中 signature = sha1( rawData + session_key )
</li>
<li>开发者将 signature、rawData 发送到开发者服务器进行校验。服务器利用用户对应的 session_key 使用相同的算法计算出签名 signature2 ，比对 signature 与 signature2 即可校验数据的完整性。
</li></ol>
<p><strong>如wx.getUserInfo的数据校验：</strong></p><p>接口返回的rawData：</p><pre><code class="lang-javascript">{
  <span class="hljs-string">"nickName"</span>: <span class="hljs-string">"Band"</span>,
  <span class="hljs-string">"gender"</span>: <span class="hljs-number">1</span>,
  <span class="hljs-string">"language"</span>: <span class="hljs-string">"zh_CN"</span>,
  <span class="hljs-string">"city"</span>: <span class="hljs-string">"Guangzhou"</span>,
  <span class="hljs-string">"province"</span>: <span class="hljs-string">"Guangdong"</span>,
  <span class="hljs-string">"country"</span>: <span class="hljs-string">"CN"</span>,
  <span class="hljs-string">"avatarUrl"</span>: <span class="hljs-string">"http://wx.qlogo.cn/mmopen/vi_32/1vZvI39NWFQ9XM4LtQpFrQJ1xlgZxx3w7bQxKARol6503Iuswjjn6nIGBiaycAjAtpujxyzYsrztuuICqIM5ibXQ/0"</span>
}</code></pre>
<p>用户的 session-key：</p><pre><code>HyVFkGl5F5OQWJZZaNzBBg==</code></pre>
<p>所以，用于签名的字符串为：</p><pre><code>{
  "nickName": "Band",
  "gender": 1,
  "language": "zh_CN",
  "city": "Guangzhou",
  "province": "Guangdong",
  "country": "CN",
  "avatarUrl": "http://wx.qlogo.cn/mmopen/vi_32/1vZvI39NWFQ9XM4LtQpFrQJ1xlgZxx3w7bQxKARol6503Iuswjjn6nIGBiaycAjAtpujxyzYsrztuuICqIM5ibXQ/0"
}HyVFkGl5F5OQWJZZaNzBBg==</code></pre>
<p>使用sha1得到的结果为</p><pre><code>75e81ceda165f4ffa64f4068af58c64b8f54b88c</code></pre>
<h3 id="api/signature.html?t=20161107#加密数据解密算法">加密数据解密算法</h3><p>接口如果涉及敏感数据（如<a href="#api/open.html%3Ft=20161107"><code>wx.getUserInfo</code></a>当中的 openId 和unionId ），接口的明文内容将不包含这些敏感数据。开发者如需要获取敏感数据，需要对接口返回的<strong>加密数据( encryptedData )</strong>进行对称解密。
解密算法如下：</p><ol><li>对称解密使用的算法为 AES-128-CBC，数据采用PKCS#7填充。
</li>
<li>对称解密的目标密文为 Base64_Decode(encryptedData),
</li>
<li>对称解密秘钥 aeskey = Base64_Decode(session_key), aeskey 是16字节
</li>
<li>对称解密算法初始向量 iv 会在数据接口中返回。
</li></ol>
<p>微信官方提供了多种编程语言的示例代码（<a href="demo/aes-sample.zip%3Ft=20161107">点击下载</a>）。每种语言类型的接口名字均一致。调用方式可以参照示例。</p><p>注：此前提供的<strong>加密数据（encryptData）</strong>以及对应的加密算法将被弃用，请开发者不要再依赖旧逻辑。</p>

                                </section>

    </div>
    <div class="search-results">
        <div class="has-results">

            <h1 class="search-results-title"><span class="search-results-count"></span> 个结果 "<span class="search-query"></span>"</h1>
            <ul class="search-results-list"></ul>

        </div>
        <div class="no-results">

            <h1 class="search-results-title">没有找到相关内容 "<span class="search-query"></span>"</h1>

        </div>
    </div>
</div>

                        </div>
                    </div>
<div class="page-wrapper" id="api/open.html?t=20161107" tabindex="-1" role="main">                        <div class="page-inner">
<h1 id=".$ulink.">用户信息</h1>
<div id="book-search-results">
    <div class="search-noresults">

                                <section class="normal markdown-section">

                                <p>### wx.getUserInfo(OBJECT)</p><p>获取用户信息，需要先调用 <a href="#api/api-login.html%3Ft=20161107#wxloginobject">wx.login</a> 接口。</p><p><strong>OBJECT参数说明：</strong></p><table>
<thead>
<tr><th>参数名</th>
<th>类型</th>
<th>必填</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>success</td>
<td>Function</td>
<td>否</td>
<td>接口调用成功的回调函数</td>
</tr><tr><td>fail</td>
<td>Function</td>
<td>否</td>
<td>接口调用失败的回调函数</td>
</tr><tr><td>complete</td>
<td>Function</td>
<td>否</td>
<td>接口调用结束的回调函数（调用成功、失败都会执行）</td>
</tr></tbody></table>

<p><strong>success返回参数说明：</strong></p><table>
<thead>
<tr><th>参数</th>
<th>类型</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>userInfo</td>
<td>OBJECT</td>
<td>用户信息对象，不包含 openid 等敏感信息</td>
</tr><tr><td>rawData</td>
<td>String</td>
<td>不包括敏感信息的原始数据字符串，用于计算签名。</td>
</tr><tr><td><a href="#api/signature.html%3Ft=20161107">signature</a></td>
<td>String</td>
<td>使用 sha1( rawData + sessionkey ) 得到字符串，用于校验用户信息。</td>
</tr><tr><td><a href="#api/signature.html%3Ft=20161107#数据签名校验">encryptedData</a></td>
<td>String</td>
<td>包括敏感数据在内的完整用户信息的加密数据，详细见<a href="#api/signature.html%3Ft=20161107#加密数据解密算法">加密数据解密算法</a></td>
</tr><tr><td><a href="#api/signature.html%3Ft=20161107#加密数据解密算法">iv</a></td>
<td>String</td>
<td>加密算法的初始向量，详细见<a href="#api/signature.html%3Ft=20161107#加密数据解密算法">加密数据解密算法</a></td>
</tr></tbody></table>

<p><strong>示例代码：</strong></p><pre><code class="lang-javascript">wx.getUserInfo({
  success: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">res</span>) </span>{
    <span class="hljs-keyword">var</span> userInfo = res.userInfo
    <span class="hljs-keyword">var</span> nickName = userInfo.nickName
    <span class="hljs-keyword">var</span> avatarUrl = userInfo.avatarUrl
    <span class="hljs-keyword">var</span> gender = userInfo.gender <span class="hljs-comment">//性别 0：未知、1：男、2：女 </span>
    <span class="hljs-keyword">var</span> province = userInfo.province
    <span class="hljs-keyword">var</span> city = userInfo.city
    <span class="hljs-keyword">var</span> country = userInfo.country
  }
})</code></pre>
<p>encryptedData 解密后为以下 json 结构，详见<a href="#signature%3Ft=20161107#加密数据解密算法">加密数据解密算法</a></p><pre><code class="lang-json">{
    <span class="hljs-string">"appId"</span>: <span class="hljs-string">"APPID"</span>,
    <span class="hljs-string">"openId"</span>: <span class="hljs-string">"OPENID"</span>,
    <span class="hljs-string">"nickName"</span>: <span class="hljs-string">"NICKNAME"</span>,
    <span class="hljs-string">"gender"</span>: <span class="hljs-number">1</span>,
    <span class="hljs-string">"city"</span>: <span class="hljs-string">"CITY"</span>,
    <span class="hljs-string">"province"</span>: <span class="hljs-string">"PROVINCE"</span>,
    <span class="hljs-string">"country"</span>: <span class="hljs-string">"COUNTRY"</span>,
    <span class="hljs-string">"avatarUrl"</span>: <span class="hljs-string">"AVATARURL"</span>,
    <span class="hljs-string">"unionId"</span>: <span class="hljs-string">"UNIONID"</span>
}</code></pre>
<h4 id="api/open.html?t=20161107#unionid机制说明：">UnionID机制说明：</h4><p>如果开发者拥有多个移动应用、网站应用、和公众帐号（包括小程序），可通过unionid来区分用户的唯一性，因为只要是同一个微信开放平台帐号下的移动应用、网站应用和公众帐号（包括小程序），用户的unionid是唯一的。换句话说，同一用户，对同一个微信开放平台下的不同应用，unionid是相同的。</p><p><strong>微信开放平台绑定小程序流程</strong></p><p>前提：微信开放平台帐号必须已完成开发者资质认证</p><p>开发者资质认证流程：</p><p>登录微信开放平台(open.weixin.qq.com) – 帐号中心 – 开发者资质认证</p><p><img alt="img" src="./image/open.png%3Ft=20161107"></p><p>绑定流程：</p><p>登录微信开放平台（open.weixin.qq.com）—管理中心—公众帐号—绑定公众帐号</p><p><img alt="img" src="./image/union_bind.png%3Ft=20161107"></p>

                                </section>

    </div>
    <div class="search-results">
        <div class="has-results">

            <h1 class="search-results-title"><span class="search-results-count"></span> 个结果 "<span class="search-query"></span>"</h1>
            <ul class="search-results-list"></ul>

        </div>
        <div class="no-results">

            <h1 class="search-results-title">没有找到相关内容 "<span class="search-query"></span>"</h1>

        </div>
    </div>
</div>

                        </div>
                    </div>
<div class="page-wrapper" id="api/api-pay.html?t=20161107" tabindex="-1" role="main">                        <div class="page-inner">
<h1 id=".$ulink.">微信支付</h1>
<div id="book-search-results">
    <div class="search-noresults">

                                <section class="normal markdown-section">

                                <h3 id="api/api-pay.html?t=20161107#wxrequestpaymentobject">wx.requestPayment(OBJECT)</h3><p>发起微信支付。</p><p><strong>Object参数说明：</strong></p><table>
<thead>
<tr><th>参数</th>
<th>类型</th>
<th>必填</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>timeStamp</td>
<td>DateInt</td>
<td>是</td>
<td>时间戳从1970年1月1日00:00:00至今的秒数,即当前的时间</td>
</tr><tr><td>nonceStr</td>
<td>String</td>
<td>是</td>
<td>随机字符串，长度为32个字符以下。</td>
</tr><tr><td>package</td>
<td>String</td>
<td>是</td>
<td>统一下单接口返回的 prepay_id 参数值，提交格式如：prepay_id=<em>*</em></td>
</tr><tr><td>signType</td>
<td>String</td>
<td>是</td>
<td>签名算法，暂支持 MD5</td>
</tr><tr><td>paySign</td>
<td>String</td>
<td>是</td>
<td>签名,具体签名方案参见<a href="https://pay.weixin.qq.com/wiki/doc/api/jsapi.php?chapter=4_3&amp;t=20161107" target="_blank">微信公众号支付帮助文档</a>;</td>
</tr><tr><td>success</td>
<td>Function</td>
<td>否</td>
<td>接口调用成功的回调函数</td>
</tr><tr><td>fail</td>
<td>Function</td>
<td>否</td>
<td>接口调用失败的回调函数</td>
</tr><tr><td>complete</td>
<td>Function</td>
<td>否</td>
<td>接口调用结束的回调函数（调用成功、失败都会执行）</td>
</tr></tbody></table>

<p><strong>示例代码：</strong></p><pre><code class="lang-javascript">wx.requestPayment({
   <span class="hljs-string">'timeStamp'</span>: <span class="hljs-string">''</span>,
   <span class="hljs-string">'nonceStr'</span>: <span class="hljs-string">''</span>,
   <span class="hljs-string">'package'</span>: <span class="hljs-string">''</span>,
   <span class="hljs-string">'signType'</span>: <span class="hljs-string">'MD5'</span>,
   <span class="hljs-string">'paySign'</span>: <span class="hljs-string">''</span>,
   <span class="hljs-string">'success'</span>:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">res</span>)</span>{
   },
   <span class="hljs-string">'fail'</span>:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">res</span>)</span>{
   }
})</code></pre>


                                </section>

    </div>
    <div class="search-results">
        <div class="has-results">

            <h1 class="search-results-title"><span class="search-results-count"></span> 个结果 "<span class="search-query"></span>"</h1>
            <ul class="search-results-list"></ul>

        </div>
        <div class="no-results">

            <h1 class="search-results-title">没有找到相关内容 "<span class="search-query"></span>"</h1>

        </div>
    </div>
</div>

                        </div>
                    </div>
<div class="page-wrapper" id="api/notice.html?t=20161107" tabindex="-1" role="main">                        <div class="page-inner">
<h1 id=".$ulink.">模板消息</h1>
<div id="book-search-results">
    <div class="search-noresults">

                                <section class="normal markdown-section">

                                <p>基于微信的通知渠道，我们为开发者提供了可以高效触达用户的模板消息能力，以便实现服务的闭环并提供更佳的体验。</p><p>模板推送位置：服务通知</p><p>模板下发条件：用户本人在微信体系内与页面有交互行为后触发，详见<a href="#api/notice.html%3Ft=20161107#下发条件说明">下发条件说明</a></p><p>模板跳转能力：点击查看详情仅能跳转下发模板的该帐号的各个页面</p><h2 id="api/notice.html?t=20161107#使用说明">使用说明</h2><ol><li>获取模板 id
</li></ol>
<p>登录<a href="https://mp.weixin.qq.com/?t=20161107" target="_blank">https://mp.weixin.qq.com</a>获取模板，如果没有合适的模板，可以申请添加新模板，审核通过后可使用，详见<a href="#api/notice.html%3Ft=20161107#审核说明">模板审核说明</a></p><p><img src="./image/mp-notice.png%3Ft=20161107"></p><ol><li><p>页面的 <a href="#component/form.html%3Ft=20161107"><code>&lt;form/&gt;</code></a> 组件，属性<code>report-submit</code>为<code>true</code>时，可以声明为需发模板消息，此时点击按钮提交表单可以获取<code>formId</code>，用于发送模板消息。或者当用户完成<a href="#api/api-pay.html%3Ft=20161107">支付行为</a>，可以获取<code>prepay_id</code>用于发送模板消息。</p></li>
<li><p>调用接口下发模板消息（详见<a href="#api/notice.html%3Ft=20161107#接口说明">接口说明</a>）</p></li></ol>
<h2 id="api/notice.html?t=20161107#接口说明">接口说明</h2><h3 id="api/notice.html?t=20161107#1-获取-accesstoken">1. 获取 access_token</h3><p>access_token 是全局唯一接口调用凭据，开发者调用各接口时都需使用 access_token，请妥善保存。access_token 的存储至少要保留512个字符空间。access_token 的有效期目前为2个小时，需定时刷新，重复获取将导致上次获取的 access_token 失效。</p><p>公众平台的 API 调用所需的 access_token 的使用及生成方式说明：</p><ol><li>为了保密 appsecrect，第三方需要一个 access_token 获取和刷新的中控服务器。而其他业务逻辑服务器所使用的 access_token 均来自于该中控服务器，不应该各自去刷新，否则会造成 access_token 覆盖而影响业务；
</li>
<li>目前 access_token 的有效期通过返回的 expires_in 来传达，目前是7200秒之内的值。中控服务器需要根据这个有效时间提前去刷新新 access_token。在刷新过程中，中控服务器对外输出的依然是老 access_token，此时公众平台后台会保证在刷新短时间内，新老 access_token 都可用，这保证了第三方业务的平滑过渡；
</li>
<li>access_token 的有效时间可能会在未来有调整，所以中控服务器不仅需要内部定时主动刷新，还需要提供被动刷新 access_token 的接口，这样便于业务服务器在 API 调用获知 access_token 已超时的情况下，可以触发 access_token 的刷新流程。
</li></ol>
<p>开发者可以使用 AppID 和 AppSecret 调用本接口来获取 access_token。AppID 和 AppSecret 可登录微信公众平台官网-设置-开发设置中获得（需要已经绑定成为开发者，且帐号没有异常状态）。AppSecret 生成后请自行保存，因为在公众平台每次生成查看都会导致 AppSecret 被重置。注意调用所有微信接口时均需使用 https 协议。如果第三方不使用中控服务器，而是选择各个业务逻辑点各自去刷新 access_token，那么就可能会产生冲突，导致服务不稳定。</p><p><strong>接口地址：</strong></p><pre><code>https://api.weixin.qq.com/cgi-bin/token?grant_type=client_credential&amp;appid=APPID&amp;secret=APPSECRET</code></pre>
<p><strong>HTTP请求方式:</strong></p><pre><code>GET</code></pre>
<p><strong>参数说明 :</strong></p><table>
<thead>
<tr><th>参数</th>
<th>必填</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>grant_type</td>
<td>是</td>
<td>获取 access_token 填写 client_credential</td>
</tr><tr><td>appid</td>
<td>是</td>
<td>第三方用户唯一凭证</td>
</tr><tr><td>secret</td>
<td>是</td>
<td>第三方用户唯一凭证密钥，即appsecret</td>
</tr></tbody></table>

<p><strong>返回参数说明：</strong></p><p>正常情况下，微信会返回下述 JSON 数据包给开发者：</p><pre><code class="lang-json">{<span class="hljs-string">"access_token"</span>: <span class="hljs-string">"ACCESS_TOKEN"</span>, <span class="hljs-string">"expires_in"</span>: <span class="hljs-number">7200</span>}</code></pre>
<table>
<thead>
<tr><th>参数</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>access_token</td>
<td>获取到的凭证</td>
</tr><tr><td>expires_in</td>
<td>凭证有效时间，单位：秒</td>
</tr></tbody></table>

<p>错误时微信会返回错误码等信息，JSON 数据包示例如下（该示例为 AppID 无效错误）:</p><pre><code class="lang-json">{<span class="hljs-string">"errcode"</span>: <span class="hljs-number">40013</span>, <span class="hljs-string">"errmsg"</span>: <span class="hljs-string">"invalid appid"</span>}</code></pre>
<h3 id="api/notice.html?t=20161107#2-发送模板消息">2. 发送模板消息</h3><p><strong>接口地址：(ACCESS_TOKEN 需换成上文获取到的 access_token)</strong></p><pre><code>https://api.weixin.qq.com/cgi-bin/message/wxopen/template/send?access_token=ACCESS_TOKEN</code></pre>
<p><strong>HTTP请求方式：</strong></p><pre><code>POST</code></pre>
<p><strong>POST参数说明：</strong></p><table>
<thead>
<tr><th>参数</th>
<th>必填</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>touser</td>
<td>是</td>
<td>接收者（用户）的 openid</td>
</tr><tr><td>template_id</td>
<td>是</td>
<td>所需下发的模板消息的id</td>
</tr><tr><td>page</td>
<td>否</td>
<td>点击模板查看详情跳转页面，不填则模板无跳转</td>
</tr><tr><td>form_id</td>
<td>是</td>
<td>表单提交场景下，为 submit 事件带上的 <a href="#component/form.html%3Ft=20161107">formId</a>；支付场景下，为本次支付的 <a href="#api/api-pay.html%3Ft=20161107">prepay_id</a></td>
</tr><tr><td>value</td>
<td>是</td>
<td>模板内容，不填则下发空模板</td>
</tr><tr><td>color</td>
<td>否</td>
<td>模板内容字体的颜色，不填默认黑色</td>
</tr><tr><td>emphasis_keyword</td>
<td>否</td>
<td>模板需要放大的关键词，不填则默认无放大</td>
</tr></tbody></table>

<p><strong>示例：</strong></p><pre><code class="lang-json">{
  <span class="hljs-string">"touser"</span>: <span class="hljs-string">"OPENID"</span>,
  <span class="hljs-string">"template_id"</span>: <span class="hljs-string">"TEMPLATE_ID"</span>,
  <span class="hljs-string">"page"</span>: <span class="hljs-string">"index"</span>,
  <span class="hljs-string">"form_id"</span>: <span class="hljs-string">"FORMID"</span>,
  <span class="hljs-string">"data"</span>: {
      <span class="hljs-string">"keyword1"</span>: {
          <span class="hljs-string">"value"</span>: <span class="hljs-string">"339208499"</span>,
          <span class="hljs-string">"color"</span>: <span class="hljs-string">"#173177"</span>
      },
      <span class="hljs-string">"keyword2"</span>: {
          <span class="hljs-string">"value"</span>: <span class="hljs-string">"2015年01月05日 12:30"</span>,
          <span class="hljs-string">"color"</span>: <span class="hljs-string">"#173177"</span>
      },
      <span class="hljs-string">"keyword3"</span>: {
          <span class="hljs-string">"value"</span>: <span class="hljs-string">"粤海喜来登酒店"</span>,
          <span class="hljs-string">"color"</span>: <span class="hljs-string">"#173177"</span>
      } ,
      <span class="hljs-string">"keyword4"</span>: {
          <span class="hljs-string">"value"</span>: <span class="hljs-string">"广州市天河区天河路208号"</span>,
          <span class="hljs-string">"color"</span>: <span class="hljs-string">"#173177"</span>
      }
  },
  <span class="hljs-string">"emphasis_keyword"</span>: <span class="hljs-string">"keyword1.DATA"</span>
}</code></pre>
<p><strong>返回码说明：</strong></p><p>在调用模板消息接口后，会返回JSON数据包。</p><p>正常时的返回JSON数据包示例：</p><pre><code class="lang-json">{
  <span class="hljs-string">"errcode"</span>: <span class="hljs-number">0</span>,
  <span class="hljs-string">"errmsg"</span>: <span class="hljs-string">"ok"</span>,
}</code></pre>
<p>错误时会返回错误码信息，说明如下：</p><table>
<thead>
<tr><th>返回码</th>
<th>说明</th>
</tr></thead><tbody>
<tr><td>40037</td>
<td>template_id不正确</td>
</tr><tr><td>41028</td>
<td>form_id不正确，或者过期</td>
</tr><tr><td>41029</td>
<td>form_id已被使用</td>
</tr><tr><td>41030</td>
<td>page不正确</td>
</tr></tbody></table>

<p><strong>使用效果：</strong></p><p><img src="./image/notice.png%3Ft=20161107"></p><p><strong>注意：内部测试阶段，模板消息下发后，在客户端仅能看到由“公众号安全助手”下发的简单通知。能收到该提示，即表明模板消息功能已经调试成功。待该功能正式上线后，将可以展示成上图效果。</strong></p><h3 id="api/notice.html?t=20161107#下发条件说明">下发条件说明</h3><ol><li><p>支付</p><p>当用户在小程序内完成过支付行为，可允许开发者向用户在7天内推送有限条数的模板消息（1次支付可下发1条，多次支付下发条数独立，互相不影响）</p></li>
<li><p>提交表单</p><p>当用户在小程序内发生过提交<a href="#component/form.html%3Ft=20161107">表单</a>行为且该表单声明为要发模板消息的，开发者需要向用户提供服务时，可允许开发者向用户在7天内推送有限条数的模板消息（1次提交表单可下发1条，多次提交下发条数独立，相互不影响）</p></li></ol>
<h2 id="api/notice.html?t=20161107#审核说明">审核说明</h2><h3 id="api/notice.html?t=20161107#1标题">1.标题</h3><p>1.1标题不能存在相同</p><p>1.2标题意思不能存在过度相似</p><p>1.3标题必须以“提醒”或“通知”结尾</p><p>1.4标题不能带特殊符号、个性化字词等没有行业通用性的内容</p><p>1.5标题必须能体现具体服务场景</p><p>1.6标题不能涉及营销相关内容，包括不限于：</p><p>消费优惠类、购物返利类、商品更新类、优惠券类、代金券类、红包类、会员卡类、积分类、活动类等营销倾向通知</p><h3 id="api/notice.html?t=20161107#2关键词">2.关键词</h3><p>2.1同一标题下，关键词不能存在相同</p><p>2.2同一标题下，关键词不能存在过度相似</p><p>2.3关键词不能带特殊符号、个性化字词等没有行业通用性的内容</p><p>2.4关键词内容示例必须与关键词对应匹配</p><p>2.5关键词不能太过宽泛，需要具有限制性，例如：“内容”这个就太宽泛，不能审核通过</p><h2 id="api/notice.html?t=20161107#违规说明">违规说明</h2><p>除不能违反运营规范外，还不能违反以下规则，包括但不限于：</p><ol><li>不允许恶意诱导用户进行触发操作，以达到可向用户下发模板目的
</li>
<li>不允许恶意骚扰，下发对用户造成骚扰的模板
</li>
<li>不允许恶意营销，下发营销目的模板
</li>
<li>不允许通过服务号下发模板来告知用户在小程序内触发的服务相关内容
</li></ol>
<h2 id="api/notice.html?t=20161107#处罚说明">处罚说明</h2><p>根据违规情况给予相应梯度的处罚，一般处罚规则如下：</p><p>第一次违规，删除违规模板以示警告，</p><p>第二次违规，封禁接口7天，</p><p>第三次违规，封禁接口30天，</p><p>第四次违规，永久封禁接口</p><p>处罚结果及原因以站内信形式告知</p>

                                </section>

    </div>
    <div class="search-results">
        <div class="has-results">

            <h1 class="search-results-title"><span class="search-results-count"></span> 个结果 "<span class="search-query"></span>"</h1>
            <ul class="search-results-list"></ul>

        </div>
        <div class="no-results">

            <h1 class="search-results-title">没有找到相关内容 "<span class="search-query"></span>"</h1>

        </div>
    </div>
</div>

                        </div>
                    </div>
<div class="page-wrapper" id="devtools/devtools.html?t=20161107" tabindex="-1" role="main">                        <div class="page-inner">
<h1 id=".$ulink.">工具</h1>
<div id="book-search-results">
    <div class="search-noresults">

                                <section class="normal markdown-section">

                                <p>为了帮助开发者简单和高效地开发微信小程序，我们推出了全新的开发者工具，集成了开发调试、代码编辑及程序发布等功能。</p><p><img alt="devtools" src="./image/devtools/1.png%3Ft=20161107"></p><h3 id="devtools/devtools.html?t=20161107#扫码登录">扫码登录</h3><p>启动工具时，开发者需要使用已在后台绑定成功的微信号扫描二维码登录，<strong>后续所有的操作都会基于这个微信帐号</strong></p>

                                </section>

    </div>
    <div class="search-results">
        <div class="has-results">

            <h1 class="search-results-title"><span class="search-results-count"></span> 个结果 "<span class="search-query"></span>"</h1>
            <ul class="search-results-list"></ul>

        </div>
        <div class="no-results">

            <h1 class="search-results-title">没有找到相关内容 "<span class="search-query"></span>"</h1>

        </div>
    </div>
</div>

                        </div>
                    </div>
<div class="page-wrapper" id="devtools/debug.html?t=20161107" tabindex="-1" role="main">                        <div class="page-inner">
<h1 id=".$ulink.">程序调试</h1>
<div id="book-search-results">
    <div class="search-noresults">

                                <section class="normal markdown-section">

                                <p>程序调试主要有三大功能区：模拟器、调试工具和小程序操作区</p><h2 id="devtools/debug.html?t=20161107#模拟器">模拟器</h2><p>模拟器模拟微信小程序在客户端真实的逻辑表现，对于绝大部分的 API 均能够在模拟器上呈现出正确的状态。</p><p><img alt="emulat" src="./image/devtools/2.png%3Ft=20161107"></p><h2 id="devtools/debug.html?t=20161107#调试工具">调试工具</h2><p>调试工具分为 6 大功能模块：Wxml、Console、Sources、Network、Appdata、Storage</p><h3 id="devtools/debug.html?t=20161107#wxml-panel">Wxml panel</h3><p>Wxml panel 用于帮助开发者开发 Wxml 转化后的界面。在这里可以看到真实的页面结构以及结构对应的 wxss 属性，同时可以通过修改对应 wxss 属性，在模拟器中实时看到修改的情况。通过调试模块左上角的选择器，还可以快速找到页面中组件对应的 wxml 代码。</p><p><img alt="wxml" src="./image/devtools/wxml.gif%3Ft=20161107"></p><h3 id="devtools/debug.html?t=20161107#sources-panel">Sources panel</h3><p>Sources panel 用于显示当前项目的脚本文件，同浏览器开发不同，微信小程序框架会对脚本文件进行编译的工作，所以在 Sources panel 中开发者看到的文件是经过处理之后的脚本文件，开发者的代码都会被包裹在 define 函数中，并且对于 Page 代码，在尾部会有 require 的主动调用。</p><p><img alt="sources" src="./image/devtools/sources.png%3Ft=20161107"></p><h3 id="devtools/debug.html?t=20161107#network-panel">Network panel</h3><p>Netwrok Pannle 用于观察和显示 request 和 socket 的请求情况</p><p><img alt="network" src="./image/devtools/network.png%3Ft=20161107"></p><h3 id="devtools/debug.html?t=20161107#appdata-panel">Appdata panel</h3><p>Appdata panel 用于显示当前项目当前时刻 appdata 具体数据，实时地反馈项目数据情况，可以在此处编辑数据，并及时地反馈到界面上。</p><p><img alt="appdata" src="./image/devtools/appdata.gif%3Ft=20161107"></p><h3 id="devtools/debug.html?t=20161107#storage-panel">Storage panel</h3><p>Storage panel 用于显示当前项目的使用 wx.setStorage 或者 wx.setStorageSync 后的数据存储情况。</p><p><img alt="storage" src="./image/devtools/storage.gif%3Ft=20161107"></p><h3 id="devtools/debug.html?t=20161107#console-panel">Console panel</h3><p>Console panel 有两大功能：</p><ul><li><p>开发者可以在此输入和调试代码</p><p><img alt="console" src="./image/devtools/console1.gif%3Ft=20161107"></p></li>
<li><p>小程序的错误输出，会显示在此处</p><p><img alt="4" src="./image/devtools/4.png%3Ft=20161107">
<img alt="4" src="./image/devtools/41.png%3Ft=20161107.html"></p></li></ul>
<h2 id="devtools/debug.html?t=20161107#小程序操作区">小程序操作区</h2><p>小程序操作区帮助开发者模拟一些客户端的环境操作。例如当用户从小程序中回到聊天窗口，会触发一个小程序被设置为后台的api。</p><p><img alt="5" src="./image/devtools/5.png%3Ft=20161107"></p><p>当小程序使用到多窗口的时候，可以在顶部操作区进行页面切换，需要注意的是这个操作只是为了方便开发者才存在的，在真实的微信客户端中是不会有的。</p><p><img alt="7" src="./image/devtools/7.png%3Ft=20161107"></p>

                                </section>

    </div>
    <div class="search-results">
        <div class="has-results">

            <h1 class="search-results-title"><span class="search-results-count"></span> 个结果 "<span class="search-query"></span>"</h1>
            <ul class="search-results-list"></ul>

        </div>
        <div class="no-results">

            <h1 class="search-results-title">没有找到相关内容 "<span class="search-query"></span>"</h1>

        </div>
    </div>
</div>

                        </div>
                    </div>
<div class="page-wrapper" id="devtools/edit.html?t=20161107" tabindex="-1" role="main">                        <div class="page-inner">
<h1 id=".$ulink.">代码编辑</h1>
<div id="book-search-results">
    <div class="search-noresults">

                                <section class="normal markdown-section">

                                <p>编辑区可以对当前项目进行代码编写和文件的添加、删除以及重命名等基本操作。</p><h2 id="devtools/edit.html?t=20161107#文件支持">文件支持</h2><p>工具目前提供了4种文件的编辑：wxml、wxss、js、json以及图片文件的预览。</p><h2 id="devtools/edit.html?t=20161107#实时预览">实时预览</h2><p>可以通过编辑区左边的模拟器，实时预览编辑的情况：</p><ul><li>修改 wxss、wxml 文件，会刷新当前 page
</li>
<li>修改 js 文件或者 json 文件，会重新编译小程序
</li></ul>
<p><img alt="edit" src="./image/devtools/edit/edit1.png%3Ft=20161107"></p><h2 id="devtools/edit.html?t=20161107#自动保存">自动保存</h2><p>书写代码后，工具会自动帮助用户保存当前的代码编辑状态，直接关闭工具或者切换到别的项目，并不会丢失已经编辑的文件状态，但需要注意的是，只有
保存文件，修改内容才会真实的写到硬盘上，并触发实时预览。</p><h2 id="devtools/edit.html?t=20161107#自动补全">自动补全</h2><p>同大部分编辑器一样，工具提供了较为完善的自动补全</p><ul><li>js 文件编辑会帮助开发补全所有的 API ,并给出相关的注释解释
</li>
<li>wxml 文件编辑会帮助开发者直接写出相关的标签
</li>
<li><p>json 文件编辑会帮助开发者补全相关的配置，并给出实时的提示</p><p><img alt="3" src="./image/devtools/edit1.gif%3Ft=20161107"></p><p><img alt="3" src="./image/devtools/edit3.gif%3Ft=20161107"></p></li></ul>
<h2 id="devtools/edit.html?t=20161107#常用快捷键">常用快捷键</h2><h3 id="devtools/edit.html?t=20161107#格式调整">格式调整</h3><ul><li>Ctrl+S：保存文件
</li>
<li>Ctrl+[， Ctrl+]：代码行缩进
</li>
<li>Ctrl+Shift+[， Ctrl+Shift+]：折叠打开代码块
</li>
<li>Ctrl+C Ctrl+V：复制粘贴，如果没有选中任何文字则复制粘贴一行
</li>
<li>Shift+Alt+F：代码格式化
</li>
<li>Alt+Up，Alt+Down：上下移动一行
</li>
<li>Shift+Alt+Up，Shift+Alt+Down：向上向下复制一行
</li>
<li>Ctrl+Shift+Enter：在当前行上方插入一行
</li></ul>
<h3 id="devtools/edit.html?t=20161107#光标相关">光标相关</h3><ul><li>Ctrl+End：移动到文件结尾
</li>
<li>Ctrl+Home：移动到文件开头
</li>
<li>Ctrl+i：选中当前行
</li>
<li>Shift+End：选择从光标到行尾
</li>
<li>Shift+Home：选择从行首到光标处
</li>
<li>Ctrl+Shift+L：选中所有匹配
</li>
<li>Ctrl+D：选中匹配
</li>
<li>Ctrl+U：光标回退
</li></ul>
<h3 id="devtools/edit.html?t=20161107#界面相关">界面相关</h3><ul><li>Ctrl + \：隐藏侧边栏
</li>
<li>Ctrl + m: 打开或者隐藏模拟器
</li></ul>


                                </section>

    </div>
    <div class="search-results">
        <div class="has-results">

            <h1 class="search-results-title"><span class="search-results-count"></span> 个结果 "<span class="search-query"></span>"</h1>
            <ul class="search-results-list"></ul>

        </div>
        <div class="no-results">

            <h1 class="search-results-title">没有找到相关内容 "<span class="search-query"></span>"</h1>

        </div>
    </div>
</div>

                        </div>
                    </div>
<div class="page-wrapper" id="devtools/project.html?t=20161107" tabindex="-1" role="main">                        <div class="page-inner">
<h1 id=".$ulink.">项目预览</h1>
<div id="book-search-results">
    <div class="search-noresults">

                                <section class="normal markdown-section">

                                <p>项目页卡主要有三大功能</p><h2 id="devtools/project.html?t=20161107#显示当前项目细节">显示当前项目细节</h2><p>包括图标、AppID、目录信息，以及上次提交代码的时间以及代码包大小。</p><h2 id="devtools/project.html?t=20161107#提交预览和提交上传">提交预览和提交上传</h2><ul><li>点击预览功能，工具会上传源代码到微信服务器，成功后将会显示一个二维码，开发者用新版微信扫描二维码即可在手机上看到相应项目的真实表现。
</li>
<li>点击上传，工具会上传源代码到微信服务器，开发者可以在 mp 管理后台看到本次提交的情况。
需要注意的是，内测阶段，<strong>代码上传</strong> 功能仅管理员微信号可操作。
</li></ul>
<h2 id="devtools/project.html?t=20161107#项目配置">项目配置</h2><h3 id="devtools/project.html?t=20161107#es6-转-es5">ES6 转 ES5</h3><p>微信小程序运行在三端：iOS、Android 和 用于调试的开发者工具</p><ul><li>在 iOS 上，小程序的 javascript 代码是运行在 JavaScriptCore 中
</li>
<li>在 Android 上，小程序的 javascript 代码是通过 X5 内核来解析
</li>
<li>在 开发工具上， 小程序的 javascript 代码是运行在 nwjs（chrome内核） 中
</li></ul>
<p>虽然尽管三端的环境是十分相似的，但是至少在目前还是有一些区别的，这给很多开发者带来很大的困扰。</p><p>在 0.10.101000 以及之后版本的开发工具中，会默认使用 <code>babel</code> 将开发者代码 <code>ES6</code> 语法转换为三端都能很好支持的 <code>ES5</code> 的代码，帮助开发者解决环境不同所带来的开发问题。开发者可以在项目设置中关闭这个功能。</p><p>需要注意的是：</p><ul><li>这种转换只会帮助开发处理语法上问题，新的 <code>ES6</code> 的 API 例如 <code>Promise</code> 等需要开发者自行引入 <code>Polyfill</code> 或者别的类库。
</li>
<li>为了提高代码质量，在开启 <code>ES6</code> 转换功能的情况下，默认启用 <code>javasctipt</code> 严格模式，请参考  <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Strict_mode?t=20161107" target="_blank">"use strict"</a> 。
</li></ul>
<h3 id="devtools/project.html?t=20161107#监听文件变化，自动刷新开发者工具">监听文件变化，自动刷新开发者工具</h3><p>开启此选项，和当前项目相关的文件发生改变时候，会自动帮助开发者刷新调试模拟器，从而提高开发效率。</p><h3 id="devtools/project.html?t=20161107#压缩代码">压缩代码</h3><p>勾选此项时候，开发工具在上传代码时候将会帮助开发者压缩 <code>javascript</code> 代码，减小代码包体积。</p><p><img alt="edit" src="./image/devtools/edit/project1.png%3Ft=20161107"></p>

                                </section>

    </div>
    <div class="search-results">
        <div class="has-results">

            <h1 class="search-results-title"><span class="search-results-count"></span> 个结果 "<span class="search-query"></span>"</h1>
            <ul class="search-results-list"></ul>

        </div>
        <div class="no-results">

            <h1 class="search-results-title">没有找到相关内容 "<span class="search-query"></span>"</h1>

        </div>
    </div>
</div>

                        </div>
                    </div>
<div class="page-wrapper" id="devtools/download.html?t=20161107" tabindex="-1" role="main">                        <div class="page-inner">
<h1 id=".$ulink.">下载</h1>
<div id="book-search-results">
    <div class="search-noresults">

                                <section class="normal markdown-section">

                                <h2 id="devtools/download.html?t=20161107#下载地址">下载地址</h2><h3 id="devtools/download.html?t=20161107#最新版本-010102800">最新版本 0.10.102800</h3><p><a href="https://servicewechat.com/wxa-dev-logic/download_redirect?type=x64&amp;from=mpwiki&amp;t=20161107" target="_blank">windows 64</a> 、 <a href="https://servicewechat.com/wxa-dev-logic/download_redirect?type=ia32&amp;from=mpwiki&amp;t=20161107" target="_blank">windows 32</a> 、 <a href="https://servicewechat.com/wxa-dev-logic/download_redirect?type=darwin&amp;from=mpwiki&amp;t=20161107" target="_blank">mac</a></p><h3 id="devtools/download.html?t=20161107#更新概述">更新概述</h3><ul><li>新增 20 个全新的 API （目前可以在开发工具上正常使用，客户端需要等待 6.3.30 版本发布）
</li>
<li>拓展了 4 个组件属性，修复了数十个组件 bug
</li>
<li>开发者工具添加实时刷新功能等 7 个功能
</li>
<li>编辑模块增加自动保存、实时预览等 8 个功能
</li></ul>
<p>详细更新日志如下：</p><h3 id="devtools/download.html?t=20161107#基础库更新20161031">基础库更新(2016.10.31)</h3><ol><li><code>F</code> 修复 <code>&lt;button/&gt;</code> 组件的部分事件调用的问题
</li>
<li><code>F</code> 修复 动态变更 <code>&lt;swiper-item/&gt;</code> 组件列表时存在的 <code>&lt;swiper&gt;</code> 组件更新的问题
</li>
<li><code>F</code> 修复 部分 rpx 无效
</li></ol>
<h3 id="devtools/download.html?t=20161107#基础库更新20161028">基础库更新(2016.10.28)</h3><ol><li><code>F</code> 修复 <code>page.prototype.setData</code> 在 <code>onLoad</code> 和 <code>onShow</code> 中未及时设置的问题
</li>
<li><code>F</code> 修复 <code>wx.navigateTo</code> 在某些情况下失效的问题
</li>
<li><code>F</code> 修复 <code>wx.getStorageInfoSync</code> 返回值中有多余 <code>errMsg</code> 的问题
</li></ol>
<h3 id="devtools/download.html?t=20161107#基础功能">基础功能</h3><ol><li><code>A</code> 增加 四个文件管理 API <code>wx.getSavedFileList</code>、<code>wx.getSavedFileInfo</code>、<code>wx.removeSavedFile</code>、<code>wx.openDocument</code> <a href="#api/file.html%3Ft=20161107">详情</a>
</li>
<li><code>A</code> 增加 四个数据管理 API <code>wx.removeStorage</code>、<code>wx.removeStorageSync</code>、<code>wx.getStorageInfo</code>、<code>wx.getStorageInfoSync</code> <a href="#api/data.html%3Ft=20161107">详情</a>
</li>
<li><code>A</code> 新增 四个交互反馈 API <code>wx.showToast</code>、<code>wx.showModal</code>、<code>wx.hideModal</code>、<code>wx.showActionSheet</code> <a href="#api/api-react.html%3Ft=20161107">详情</a>
</li>
<li><code>A</code> 新增 选择地理位置 API <code>wx.chooseLocation</code> <a href="#api/location.html%3Ft=20161107#wxchooselocationobject">详情</a>
</li>
<li><code>A</code> 新增 获取图片信息 API <code>wx.getImageInfo</code> <a href="#api/media-picture.html%3Ft=20161107#wxgetimageinfoobject">详情</a>
</li>
<li><code>A</code> 新增 音频组件控制 API <code>wx.createAudioContext</code> <a href="#api/api-audio.html%3Ft=20161107">详情</a>
</li>
<li><code>A</code> 新增 视频组件控制 API <code>wx.createVideoContext</code> <a href="#api/api-video.html%3Ft=20161107">详情</a>
</li>
<li><code>A</code> 新增 两个设备 API <code>wx.getSystemInfoSync</code>、<code>wx.makePhoneCall</code> <a href="#api/device.html%3Ft=20161107#wxgetsysteminfosync">详情</a>
</li>
<li><code>A</code> 新增 绘图 API <code>wx.canvasToTempFilePath</code> <a href="#api/api-canvas.html%3Ft=20161107#wxcanvastotempfilepathobject">详情</a>
</li>
<li><code>A</code> 新增 开放能力 API <code>wx.checkSession</code> <a href="#api/api-login.html%3Ft=20161107">详情</a>
</li>
<li><code>A</code> 新增 <code>wx.navigateBack</code> delta 参数，支持多层级返回 <a href="#api/ui-navigate.html%3Ft=20161107#wxnavigatebackobject">详情</a>
</li>
<li><code>A</code> 新增 <code>wx.sendSocketMessage</code>、<code>wx.onSocketMessage</code> 支持收发 ArrayBuffer 数据类型
</li>
<li><code>A</code> 新增 <code>getCurrentPages()</code> 方法， 获取页面栈 <a href="#framework/app-service/page.html%3Ft=20161107#getcurrentpages">详情</a>
</li>
<li><code>A</code> 新增 <code>Page.onReachBottom()</code> 方法，监听页面到达底部 <a href="#framework/app-service/page.html%3Ft=20161107">详情</a>
</li>
<li><code>A</code> 新增 事件对象增加 changedTouches 列表，反应手指触摸位置的变化 <a href="#framework/view/wxml/event.html%3Ft=20161107">详情</a>
</li>
<li><code>A</code> 新增 <code>&lt;textarea/&gt;</code> 组件 <a href="#component/textarea.html%3Ft=20161107">详情</a>
</li>
<li><code>A</code> 新增 <code>&lt;canvas/&gt;</code> 多点触摸 <a href="#component/canvas.html%3Ft=20161107">详情</a>
</li>
<li><code>A</code> 新增 <code>&lt;canvas/&gt;</code> disable-scroll 属性 <a href="#component/canvas.html%3Ft=20161107">详情</a>
</li>
<li><code>A</code> 新增 <code>&lt;image/&gt;</code> bindload 事件返回图片宽高 <a href="#component/image.html%3Ft=20161107">详情</a>
</li>
<li><code>A</code> 新增 <code>&lt;text/&gt;</code> 嵌套 <code>&lt;text/&gt;</code> 功能 <a href="#component/text.html%3Ft=20161107">详情</a>
</li>
<li><code>A</code> 新增 <code>&lt;video/&gt;</code> controls autoplay 属性 <a href="#component/video.html%3Ft=20161107">详情</a>
</li>
<li><code>A</code> 新增 <code>&lt;video/&gt;</code> 支持设置弹幕、发送弹幕 <a href="#component/video.html%3Ft=20161107">详情</a>
</li>
<li><code>A</code> 新增 <code>&lt;video/&gt;</code> 播放类事件 <a href="#api/api-video.html%3Ft=20161107">详情</a>
</li>
<li><code>A</code> 新增 WXML <code>wx:key</code> 支持，提升列表渲染时性能 <a href="#framework/view/wxml/list.html%3Ft=20161107#wxkey">详情</a>
</li>
<li><code>A</code> 新增 WXML 关键字、数据路径计算 <a href="#framework/view/wxml/data.html%3Ft=20161107">详情</a>
</li>
<li><code>U</code> 新增 app.json <code>tabBar</code> 属性 <code>position</code> 用于指定显示位置 <a href="#framework/config.html%3Ft=20161107#tabbar">详情</a>
</li>
<li><code>F</code> 修复 <code>wx.navigateTo</code> api 超过 5 个页面，调用失败无返回的问题
</li>
<li><code>U</code> 修复 <code>&lt;navigator/&gt;</code> 设置 <code>display: flex</code> 失效的问题
</li>
<li><code>F</code> 修复 <code>&lt;input/&gt;</code> <code>text-align:center</code>、<code>text-align:right</code> 不支持的问题
</li>
<li><code>F</code> 修复 <code>&lt;input/&gt;</code> 聚焦时异常的问题
</li>
<li><code>F</code> 修复 <code>&lt;image/&gt;</code> base64 图片显示的问题
</li>
<li><code>F</code> 修复 动态节点更新导致表单组件重置问题
</li>
<li><code>F</code> 修复 使用 rpx 单位部分手机出现边框显示不全的问题
</li>
<li><code>F</code> 修复 不同页面中相同的 <code>canvas-id</code> 共享同一个绘图上下文的问题
</li>
<li><code>F</code> 修复 page 里面的属性对象内的 function 失效的问题
</li>
<li><code>F</code> 修复 <code>wx.drawCanvas</code> 在 canvas 宽高为 0 的情况下画不出来的问题
</li>
<li><code>F</code> 修复 <code>wx.request</code> header 设置 'Content-Type' 异常的问题
</li>
<li><code>D</code> 即将移除 <code>App.prototype.getCurrentPage</code>，可使用更功能更强大的 <code>getCurrentPages</code> 替代 <a href="#framework/app-service/app.html%3Ft=20161107#appprototypegetcurrentpage">详情</a>
</li>
<li><code>D</code> 即将移除 <code>&lt;audio/&gt;</code> action 属性，可使用更方便的音频组件控制 API 替代 <a href="#api/api-audio.html%3Ft=20161107">详情</a>
</li>
<li><code>D</code> 即将移除组件： <code>&lt;toast/&gt;</code> <code>&lt;loading/&gt;</code> <code>&lt;action-sheet/&gt;</code> <code>&lt;modal/&gt;</code>, 可使用更方便的交互反馈 API 替代 <a href="#api/api-react.html%3Ft=20161107">详情</a>
</li></ol>
<h3 id="devtools/download.html?t=20161107#开发者工具基础功能">开发者工具基础功能</h3><ol><li><code>A</code> 增加 监听文件变化，实时刷新模拟器，默认开启，开发者可以在项目中主动关闭
</li>
<li><code>A</code> 增加 登陆界面增加代理配置、切换账号
</li>
<li><code>A</code> 增加 所有新增 API 以及 组件的调试功能
</li>
<li><code>A</code> 增加 更友好的错误提示功能
</li>
<li><code>A</code> 增加 wxml panel rpx 调试支持
</li>
<li><code>A</code> 增加 wxml panel 实时修改同步模拟器的功能
</li>
<li><code>A</code> 增加 <code>wx.previewImage</code> API 调试支持
</li>
<li><code>F</code> 修复 工具中无法模拟字体小于 12px 的问题
</li>
<li><code>F</code> 修复 picker 组件的 start、end 无效的问题
</li>
<li><code>F</code> 修复 video 组件无法滑动进度条的问题
</li>
<li><code>F</code> 修复 <code>wx.getSystemInfo</code> 再有 tabbar 情况下获取高度错误的问题
</li>
<li><code>F</code> 修复 <code>wx.chooseImage</code> 设置count无效的问题
</li>
<li><code>F</code> 修复 Page.onLoad 时调用 wx.setNavigationBarTitle 失败的问题
</li>
<li><code>F</code> 修复 wxml panel 空白以及选择时候卡顿的问题
</li>
<li><code>F</code> 修复 脚本文件名字为中文时候的编译错误问题
</li>
<li><code>F</code> 修复 关闭项目时候没有关闭媒体播放的问题
</li></ol>
<h3 id="devtools/download.html?t=20161107#编辑模块">编辑模块</h3><ol><li><code>A</code> 增加 文件自动保存功能 <a href="#devtools/edit.html%3Ft=20161107">详情</a>
</li>
<li><code>A</code> 增加 编辑显示模拟器并且实时刷新
</li>
<li><code>A</code> 增加 Ctrl + \ 文件树展开和收起
</li>
<li><code>A</code> 增加 Ctrl + w 关闭当前编辑页面
</li>
<li><code>A</code> 增加 Ctrl + p 文件跳转
</li>
<li><code>A</code> 增加 Ctrl + m 打开或者关闭模拟器
</li>
<li><code>A</code> 增加 编辑器底部状态栏
</li>
<li><code>A</code> 增加 json wxml 代码自动补全以及提示功能
</li>
<li><code>F</code> 修复光标丢失的问题
</li></ol>
<h2 id="devtools/download.html?t=20161107#历史更新日志">历史更新日志</h2><p><a href="#devtools/uplog.html%3Ft=20161107">历史更新日志</a></p>

                                </section>

    </div>
    <div class="search-results">
        <div class="has-results">

            <h1 class="search-results-title"><span class="search-results-count"></span> 个结果 "<span class="search-query"></span>"</h1>
            <ul class="search-results-list"></ul>

        </div>
        <div class="no-results">

            <h1 class="search-results-title">没有找到相关内容 "<span class="search-query"></span>"</h1>

        </div>
    </div>
</div>

                        </div>
                    </div>
<div class="page-wrapper" id="devtools/uplog.html?t=20161107" tabindex="-1" role="main">                        <div class="page-inner">
<h1 id=".$ulink.">历史更新日志</h1>
<div id="book-search-results">
    <div class="search-noresults">

                                <section class="normal markdown-section">

                                <h2 id="devtools/uplog.html?t=20161107#更新日志（010101400）小版本更新">更新日志（0.10.101400）小版本更新</h2><h3 id="devtools/uplog.html?t=20161107#开发者工具基础功能">开发者工具基础功能</h3><ol><li><code>F</code> 修复 下拉刷新无法使用的问题
</li>
<li><code>F</code> 修复 app.json 文件修改后开发工具没有及时更新的问题
</li></ol>
<h2 id="devtools/uplog.html?t=20161107#更新日志（010101100）大版本更新">更新日志（0.10.101100）大版本更新</h2><h3 id="devtools/uplog.html?t=20161107#基础功能">基础功能</h3><ol><li><code>A</code> 增加 <code>&lt;video/&gt;</code> Android 添加了默认的控件
</li>
<li><code>A</code> 增加 模块化中可使用 <code>exports</code> 对外暴露接口
</li>
<li><code>A</code> 增加 模块化中 <code>require</code> 可不写 <code>.js</code> 后缀
</li>
<li><code>F</code> 修复 <code>&lt;swiper/&gt;</code> 滑动灵敏度
</li>
<li><code>F</code> 修复 <code>&lt;toast/&gt;</code> 中图标位置偏上，没有居中的问题
</li>
<li><code>F</code> 修复 <code>&lt;view/&gt;</code> 标签 hidden 属性失效的问题
</li>
<li><code>F</code> 修复 <code>&lt;input/&gt;</code> iOS10 下首次输入不显示的问题
</li>
<li><code>F</code> 修复 <code>&lt;button/&gt;</code> type="mini" 的问题
</li>
<li><code>F</code> 修复 <code>&lt;button/&gt;</code> 出现 loading 时，loading和文字对齐的问题
</li>
<li><code>F</code> 修复 <code>&lt;canvas/&gt;</code> drawImage 图片路径不正确的问题
</li>
<li><code>F</code> 修复 Page 中 data 之外的数据无法被重置的问题
</li>
<li><code>F</code> 修复 大小写导致的 wx.request 的 header 参数属性被重复设置的问题
</li>
<li><code>F</code> 修复 app.js 中无法使用 <code>require</code> 的问题
</li>
<li><code>R</code> 移除 <code>&lt;switch/&gt;</code> 组件多余点击态
</li>
<li><code>R</code> 移除 <code>&lt;view/&gt;</code> 标签 inline 属性
</li>
<li><code>R</code> 移除 <code>&lt;page/&gt;</code> 标签的 height 100% 的默认样式
</li></ol>
<h3 id="devtools/uplog.html?t=20161107#开发者工具基础功能">开发者工具基础功能</h3><ol><li><code>A</code> 增加 ES6 到 ES5 的转换，默认开启，开发者可以在项目中主动关闭
</li>
<li><code>A</code> 增加 提交代码时候可选压缩代码，默认关闭，开发者可以在项目中主动开启
</li>
<li><code>A</code> 增加 <code>wx.uploadFile</code> 和 <code>wx.downloadFile</code> 调试支持
</li>
<li><code>A</code> 增加 下拉刷新的调试支持
</li>
<li><code>A</code> 增加 <code>&lt;form/&gt;</code> reportSubmit 模式模拟返回 formId 调试支持
</li>
<li><code>A</code> 增加 <code>&lt;video/&gt;</code> 添加了滑动进度条的功能
</li>
<li><code>A</code> 增加 <code>&lt;picker/&gt;</code> mode=time mode=date
</li>
<li><code>F</code> 修复 打开地图导致错误的问题
</li>
<li><code>F</code> 修复 <code>&lt;map/&gt;</code> 组件不显示的问题
</li>
<li><code>F</code> 修复 <code>&lt;canvas/&gt;</code> 中 drawImage 闪烁的问题
</li>
<li><code>F</code> 修复 json 中 <code>navigationBarTextStyle</code> 缺省值设置出错的问题
</li>
<li><code>F</code> 修复 <code>&lt;picker/&gt;</code> 在表单提交事件中 value 为空的问题
</li>
<li><code>F</code> 修复 背景音乐停止时会触发一次 <code>wx.onBackgroundAudioPause</code> 的问题
</li>
<li><code>F</code> 修复 <code>wx.request</code> 超时会触发两次 <code>fail</code> 和 <code>complete</code> 回调的问题
</li>
<li><code>F</code> 修复 小屏幕下开发者工具无法拖动到底部的问题
</li>
<li><code>F</code> 修复 <code>wx.setStorage</code> 没有限制大小的问题
</li>
<li><code>F</code> 修复 某些情况下修改了代码文件但工具没有更新的问题
</li></ol>
<h3 id="devtools/uplog.html?t=20161107#编辑模块">编辑模块</h3><ol><li><code>A</code> 增加 侧边栏可以拖拽位置保存
</li>
<li><code>A</code> 增加 快捷键 <code>ctrl + \</code> or <code>command + \</code> 隐藏侧边栏
</li>
<li><code>A</code> 增加 文件页卡可以拖动排序的功能
</li>
<li><code>F</code> 修复 <code>wx.setNavitionBarTitle</code> 提示错误的问题
</li>
<li><code>F</code> 修复 某些情况下文件修改不生效的问题
</li></ol>


                                </section>

    </div>
    <div class="search-results">
        <div class="has-results">

            <h1 class="search-results-title"><span class="search-results-count"></span> 个结果 "<span class="search-query"></span>"</h1>
            <ul class="search-results-list"></ul>

        </div>
        <div class="no-results">

            <h1 class="search-results-title">没有找到相关内容 "<span class="search-query"></span>"</h1>

        </div>
    </div>
</div>

                        </div>
                    </div>
<div class="page-wrapper" id="qa/qa.html?t=20161107" tabindex="-1" role="main">                        <div class="page-inner">
<h1 id=".$ulink.">Q&amp;A</h1>
<div id="book-search-results">
    <div class="search-noresults">

                                <section class="normal markdown-section">

                                <h2 id="qa/qa.html?t=20161107#怎么获取用户输入">怎么获取用户输入</h2><p>能够获取用户输入的组件，需要使用组件的属性<code>bindchange</code>将用户的输入内容同步到 AppService。</p><pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"myInput"</span> <span class="hljs-attr">bindchange</span>=<span class="hljs-string">"bindChange"</span> /&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">checkbox</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"myCheckbox"</span> <span class="hljs-attr">bindchange</span>=<span class="hljs-string">"bindChange"</span> /&gt;</span></code></pre>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> inputContent = {}

Page({
  data: {
    inputContent: {}
  },
    bindChange: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
        inputContent[e.currentTarget.id] = e.detail.value
    }
})</code></pre>
<h2 id="qa/qa.html?t=20161107#为什么脚本内不能使用window等对象">为什么脚本内不能使用<code>window</code>等对象</h2><p>页面的脚本逻辑是在<code>JsCore</code>中运行，<code>JsCore</code>是一个没有窗口对象的环境，所以不能在脚本中使用<code>window</code>，也无法在脚本中操作组件</p><h2 id="qa/qa.html?t=20161107#为什么-zeptojquery-无法使用">为什么 zepto/jquery 无法使用</h2><p>zepto/jquery 会使用到<code>window</code>对象和<code>document</code>对象，所以无法使用。</p><h2 id="qa/qa.html?t=20161107#wxnavigateto无法打开页面"><code>wx.navigateTo</code>无法打开页面</h2><p>一个应用同时只能打开5个页面，当已经打开了5个页面之后，<code>wx.navigateTo</code>不能正常打开新页面。请避免多层级的交互方式，或者使用<a href="#api/ui-navigate.html%3Ft=20161107#wxredirecttoobject"><code>wx.redirectTo</code></a></p><h2 id="qa/qa.html?t=20161107#样式表不支持级联选择器">样式表不支持级联选择器</h2><p>WXSS支持以<code>.</code>开始的类选择器。如：</p><pre><code class="lang-css"><span class="hljs-selector-class">.normal_view</span> {
  <span class="hljs-attribute">color</span>: <span class="hljs-number">#000000</span>;
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">10px</span>;
}</code></pre>
<p>可以使用标签选择器，控制同一类组件的样式。如：使用input标签选择器控制<code>&lt;input/&gt;</code>的默认样式。</p><pre><code class="lang-css"><span class="hljs-selector-tag">input</span> {
  <span class="hljs-attribute">width</span>: <span class="hljs-number">100px</span>;
}</code></pre>
<h2 id="qa/qa.html?t=20161107#本地资源无法通过-css-获取">本地资源无法通过 css 获取</h2><p><code>background-image</code>：可以使用网络图片，或者 base64，或者使用<code>&lt;image/&gt;</code>标签</p><h2 id="qa/qa.html?t=20161107#如何修改窗口的背景色">如何修改窗口的背景色</h2><p>使用 page 标签选择器，可以修改顶层节点的样式</p><pre><code class="lang-css"><span class="hljs-selector-tag">page</span> {
  <span class="hljs-attribute">display</span>: block;
  <span class="hljs-attribute">min-height</span>: <span class="hljs-number">100%</span>;
  <span class="hljs-attribute">background-color</span>: red;
}</code></pre>
<h2 id="qa/qa.html?t=20161107#为什么上传不成功">为什么上传不成功</h2><p>为了提升体验流畅度，编译后的代码包大小需小于 1MB ，大于 1MB 的代码包将上传失败。</p>

                                </section>

    </div>
    <div class="search-results">
        <div class="has-results">

            <h1 class="search-results-title"><span class="search-results-count"></span> 个结果 "<span class="search-query"></span>"</h1>
            <ul class="search-results-list"></ul>

        </div>
        <div class="no-results">

            <h1 class="search-results-title">没有找到相关内容 "<span class="search-query"></span>"</h1>

        </div>
    </div>
</div>

                        </div>
                    </div>
<div class="page-wrapper" id="qa/contact.html?t=20161107" tabindex="-1" role="main">                        <div class="page-inner">
<h1 id=".$ulink.">联系我们</h1>
<div id="book-search-results">
    <div class="search-noresults">

                                <section class="normal markdown-section">

                                <p>我们建议你先完整阅读该开发文档，这将有助于更快地完成开发。如果发现我们的文档有任何错漏，或者开发过程中有任何疑问，欢迎通过下列邮箱联系我们。</p><blockquote><p>weixin_developer@qq.com</p></blockquote><p>为方便定位原因，如果是开发过程中的问题，我们建议你提供更多信息，包括但不限于：</p><blockquote><p>公司名称</p><p>mp账户</p><p>开发者微信号</p><p>机型</p><p>操作系统</p><p>是否必现</p><p>出现时间</p><p>操作路径</p><p>问题描述</p><p>问题截图</p><p>代码片段截图</p></blockquote>

                                </section>

    </div>
    <div class="search-results">
        <div class="has-results">

            <h1 class="search-results-title"><span class="search-results-count"></span> 个结果 "<span class="search-query"></span>"</h1>
            <ul class="search-results-list"></ul>

        </div>
        <div class="no-results">

            <h1 class="search-results-title">没有找到相关内容 "<span class="search-query"></span>"</h1>

        </div>
    </div>
</div>

                        </div>
                    </div>
        <div class="foot" id="footer">
            <ul class="links ft">
                <li class="links_item"><a href="index.html">关于腾讯</a></li>
                <li class="links_item"><a href="index.html">服务协议</a></li>
                <li class="links_item"><a href="index.html">运营规范</a></li>
                <li class="links_item"><a href="index.html">辟谣中心</a></li>
                <li class="links_item"><a href="index.html">客服中心</a></li>
                <li class="links_item"><a href="index.html">联系邮箱</a></li>
                <li class="links_item"><a href="index.html">侵权投诉</a></li>
                <li class="links_item">
                    <p class="copyright">Copyright © 2012-<span id="s_copyright_year"></span> Tencent. All Rights Reserved.</p>
                </li>
            </ul>
        </div>

        </div>
    </div>
</div>

    <!-- <script>
            var dom = document.getElementById('js_selected_dev')
    		if (dom) {
    			dom.classList.add('selected')
    		}
    </script> -->

    <script src="../gitbook/gitbook.js?t=20161107"></script>
    <script src="../gitbook/theme.js?t=20161107"></script>
    <script src="../gitbook/gitbook-plugin-search/search-engine.js?t=20161107"></script>
    <script src="../gitbook/gitbook-plugin-search/search.js?t=20161107"></script>
    <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js?t=20161107"></script>
    <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js?t=20161107"></script>

    <!-- <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"配置","level":"1.2.2","depth":2,"next":{"title":"逻辑层","level":"1.2.3","depth":2,"path":"framework/app-service/index.md","ref":"framework/app-service/index.md","articles":[{"title":"注册程序","level":"1.2.3.1","depth":3,"path":"framework/app-service/app.md","ref":"framework/app-service/app.md","articles":[]},{"title":"注册页面","level":"1.2.3.2","depth":3,"path":"framework/app-service/page.md","ref":"framework/app-service/page.md","articles":[]},{"title":"模块化","level":"1.2.3.3","depth":3,"path":"framework/app-service/module.md","ref":"framework/app-service/module.md","articles":[]},{"title":"API","level":"1.2.3.4","depth":3,"path":"framework/app-service/api.md","ref":"framework/app-service/api.md","articles":[]}]},"previous":{"title":"目录结构","level":"1.2.1","depth":2,"path":"framework/structure.md","ref":"framework/structure.md","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":[],"pluginsConfig":{"highlight":{},"search":{},"lunr":{"ignoreSpecialCharacters":false,"maxIndexSize":1000000},"theme-default":{"showLevel":false,"styles":{"ebook":"styles/ebook.css","epub":"styles/epub.css","mobi":"styles/mobi.css","pdf":"styles/pdf.css","print":"styles/print.css","website":"styles/website.css"}}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"ebook":"styles/ebook.css","epub":"styles/epub.css","mobi":"styles/mobi.css","pdf":"styles/pdf.css","print":"styles/print.css","website":"styles/website.css"}},"file":{"path":"framework/config.md","mtime":"2016-11-01T11:58:08.000Z","type":"markdown"},"gitbook":{"version":"3.2.0","time":"2016-11-03T09:50:25.860Z"},"basePath":"..","book":{"language":""}});
        });
    </script> -->

</body></html>
